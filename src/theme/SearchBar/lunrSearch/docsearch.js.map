{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/autocomplete.js/src/common/utils.js","webpack:///./node_modules/autocomplete.js/src/common/dom.js","webpack:///./node_modules/lunr/lunr.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/event_emitter.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/css.js","webpack:///./node_modules/autocomplete.js/zepto.js","webpack:///./node_modules/hogan.js/lib/hogan.js","webpack:///./node_modules/autocomplete.js/index.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/event_bus.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/html.js","webpack:///./node_modules/autocomplete.js/version.js","webpack:///./node_modules/autocomplete.js/src/common/parseAlgoliaClientVersion.js","webpack:///./node_modules/hogan.js/lib/compiler.js","webpack:///./node_modules/hogan.js/lib/template.js","webpack:///./node_modules/autocomplete.js/src/standalone/index.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/typeahead.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/input.js","webpack:///./node_modules/immediate/lib/index.js","webpack:///./node_modules/immediate/lib/nextTick.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/immediate/lib/mutation.js","webpack:///./node_modules/immediate/lib/messageChannel.js","webpack:///./node_modules/immediate/lib/stateChange.js","webpack:///./node_modules/immediate/lib/timeout.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/dropdown.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/dataset.js","webpack:///./node_modules/autocomplete.js/src/sources/index.js","webpack:///./node_modules/autocomplete.js/src/sources/hits.js","webpack:///./node_modules/autocomplete.js/src/sources/popularIn.js","webpack:///./src/theme/SearchBar/lunrSearch/lib/lunar-search.js","webpack:///./src/theme/SearchBar/lunrSearch/lib/templates.js","webpack:///./src/theme/SearchBar/lunrSearch/lib/zepto.js","webpack:///./src/theme/SearchBar/lunrSearch/lib/utils.js","webpack:///./src/theme/SearchBar/lunrSearch/lib/DocSearch.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","counter","DOM","escapeRegExp","str","replace","isArray","isFunction","isObject","each","map","mixin","isMsie","agentString","undefined","navigator","userAgent","test","match","escapeRegExChars","isNumber","obj","toStr","cloneDeep","clone","this","self","concat","error","msg","Error","every","result","val","any","found","getUniqueId","templatify","$template","element","prop","text","String","defer","fn","setTimeout","noop","formatPrefix","prefix","noPrefix","className","clazz","skipDot","escapeHighlightedString","highlightPreTag","highlightPostTag","pre","document","createElement","appendChild","createTextNode","post","div","innerHTML","RegExp","global","step2list","step3list","v","C","re_mgr0","re_mgr1","re_meq1","re_s_v","re_1a","re2_1a","re_1b","re2_1b","re_1b_2","re2_1b_2","re3_1b_2","re4_1b_2","re_1c","re_2","re_3","re_4","re2_4","re_5","re_5_1","re3_5","porterStemmer","lunr","config","builder","Builder","pipeline","add","trimmer","stopWordFilter","stemmer","searchPipeline","build","version","utils","warn","message","console","asString","toString","keys","length","Array","slice","TypeError","FieldRef","docRef","fieldName","stringValue","_stringValue","joiner","fromString","indexOf","fieldRef","Set","elements","complete","intersect","other","union","contains","empty","a","b","intersection","push","idf","posting","documentCount","documentsWithTerm","x","Math","log","abs","Token","metadata","update","tokenizer","toLowerCase","len","tokens","sliceEnd","sliceStart","sliceLength","charAt","separator","tokenMetadata","Pipeline","_stack","registeredFunctions","registerFunction","label","warnIfFunctionNotRegistered","load","serialised","forEach","fnName","fns","arguments","after","existingFn","newFn","pos","splice","before","remove","run","stackLength","memo","j","k","runString","token","reset","toJSON","Vector","_magnitude","positionForIndex","index","start","end","pivotPoint","floor","pivotIndex","insert","insertIdx","upsert","position","magnitude","sumOfSquares","elementsLength","sqrt","dot","otherVector","dotProduct","aLen","bLen","aVal","bVal","similarity","toArray","output","w","stem","suffix","firstch","re","re2","re3","re4","substr","toUpperCase","fp","exec","generateStopWordFilter","stopWords","words","reduce","stopWord","TokenSet","final","edges","id","_nextId","fromArray","arr","finish","root","fromClause","clause","fromFuzzyString","term","editDistance","stack","node","editsRemaining","frame","pop","noEditNode","char","insertionNode","substitutionNode","transposeNode","charA","charB","next","edge","_str","labels","sort","qNode","qEdges","qLen","nEdges","nLen","q","qEdge","nEdge","previousWord","uncheckedNodes","minimizedNodes","word","commonPrefix","minimize","child","nextNode","parent","downTo","childKey","Index","attrs","invertedIndex","fieldVectors","tokenSet","fields","search","queryString","query","QueryParser","parse","Query","matchingFields","queryVectors","termFieldCache","requiredMatches","prohibitedMatches","clauses","terms","clauseMatches","usePipeline","termTokenSet","expandedTerms","presence","REQUIRED","field","expandedTerm","termIndex","_index","fieldPosting","matchingDocumentRefs","termField","matchingDocumentsSet","PROHIBITED","boost","fieldMatch","matchingDocumentRef","matchingFieldRef","MatchData","allRequiredMatches","allProhibitedMatches","matchingFieldRefs","results","matches","isNegated","docMatch","fieldVector","score","matchData","combine","ref","serializedIndex","serializedVectors","serializedInvertedIndex","tokenSetBuilder","tuple","_ref","_fields","_documents","fieldTermFrequencies","fieldLengths","_b","_k1","metadataWhitelist","attributes","RangeError","number","k1","doc","extractor","fieldTerms","metadataKey","calculateAverageFieldLengths","fieldRefs","numberOfFields","accumulator","documentsWithField","averageFieldLength","createFieldVectors","fieldRefsLength","termIdfCache","fieldLength","termFrequencies","termsLength","fieldBoost","docBoost","scoreWithPrecision","tf","round","createTokenSet","use","args","unshift","apply","clonedMetadata","metadataKeys","otherMatchData","allFields","wildcard","NONE","LEADING","TRAILING","OPTIONAL","options","QueryParseError","QueryLexer","lexemes","escapeCharPositions","state","lexText","sliceString","subSlices","join","emit","type","escapeCharacter","EOS","width","ignore","backup","acceptDigitRun","charCode","charCodeAt","more","FIELD","TERM","EDIT_DISTANCE","BOOST","PRESENCE","lexField","lexer","lexTerm","lexEditDistance","lexBoost","lexEOS","termSeparator","currentClause","lexemeIdx","parseClause","peekLexeme","consumeLexeme","lexeme","nextClause","completedClause","parser","parsePresence","parseField","parseTerm","errorMessage","nextLexeme","possibleFields","f","parseEditDistance","parseBoost","parseInt","isNaN","immediate","splitter","on","method","types","cb","context","split","bindContext","_callbacks","shift","sync","async","getFlush","callbacks","cancelled","onSync","onAsync","off","trigger","syncFlush","asyncFlush","g","Function","e","window","_","css","wrapper","display","hint","top","left","borderColor","boxShadow","opacity","input","verticalAlign","backgroundColor","inputWithNoHint","dropdown","zIndex","suggestions","suggestion","whiteSpace","cursor","suggestionChild","ltr","right","rtl","defaultClasses","dropdownMenu","dataset","appendTo","backgroundImage","marginTop","timeout","cache","Zepto","$","classList","camelize","uniq","emptyArray","filter","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","table","tableRow","containers","readyRE","simpleSelectorRE","class2type","zepto","tempParent","propMap","isWindow","isDocument","nodeType","DOCUMENT_NODE","isPlainObject","getPrototypeOf","likeArray","dasherize","classRE","maybeAddPx","children","childNodes","Z","dom","selector","extend","target","source","deep","filtered","nodes","funcArg","arg","idx","payload","setAttribute","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","fun","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","parentNode","temp","qsa","removeChild","chr","array","item","fragment","html","properties","container","$1","attr","isZ","init","trim","find","ready","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","documentElement","isEmptyObject","isNumeric","num","Number","isFinite","inArray","elem","camelCase","uuid","support","expr","callback","values","grep","JSON","constructor","el","readyState","body","addEventListener","size","not","is","excludes","has","eq","first","last","$this","some","closest","collection","parents","ancestors","pluck","contents","contentDocument","siblings","show","nodeName","style","getComputedStyle","getPropertyValue","replaceWith","newContent","wrap","structure","func","wrapAll","cloneNode","append","wrapInner","unwrap","hide","toggle","setting","prev","originHtml","newText","textContent","getAttribute","removeAttr","attribute","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","props","getBoundingClientRect","pageXOffset","pageYOffset","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","removeClass","toggleClass","when","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","parseFloat","detach","dimension","dimensionProperty","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","zid","findHandlers","event","matcher","handler","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","dataPropDescriptor","getOwnPropertyDescriptor","writable","_args","preventDefault","stopPropagation","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","isDefaultPrevented","predicate","sourceMethod","timeStamp","Date","now","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","tagName","clearTimeout","dataAttr","exp","expando","setData","store","attributeData","camelName","getData","hasData","removeData","names","methodName","origFn","factory","Hogan","Template","template","EventBus","$el","agent","parsed","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","cleanTripleStache","substring","tagChange","tag","tags","scan","delimiters","tagType","buf","seenTag","lineStart","otag","ctag","addBuf","filterLine","haveSeenTag","noNewLine","isAllWhitespace","lineIsWhitespace","indent","changeDelimiters","close","closeIndex","allowedInSuper","isOpener","isCloser","open","stringifyPartials","codeObj","partials","esc","items","stringifySubstitutions","subs","stringify","wrapMain","code","serialNo","chooseMethod","createPartial","sym","tripleStache","write","generate","tree","walk","makeTemplate","makePartials","codegen","ctx","inPartial","nodelist","buildTree","kind","customTags","tail","instructions","opener","sectionTags","cacheKey","disableLambda","modelGet","compile","instance","findInScope","scope","doModelGet","compiler","coerceToString","hChars","rAmp","rLt","rGt","rApos","render","ri","ep","symbol","partial","base","stackText","activeSub","stackSubs","stackPartials","PartialTemplate","Substitutions","subsText","createSpecializedPartial","rp","rs","section","inverted","pass","ms","returnFound","cx","mv","ls","oldTags","ct","fl","textSource","sub","Typeahead","autocomplete","datasets","typeaheadObject","inputs","$input","eventBus","typeahead","dropdownMenuContainer","minLength","autoselect","autoselectOnBlur","tabAutocomplete","openOnFocus","templates","debug","clearOnSelected","cssClasses","keyboardShortcuts","autoWidth","ariaLabel","methodArguments","sources","wasAutocompleteSet","oldAutocomplete","noConflict","Input","Dropdown","$menu","$hint","isActivated","formattedPrefix","listboxId","domElts","$wrapper","$dropdown","dropdownHtml","role","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","getBackgroundStyles","spellcheck","tabindex","dir","displayKey","prepend","menu","buildDom","$node","$e","active","activeElement","_onSuggestionClicked","_onCursorMoved","_onCursorRemoved","_onOpened","_onClosed","_onShown","_onEmpty","_onRedrawn","_onDatasetRendered","_onFocused","_onBlurred","_onEnterKeyed","_onTabKeyed","_onEscKeyed","_onUpKeyed","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","_onWhitespaceChanged","_bindKeyboardShortcuts","_setLanguageDirection","keydown","elt","srcElement","isContentEditable","which","keyCode","datum","getDatumForSuggestion","_select","selectionMethod","updateInput","getDatumForCursor","currentCursorId","getCurrentCursor","setActiveDescendant","setInputValue","raw","datasetName","resetInputValue","_updateHint","expand","inputRect","wrapperRect","bottom","cursorTopSuggestion","clearHint","removeActiveDescendant","collapse","getQuery","cursorDatum","topSuggestionDatum","getDatumForTopSuggestion","_autocomplete","isEmpty","moveCursorUp","moveCursorDown","clearHintIfInvalid","getLanguageDirection","setLanguageDirection","escapedQuery","isVisible","hasOverflow","getInputValue","normalizeQuery","setHint","laxCursor","isCursorAtEnd","getHint","setQuery","setVal","getVal","destroy","insertAfter","destroyDomStructure","getWrapper","$container","specialKeyCodeMap","9","27","37","39","13","38","40","EventEmitter","onBlur","onFocus","onKeydown","onInput","that","_onBlur","_onFocus","_onKeydown","_onInput","$overflowHelper","visibility","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","withModifier","altKey","ctrlKey","metaKey","shiftKey","keyName","_managePreventDefault","_shouldTrigger","_checkInputValue","hintValue","inputValue","areEquivalent","hasDifferentWhitespace","silent","activedescendantId","valIsPrefixOfHint","constraint","valueLength","selectionStart","range","selection","createRange","moveStart","draining","currentQueue","scheduleDrain","queueIndex","queue","scheduled","cleanUpNextTick","nextTick","install","Item","task","process","browser","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","drainQueue","marker","runClearTimeout","title","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Mutation","MutationObserver","WebKitMutationObserver","handle","called","observer","observe","characterData","setImmediate","MessageChannel","channel","port1","onmessage","port2","postMessage","scriptEl","onreadystatechange","Dataset","onSuggestionClick","onSuggestionMouseEnter","onSuggestionMouseLeave","isOpen","_onSuggestionClick","_onSuggestionMouseEnter","_onSuggestionMouseLeave","cssClass","header","$empty","oDataset","initializeDataset","getRoot","_onRendered","footer","resize","_redraw","_removeCursor","_setCursor","_hide","_show","_getSuggestions","_getCursor","_moveCursor","increment","$suggestions","$oldCursor","newCursorIndex","$newCursor","_ensureVisible","elTop","elBottom","menuScrollTop","menuHeight","extractDatum","extractValue","extractDatasetName","clear","displayFn","_isEmpty","highlight","debounce","clearCachedSuggestions","_render","hasSuggestions","renderArgs","getEmptyHtml","getHeaderHtml","getFooterHtml","getSuggestionsHtml","suggestionsHtml","getSuggestionNode","suggestionHtml","random","handleSuggestions","canceled","extraArgs","cacheSuggestions","shouldFetchFromCache","cachedSuggestions","cachedRenderExtraArgs","execSource","debounceTimeout","cachedQuery","cancel","hits","popularIn","parseAlgoliaClientVersion","params","algoliaVersion","as","_ua","additionalUA","content","details","hit","detailsIndex","detailsParams","hitsPerPage","detailsAlgoliaVersion","error2","content2","includeAll","allTitle","facet","count","nbHits","facets","LunrSearchAdapter","searchData","lunrIndex","formattedTitle","hierarchy","lvl0","pageTitle","lvl1","url","_highlightResult","Promise","resolve","rej","getLunrResult","getTitleHit","suggestionPrefix","footerPrefix","suggestionSimple","searchBox","mergeKeyWithParent","newObject","groupBy","newCollection","flatten","subvalue","flattenAndFlagFirst","flag","compact","getHighlightedValue","hierarchy_camel","matchLevel","getSnippetedValue","_snippetResult","snippet","deepClone","DocSearch","inputSelector","queryDataCallback","autocompleteOptions","transformData","queryHook","handleSelected","enhancedSearchInput","layout","checkArguments","getInputFromSelector","autocompleteOptionsDebug","inputAriaLabel","isSimpleLayout","client","injectSearchBox","getAutocompleteSource","getSuggestionTemplate","getEmptyTemplate","customHandleSelected","handleShown","bindSearchBoxEvent","newInput","searchbox","querySelector","receivedHits","groupedHits","level","groupedHitsByLvl1","flattenedHits","formatURL","category","subcategory","displayTitle","isTextOrSubcategoryNonEmpty","isLvl2","isLvl1","isLvl0","isLvl1EmptyOrDuplicate","isCategoryHeader","isSubCategoryHeader","anchor","stringTemplate","then","formatHits","datasetNumber","location","assign","middleOfInput","middleOfWindow","alignClass","otherAlignClass","autocompleteWrapper"],"mappings":"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,EAAQD,EAAUE,QAAO,SAAUjD,EAAMkD,GAE3C,OADAlD,EAAKkD,GAAYA,EACVlD,IACN,IAEH,OAAO,SAAUI,GACf,GAAIA,GAAS4C,EAAM5C,EAAMzE,cAAgByE,EAAMzE,WAAY,OAAOyE,IAiBtE1F,EAAKO,eAAiBP,EAAKoI,uBAAuB,CAChD,IACA,OACA,QACA,SACA,QACA,MACA,SACA,OACA,KACA,QACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,UACA,OACA,MACA,KACA,MACA,SACA,QACA,OACA,MACA,KACA,OACA,SACA,OACA,OACA,QACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,KACA,MACA,OACA,MACA,MACA,MACA,UACA,IACA,KACA,KACA,OACA,KACA,KACA,MACA,OACA,QACA,MACA,OACA,SACA,MACA,KACA,QACA,OACA,OACA,KACA,UACA,KACA,MACA,MACA,KACA,MACA,QACA,KACA,OACA,KACA,QACA,MACA,MACA,SACA,OACA,MACA,OACA,MACA,SACA,QACA,KACA,OACA,OACA,OACA,MACA,QACA,OACA,OACA,QACA,QACA,OACA,OACA,MACA,KACA,MACA,OACA,KACA,QACA,MACA,KACA,OACA,OACA,OACA,QACA,QACA,QACA,MACA,OACA,MACA,OACA,OACA,QACA,MACA,MACA,SAGFpI,EAAKiE,SAASG,iBAAiBpE,EAAKO,eAAgB;;;;IAqBpDP,EAAKM,QAAU,SAAUoF,GACvB,OAAOA,EAAMpC,QAAO,SAAUjJ,GAC5B,OAAOA,EAAEK,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,QAIjDsF,EAAKiE,SAASG,iBAAiBpE,EAAKM,QAAS;;;;IA2B7CN,EAAKyI,SAAW,WACd3M,KAAK4M,OAAQ,EACb5M,KAAK6M,MAAQ,GACb7M,KAAK8M,GAAK5I,EAAKyI,SAASI,QACxB7I,EAAKyI,SAASI,SAAW,GAW3B7I,EAAKyI,SAASI,QAAU,EASxB7I,EAAKyI,SAASK,UAAY,SAAUC,GAGlC,IAFA,IAAI7I,EAAU,IAAIF,EAAKyI,SAAStI,QAEvB7H,EAAI,EA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","file":"docsearch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","'use strict';\n\nvar DOM = require('./dom.js');\n\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nmodule.exports = {\n  // those methods are implemented differently\n  // depending on which build it is, using\n  // $... or angular... or Zepto... or require(...)\n  isArray: null,\n  isFunction: null,\n  isObject: null,\n  bind: null,\n  each: null,\n  map: null,\n  mixin: null,\n\n  isMsie: function(agentString) {\n    if (agentString === undefined) { agentString = navigator.userAgent; }\n    // from https://github.com/ded/bowser/blob/master/bowser.js\n    if ((/(msie|trident)/i).test(agentString)) {\n      var match = agentString.match(/(msie |rv:)(\\d+(.\\d+)?)/i);\n      if (match) { return match[2]; }\n    }\n    return false;\n  },\n\n  // http://stackoverflow.com/a/6969486\n  escapeRegExChars: function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  },\n\n  isNumber: function(obj) { return typeof obj === 'number'; },\n\n  toStr: function toStr(s) {\n    return s === undefined || s === null ? '' : s + '';\n  },\n\n  cloneDeep: function cloneDeep(obj) {\n    var clone = this.mixin({}, obj);\n    var self = this;\n    this.each(clone, function(value, key) {\n      if (value) {\n        if (self.isArray(value)) {\n          clone[key] = [].concat(value);\n        } else if (self.isObject(value)) {\n          clone[key] = self.cloneDeep(value);\n        }\n      }\n    });\n    return clone;\n  },\n\n  error: function(msg) {\n    throw new Error(msg);\n  },\n\n  every: function(obj, test) {\n    var result = true;\n    if (!obj) {\n      return result;\n    }\n    this.each(obj, function(val, key) {\n      if (result) {\n        result = test.call(null, val, key, obj) && result;\n      }\n    });\n    return !!result;\n  },\n\n  any: function(obj, test) {\n    var found = false;\n    if (!obj) {\n      return found;\n    }\n    this.each(obj, function(val, key) {\n      if (test.call(null, val, key, obj)) {\n        found = true;\n        return false;\n      }\n    });\n    return found;\n  },\n\n  getUniqueId: (function() {\n    var counter = 0;\n    return function() { return counter++; };\n  })(),\n\n  templatify: function templatify(obj) {\n    if (this.isFunction(obj)) {\n      return obj;\n    }\n    var $template = DOM.element(obj);\n    if ($template.prop('tagName') === 'SCRIPT') {\n      return function template() { return $template.text(); };\n    }\n    return function template() { return String(obj); };\n  },\n\n  defer: function(fn) { setTimeout(fn, 0); },\n\n  noop: function() {},\n\n  formatPrefix: function(prefix, noPrefix) {\n    return noPrefix ? '' : prefix + '-';\n  },\n\n  className: function(prefix, clazz, skipDot) {\n    return (skipDot ? '' : '.') + prefix + clazz;\n  },\n\n  escapeHighlightedString: function(str, highlightPreTag, highlightPostTag) {\n    highlightPreTag = highlightPreTag || '<em>';\n    var pre = document.createElement('div');\n    pre.appendChild(document.createTextNode(highlightPreTag));\n\n    highlightPostTag = highlightPostTag || '</em>';\n    var post = document.createElement('div');\n    post.appendChild(document.createTextNode(highlightPostTag));\n\n    var div = document.createElement('div');\n    div.appendChild(document.createTextNode(str));\n    return div.innerHTML\n      .replace(RegExp(escapeRegExp(pre.innerHTML), 'g'), highlightPreTag)\n      .replace(RegExp(escapeRegExp(post.innerHTML), 'g'), highlightPostTag);\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  element: null\n};\n","/**\n * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.8\n * Copyright (C) 2019 Oliver Nightingale\n * @license MIT\n */\n\n;(function(){\n\n/**\n * A convenience function for configuring and constructing\n * a new lunr Index.\n *\n * A lunr.Builder instance is created and the pipeline setup\n * with a trimmer, stop word filter and stemmer.\n *\n * This builder object is yielded to the configuration function\n * that is passed as a parameter, allowing the list of fields\n * and other builder parameters to be customised.\n *\n * All documents _must_ be added within the passed config function.\n *\n * @example\n * var idx = lunr(function () {\n *   this.field('title')\n *   this.field('body')\n *   this.ref('id')\n *\n *   documents.forEach(function (doc) {\n *     this.add(doc)\n *   }, this)\n * })\n *\n * @see {@link lunr.Builder}\n * @see {@link lunr.Pipeline}\n * @see {@link lunr.trimmer}\n * @see {@link lunr.stopWordFilter}\n * @see {@link lunr.stemmer}\n * @namespace {function} lunr\n */\nvar lunr = function (config) {\n  var builder = new lunr.Builder\n\n  builder.pipeline.add(\n    lunr.trimmer,\n    lunr.stopWordFilter,\n    lunr.stemmer\n  )\n\n  builder.searchPipeline.add(\n    lunr.stemmer\n  )\n\n  config.call(builder, builder)\n  return builder.build()\n}\n\nlunr.version = \"2.3.8\"\n/*!\n * lunr.utils\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * A namespace containing utils for the rest of the lunr library\n * @namespace lunr.utils\n */\nlunr.utils = {}\n\n/**\n * Print a warning message to the console.\n *\n * @param {String} message The message to be printed.\n * @memberOf lunr.utils\n * @function\n */\nlunr.utils.warn = (function (global) {\n  /* eslint-disable no-console */\n  return function (message) {\n    if (global.console && console.warn) {\n      console.warn(message)\n    }\n  }\n  /* eslint-enable no-console */\n})(this)\n\n/**\n * Convert an object to a string.\n *\n * In the case of `null` and `undefined` the function returns\n * the empty string, in all other cases the result of calling\n * `toString` on the passed object is returned.\n *\n * @param {Any} obj The object to convert to a string.\n * @return {String} string representation of the passed object.\n * @memberOf lunr.utils\n */\nlunr.utils.asString = function (obj) {\n  if (obj === void 0 || obj === null) {\n    return \"\"\n  } else {\n    return obj.toString()\n  }\n}\n\n/**\n * Clones an object.\n *\n * Will create a copy of an existing object such that any mutations\n * on the copy cannot affect the original.\n *\n * Only shallow objects are supported, passing a nested object to this\n * function will cause a TypeError.\n *\n * Objects with primitives, and arrays of primitives are supported.\n *\n * @param {Object} obj The object to clone.\n * @return {Object} a clone of the passed object.\n * @throws {TypeError} when a nested object is passed.\n * @memberOf Utils\n */\nlunr.utils.clone = function (obj) {\n  if (obj === null || obj === undefined) {\n    return obj\n  }\n\n  var clone = Object.create(null),\n      keys = Object.keys(obj)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i],\n        val = obj[key]\n\n    if (Array.isArray(val)) {\n      clone[key] = val.slice()\n      continue\n    }\n\n    if (typeof val === 'string' ||\n        typeof val === 'number' ||\n        typeof val === 'boolean') {\n      clone[key] = val\n      continue\n    }\n\n    throw new TypeError(\"clone is not deep and does not support nested objects\")\n  }\n\n  return clone\n}\nlunr.FieldRef = function (docRef, fieldName, stringValue) {\n  this.docRef = docRef\n  this.fieldName = fieldName\n  this._stringValue = stringValue\n}\n\nlunr.FieldRef.joiner = \"/\"\n\nlunr.FieldRef.fromString = function (s) {\n  var n = s.indexOf(lunr.FieldRef.joiner)\n\n  if (n === -1) {\n    throw \"malformed field ref string\"\n  }\n\n  var fieldRef = s.slice(0, n),\n      docRef = s.slice(n + 1)\n\n  return new lunr.FieldRef (docRef, fieldRef, s)\n}\n\nlunr.FieldRef.prototype.toString = function () {\n  if (this._stringValue == undefined) {\n    this._stringValue = this.fieldName + lunr.FieldRef.joiner + this.docRef\n  }\n\n  return this._stringValue\n}\n/*!\n * lunr.Set\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * A lunr set.\n *\n * @constructor\n */\nlunr.Set = function (elements) {\n  this.elements = Object.create(null)\n\n  if (elements) {\n    this.length = elements.length\n\n    for (var i = 0; i < this.length; i++) {\n      this.elements[elements[i]] = true\n    }\n  } else {\n    this.length = 0\n  }\n}\n\n/**\n * A complete set that contains all elements.\n *\n * @static\n * @readonly\n * @type {lunr.Set}\n */\nlunr.Set.complete = {\n  intersect: function (other) {\n    return other\n  },\n\n  union: function (other) {\n    return other\n  },\n\n  contains: function () {\n    return true\n  }\n}\n\n/**\n * An empty set that contains no elements.\n *\n * @static\n * @readonly\n * @type {lunr.Set}\n */\nlunr.Set.empty = {\n  intersect: function () {\n    return this\n  },\n\n  union: function (other) {\n    return other\n  },\n\n  contains: function () {\n    return false\n  }\n}\n\n/**\n * Returns true if this set contains the specified object.\n *\n * @param {object} object - Object whose presence in this set is to be tested.\n * @returns {boolean} - True if this set contains the specified object.\n */\nlunr.Set.prototype.contains = function (object) {\n  return !!this.elements[object]\n}\n\n/**\n * Returns a new set containing only the elements that are present in both\n * this set and the specified set.\n *\n * @param {lunr.Set} other - set to intersect with this set.\n * @returns {lunr.Set} a new set that is the intersection of this and the specified set.\n */\n\nlunr.Set.prototype.intersect = function (other) {\n  var a, b, elements, intersection = []\n\n  if (other === lunr.Set.complete) {\n    return this\n  }\n\n  if (other === lunr.Set.empty) {\n    return other\n  }\n\n  if (this.length < other.length) {\n    a = this\n    b = other\n  } else {\n    a = other\n    b = this\n  }\n\n  elements = Object.keys(a.elements)\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i]\n    if (element in b.elements) {\n      intersection.push(element)\n    }\n  }\n\n  return new lunr.Set (intersection)\n}\n\n/**\n * Returns a new set combining the elements of this and the specified set.\n *\n * @param {lunr.Set} other - set to union with this set.\n * @return {lunr.Set} a new set that is the union of this and the specified set.\n */\n\nlunr.Set.prototype.union = function (other) {\n  if (other === lunr.Set.complete) {\n    return lunr.Set.complete\n  }\n\n  if (other === lunr.Set.empty) {\n    return this\n  }\n\n  return new lunr.Set(Object.keys(this.elements).concat(Object.keys(other.elements)))\n}\n/**\n * A function to calculate the inverse document frequency for\n * a posting. This is shared between the builder and the index\n *\n * @private\n * @param {object} posting - The posting for a given term\n * @param {number} documentCount - The total number of documents.\n */\nlunr.idf = function (posting, documentCount) {\n  var documentsWithTerm = 0\n\n  for (var fieldName in posting) {\n    if (fieldName == '_index') continue // Ignore the term index, its not a field\n    documentsWithTerm += Object.keys(posting[fieldName]).length\n  }\n\n  var x = (documentCount - documentsWithTerm + 0.5) / (documentsWithTerm + 0.5)\n\n  return Math.log(1 + Math.abs(x))\n}\n\n/**\n * A token wraps a string representation of a token\n * as it is passed through the text processing pipeline.\n *\n * @constructor\n * @param {string} [str=''] - The string token being wrapped.\n * @param {object} [metadata={}] - Metadata associated with this token.\n */\nlunr.Token = function (str, metadata) {\n  this.str = str || \"\"\n  this.metadata = metadata || {}\n}\n\n/**\n * Returns the token string that is being wrapped by this object.\n *\n * @returns {string}\n */\nlunr.Token.prototype.toString = function () {\n  return this.str\n}\n\n/**\n * A token update function is used when updating or optionally\n * when cloning a token.\n *\n * @callback lunr.Token~updateFunction\n * @param {string} str - The string representation of the token.\n * @param {Object} metadata - All metadata associated with this token.\n */\n\n/**\n * Applies the given function to the wrapped string token.\n *\n * @example\n * token.update(function (str, metadata) {\n *   return str.toUpperCase()\n * })\n *\n * @param {lunr.Token~updateFunction} fn - A function to apply to the token string.\n * @returns {lunr.Token}\n */\nlunr.Token.prototype.update = function (fn) {\n  this.str = fn(this.str, this.metadata)\n  return this\n}\n\n/**\n * Creates a clone of this token. Optionally a function can be\n * applied to the cloned token.\n *\n * @param {lunr.Token~updateFunction} [fn] - An optional function to apply to the cloned token.\n * @returns {lunr.Token}\n */\nlunr.Token.prototype.clone = function (fn) {\n  fn = fn || function (s) { return s }\n  return new lunr.Token (fn(this.str, this.metadata), this.metadata)\n}\n/*!\n * lunr.tokenizer\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * A function for splitting a string into tokens ready to be inserted into\n * the search index. Uses `lunr.tokenizer.separator` to split strings, change\n * the value of this property to change how strings are split into tokens.\n *\n * This tokenizer will convert its parameter to a string by calling `toString` and\n * then will split this string on the character in `lunr.tokenizer.separator`.\n * Arrays will have their elements converted to strings and wrapped in a lunr.Token.\n *\n * Optional metadata can be passed to the tokenizer, this metadata will be cloned and\n * added as metadata to every token that is created from the object to be tokenized.\n *\n * @static\n * @param {?(string|object|object[])} obj - The object to convert into tokens\n * @param {?object} metadata - Optional metadata to associate with every token\n * @returns {lunr.Token[]}\n * @see {@link lunr.Pipeline}\n */\nlunr.tokenizer = function (obj, metadata) {\n  if (obj == null || obj == undefined) {\n    return []\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(function (t) {\n      return new lunr.Token(\n        lunr.utils.asString(t).toLowerCase(),\n        lunr.utils.clone(metadata)\n      )\n    })\n  }\n\n  var str = obj.toString().toLowerCase(),\n      len = str.length,\n      tokens = []\n\n  for (var sliceEnd = 0, sliceStart = 0; sliceEnd <= len; sliceEnd++) {\n    var char = str.charAt(sliceEnd),\n        sliceLength = sliceEnd - sliceStart\n\n    if ((char.match(lunr.tokenizer.separator) || sliceEnd == len)) {\n\n      if (sliceLength > 0) {\n        var tokenMetadata = lunr.utils.clone(metadata) || {}\n        tokenMetadata[\"position\"] = [sliceStart, sliceLength]\n        tokenMetadata[\"index\"] = tokens.length\n\n        tokens.push(\n          new lunr.Token (\n            str.slice(sliceStart, sliceEnd),\n            tokenMetadata\n          )\n        )\n      }\n\n      sliceStart = sliceEnd + 1\n    }\n\n  }\n\n  return tokens\n}\n\n/**\n * The separator used to split a string into tokens. Override this property to change the behaviour of\n * `lunr.tokenizer` behaviour when tokenizing strings. By default this splits on whitespace and hyphens.\n *\n * @static\n * @see lunr.tokenizer\n */\nlunr.tokenizer.separator = /[\\s\\-]+/\n/*!\n * lunr.Pipeline\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * lunr.Pipelines maintain an ordered list of functions to be applied to all\n * tokens in documents entering the search index and queries being ran against\n * the index.\n *\n * An instance of lunr.Index created with the lunr shortcut will contain a\n * pipeline with a stop word filter and an English language stemmer. Extra\n * functions can be added before or after either of these functions or these\n * default functions can be removed.\n *\n * When run the pipeline will call each function in turn, passing a token, the\n * index of that token in the original list of all tokens and finally a list of\n * all the original tokens.\n *\n * The output of functions in the pipeline will be passed to the next function\n * in the pipeline. To exclude a token from entering the index the function\n * should return undefined, the rest of the pipeline will not be called with\n * this token.\n *\n * For serialisation of pipelines to work, all functions used in an instance of\n * a pipeline should be registered with lunr.Pipeline. Registered functions can\n * then be loaded. If trying to load a serialised pipeline that uses functions\n * that are not registered an error will be thrown.\n *\n * If not planning on serialising the pipeline then registering pipeline functions\n * is not necessary.\n *\n * @constructor\n */\nlunr.Pipeline = function () {\n  this._stack = []\n}\n\nlunr.Pipeline.registeredFunctions = Object.create(null)\n\n/**\n * A pipeline function maps lunr.Token to lunr.Token. A lunr.Token contains the token\n * string as well as all known metadata. A pipeline function can mutate the token string\n * or mutate (or add) metadata for a given token.\n *\n * A pipeline function can indicate that the passed token should be discarded by returning\n * null, undefined or an empty string. This token will not be passed to any downstream pipeline\n * functions and will not be added to the index.\n *\n * Multiple tokens can be returned by returning an array of tokens. Each token will be passed\n * to any downstream pipeline functions and all will returned tokens will be added to the index.\n *\n * Any number of pipeline functions may be chained together using a lunr.Pipeline.\n *\n * @interface lunr.PipelineFunction\n * @param {lunr.Token} token - A token from the document being processed.\n * @param {number} i - The index of this token in the complete list of tokens for this document/field.\n * @param {lunr.Token[]} tokens - All tokens for this document/field.\n * @returns {(?lunr.Token|lunr.Token[])}\n */\n\n/**\n * Register a function with the pipeline.\n *\n * Functions that are used in the pipeline should be registered if the pipeline\n * needs to be serialised, or a serialised pipeline needs to be loaded.\n *\n * Registering a function does not add it to a pipeline, functions must still be\n * added to instances of the pipeline for them to be used when running a pipeline.\n *\n * @param {lunr.PipelineFunction} fn - The function to check for.\n * @param {String} label - The label to register this function with\n */\nlunr.Pipeline.registerFunction = function (fn, label) {\n  if (label in this.registeredFunctions) {\n    lunr.utils.warn('Overwriting existing registered function: ' + label)\n  }\n\n  fn.label = label\n  lunr.Pipeline.registeredFunctions[fn.label] = fn\n}\n\n/**\n * Warns if the function is not registered as a Pipeline function.\n *\n * @param {lunr.PipelineFunction} fn - The function to check for.\n * @private\n */\nlunr.Pipeline.warnIfFunctionNotRegistered = function (fn) {\n  var isRegistered = fn.label && (fn.label in this.registeredFunctions)\n\n  if (!isRegistered) {\n    lunr.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\\n', fn)\n  }\n}\n\n/**\n * Loads a previously serialised pipeline.\n *\n * All functions to be loaded must already be registered with lunr.Pipeline.\n * If any function from the serialised data has not been registered then an\n * error will be thrown.\n *\n * @param {Object} serialised - The serialised pipeline to load.\n * @returns {lunr.Pipeline}\n */\nlunr.Pipeline.load = function (serialised) {\n  var pipeline = new lunr.Pipeline\n\n  serialised.forEach(function (fnName) {\n    var fn = lunr.Pipeline.registeredFunctions[fnName]\n\n    if (fn) {\n      pipeline.add(fn)\n    } else {\n      throw new Error('Cannot load unregistered function: ' + fnName)\n    }\n  })\n\n  return pipeline\n}\n\n/**\n * Adds new functions to the end of the pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction[]} functions - Any number of functions to add to the pipeline.\n */\nlunr.Pipeline.prototype.add = function () {\n  var fns = Array.prototype.slice.call(arguments)\n\n  fns.forEach(function (fn) {\n    lunr.Pipeline.warnIfFunctionNotRegistered(fn)\n    this._stack.push(fn)\n  }, this)\n}\n\n/**\n * Adds a single function after a function that already exists in the\n * pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction} existingFn - A function that already exists in the pipeline.\n * @param {lunr.PipelineFunction} newFn - The new function to add to the pipeline.\n */\nlunr.Pipeline.prototype.after = function (existingFn, newFn) {\n  lunr.Pipeline.warnIfFunctionNotRegistered(newFn)\n\n  var pos = this._stack.indexOf(existingFn)\n  if (pos == -1) {\n    throw new Error('Cannot find existingFn')\n  }\n\n  pos = pos + 1\n  this._stack.splice(pos, 0, newFn)\n}\n\n/**\n * Adds a single function before a function that already exists in the\n * pipeline.\n *\n * Logs a warning if the function has not been registered.\n *\n * @param {lunr.PipelineFunction} existingFn - A function that already exists in the pipeline.\n * @param {lunr.PipelineFunction} newFn - The new function to add to the pipeline.\n */\nlunr.Pipeline.prototype.before = function (existingFn, newFn) {\n  lunr.Pipeline.warnIfFunctionNotRegistered(newFn)\n\n  var pos = this._stack.indexOf(existingFn)\n  if (pos == -1) {\n    throw new Error('Cannot find existingFn')\n  }\n\n  this._stack.splice(pos, 0, newFn)\n}\n\n/**\n * Removes a function from the pipeline.\n *\n * @param {lunr.PipelineFunction} fn The function to remove from the pipeline.\n */\nlunr.Pipeline.prototype.remove = function (fn) {\n  var pos = this._stack.indexOf(fn)\n  if (pos == -1) {\n    return\n  }\n\n  this._stack.splice(pos, 1)\n}\n\n/**\n * Runs the current list of functions that make up the pipeline against the\n * passed tokens.\n *\n * @param {Array} tokens The tokens to run through the pipeline.\n * @returns {Array}\n */\nlunr.Pipeline.prototype.run = function (tokens) {\n  var stackLength = this._stack.length\n\n  for (var i = 0; i < stackLength; i++) {\n    var fn = this._stack[i]\n    var memo = []\n\n    for (var j = 0; j < tokens.length; j++) {\n      var result = fn(tokens[j], j, tokens)\n\n      if (result === null || result === void 0 || result === '') continue\n\n      if (Array.isArray(result)) {\n        for (var k = 0; k < result.length; k++) {\n          memo.push(result[k])\n        }\n      } else {\n        memo.push(result)\n      }\n    }\n\n    tokens = memo\n  }\n\n  return tokens\n}\n\n/**\n * Convenience method for passing a string through a pipeline and getting\n * strings out. This method takes care of wrapping the passed string in a\n * token and mapping the resulting tokens back to strings.\n *\n * @param {string} str - The string to pass through the pipeline.\n * @param {?object} metadata - Optional metadata to associate with the token\n * passed to the pipeline.\n * @returns {string[]}\n */\nlunr.Pipeline.prototype.runString = function (str, metadata) {\n  var token = new lunr.Token (str, metadata)\n\n  return this.run([token]).map(function (t) {\n    return t.toString()\n  })\n}\n\n/**\n * Resets the pipeline by removing any existing processors.\n *\n */\nlunr.Pipeline.prototype.reset = function () {\n  this._stack = []\n}\n\n/**\n * Returns a representation of the pipeline ready for serialisation.\n *\n * Logs a warning if the function has not been registered.\n *\n * @returns {Array}\n */\nlunr.Pipeline.prototype.toJSON = function () {\n  return this._stack.map(function (fn) {\n    lunr.Pipeline.warnIfFunctionNotRegistered(fn)\n\n    return fn.label\n  })\n}\n/*!\n * lunr.Vector\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * A vector is used to construct the vector space of documents and queries. These\n * vectors support operations to determine the similarity between two documents or\n * a document and a query.\n *\n * Normally no parameters are required for initializing a vector, but in the case of\n * loading a previously dumped vector the raw elements can be provided to the constructor.\n *\n * For performance reasons vectors are implemented with a flat array, where an elements\n * index is immediately followed by its value. E.g. [index, value, index, value]. This\n * allows the underlying array to be as sparse as possible and still offer decent\n * performance when being used for vector calculations.\n *\n * @constructor\n * @param {Number[]} [elements] - The flat list of element index and element value pairs.\n */\nlunr.Vector = function (elements) {\n  this._magnitude = 0\n  this.elements = elements || []\n}\n\n\n/**\n * Calculates the position within the vector to insert a given index.\n *\n * This is used internally by insert and upsert. If there are duplicate indexes then\n * the position is returned as if the value for that index were to be updated, but it\n * is the callers responsibility to check whether there is a duplicate at that index\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @returns {Number}\n */\nlunr.Vector.prototype.positionForIndex = function (index) {\n  // For an empty vector the tuple can be inserted at the beginning\n  if (this.elements.length == 0) {\n    return 0\n  }\n\n  var start = 0,\n      end = this.elements.length / 2,\n      sliceLength = end - start,\n      pivotPoint = Math.floor(sliceLength / 2),\n      pivotIndex = this.elements[pivotPoint * 2]\n\n  while (sliceLength > 1) {\n    if (pivotIndex < index) {\n      start = pivotPoint\n    }\n\n    if (pivotIndex > index) {\n      end = pivotPoint\n    }\n\n    if (pivotIndex == index) {\n      break\n    }\n\n    sliceLength = end - start\n    pivotPoint = start + Math.floor(sliceLength / 2)\n    pivotIndex = this.elements[pivotPoint * 2]\n  }\n\n  if (pivotIndex == index) {\n    return pivotPoint * 2\n  }\n\n  if (pivotIndex > index) {\n    return pivotPoint * 2\n  }\n\n  if (pivotIndex < index) {\n    return (pivotPoint + 1) * 2\n  }\n}\n\n/**\n * Inserts an element at an index within the vector.\n *\n * Does not allow duplicates, will throw an error if there is already an entry\n * for this index.\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @param {Number} val - The value to be inserted into the vector.\n */\nlunr.Vector.prototype.insert = function (insertIdx, val) {\n  this.upsert(insertIdx, val, function () {\n    throw \"duplicate index\"\n  })\n}\n\n/**\n * Inserts or updates an existing index within the vector.\n *\n * @param {Number} insertIdx - The index at which the element should be inserted.\n * @param {Number} val - The value to be inserted into the vector.\n * @param {function} fn - A function that is called for updates, the existing value and the\n * requested value are passed as arguments\n */\nlunr.Vector.prototype.upsert = function (insertIdx, val, fn) {\n  this._magnitude = 0\n  var position = this.positionForIndex(insertIdx)\n\n  if (this.elements[position] == insertIdx) {\n    this.elements[position + 1] = fn(this.elements[position + 1], val)\n  } else {\n    this.elements.splice(position, 0, insertIdx, val)\n  }\n}\n\n/**\n * Calculates the magnitude of this vector.\n *\n * @returns {Number}\n */\nlunr.Vector.prototype.magnitude = function () {\n  if (this._magnitude) return this._magnitude\n\n  var sumOfSquares = 0,\n      elementsLength = this.elements.length\n\n  for (var i = 1; i < elementsLength; i += 2) {\n    var val = this.elements[i]\n    sumOfSquares += val * val\n  }\n\n  return this._magnitude = Math.sqrt(sumOfSquares)\n}\n\n/**\n * Calculates the dot product of this vector and another vector.\n *\n * @param {lunr.Vector} otherVector - The vector to compute the dot product with.\n * @returns {Number}\n */\nlunr.Vector.prototype.dot = function (otherVector) {\n  var dotProduct = 0,\n      a = this.elements, b = otherVector.elements,\n      aLen = a.length, bLen = b.length,\n      aVal = 0, bVal = 0,\n      i = 0, j = 0\n\n  while (i < aLen && j < bLen) {\n    aVal = a[i], bVal = b[j]\n    if (aVal < bVal) {\n      i += 2\n    } else if (aVal > bVal) {\n      j += 2\n    } else if (aVal == bVal) {\n      dotProduct += a[i + 1] * b[j + 1]\n      i += 2\n      j += 2\n    }\n  }\n\n  return dotProduct\n}\n\n/**\n * Calculates the similarity between this vector and another vector.\n *\n * @param {lunr.Vector} otherVector - The other vector to calculate the\n * similarity with.\n * @returns {Number}\n */\nlunr.Vector.prototype.similarity = function (otherVector) {\n  return this.dot(otherVector) / this.magnitude() || 0\n}\n\n/**\n * Converts the vector to an array of the elements within the vector.\n *\n * @returns {Number[]}\n */\nlunr.Vector.prototype.toArray = function () {\n  var output = new Array (this.elements.length / 2)\n\n  for (var i = 1, j = 0; i < this.elements.length; i += 2, j++) {\n    output[j] = this.elements[i]\n  }\n\n  return output\n}\n\n/**\n * A JSON serializable representation of the vector.\n *\n * @returns {Number[]}\n */\nlunr.Vector.prototype.toJSON = function () {\n  return this.elements\n}\n/* eslint-disable */\n/*!\n * lunr.stemmer\n * Copyright (C) 2019 Oliver Nightingale\n * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt\n */\n\n/**\n * lunr.stemmer is an english language stemmer, this is a JavaScript\n * implementation of the PorterStemmer taken from http://tartarus.org/~martin\n *\n * @static\n * @implements {lunr.PipelineFunction}\n * @param {lunr.Token} token - The string to stem\n * @returns {lunr.Token}\n * @see {@link lunr.Pipeline}\n * @function\n */\nlunr.stemmer = (function(){\n  var step2list = {\n      \"ational\" : \"ate\",\n      \"tional\" : \"tion\",\n      \"enci\" : \"ence\",\n      \"anci\" : \"ance\",\n      \"izer\" : \"ize\",\n      \"bli\" : \"ble\",\n      \"alli\" : \"al\",\n      \"entli\" : \"ent\",\n      \"eli\" : \"e\",\n      \"ousli\" : \"ous\",\n      \"ization\" : \"ize\",\n      \"ation\" : \"ate\",\n      \"ator\" : \"ate\",\n      \"alism\" : \"al\",\n      \"iveness\" : \"ive\",\n      \"fulness\" : \"ful\",\n      \"ousness\" : \"ous\",\n      \"aliti\" : \"al\",\n      \"iviti\" : \"ive\",\n      \"biliti\" : \"ble\",\n      \"logi\" : \"log\"\n    },\n\n    step3list = {\n      \"icate\" : \"ic\",\n      \"ative\" : \"\",\n      \"alize\" : \"al\",\n      \"iciti\" : \"ic\",\n      \"ical\" : \"ic\",\n      \"ful\" : \"\",\n      \"ness\" : \"\"\n    },\n\n    c = \"[^aeiou]\",          // consonant\n    v = \"[aeiouy]\",          // vowel\n    C = c + \"[^aeiouy]*\",    // consonant sequence\n    V = v + \"[aeiou]*\",      // vowel sequence\n\n    mgr0 = \"^(\" + C + \")?\" + V + C,               // [C]VC... is m>0\n    meq1 = \"^(\" + C + \")?\" + V + C + \"(\" + V + \")?$\",  // [C]VC[V] is m=1\n    mgr1 = \"^(\" + C + \")?\" + V + C + V + C,       // [C]VCVC... is m>1\n    s_v = \"^(\" + C + \")?\" + v;                   // vowel in stem\n\n  var re_mgr0 = new RegExp(mgr0);\n  var re_mgr1 = new RegExp(mgr1);\n  var re_meq1 = new RegExp(meq1);\n  var re_s_v = new RegExp(s_v);\n\n  var re_1a = /^(.+?)(ss|i)es$/;\n  var re2_1a = /^(.+?)([^s])s$/;\n  var re_1b = /^(.+?)eed$/;\n  var re2_1b = /^(.+?)(ed|ing)$/;\n  var re_1b_2 = /.$/;\n  var re2_1b_2 = /(at|bl|iz)$/;\n  var re3_1b_2 = new RegExp(\"([^aeiouylsz])\\\\1$\");\n  var re4_1b_2 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n\n  var re_1c = /^(.+?[^aeiou])y$/;\n  var re_2 = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\n\n  var re_3 = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\n\n  var re_4 = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\n  var re2_4 = /^(.+?)(s|t)(ion)$/;\n\n  var re_5 = /^(.+?)e$/;\n  var re_5_1 = /ll$/;\n  var re3_5 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n\n  var porterStemmer = function porterStemmer(w) {\n    var stem,\n      suffix,\n      firstch,\n      re,\n      re2,\n      re3,\n      re4;\n\n    if (w.length < 3) { return w; }\n\n    firstch = w.substr(0,1);\n    if (firstch == \"y\") {\n      w = firstch.toUpperCase() + w.substr(1);\n    }\n\n    // Step 1a\n    re = re_1a\n    re2 = re2_1a;\n\n    if (re.test(w)) { w = w.replace(re,\"$1$2\"); }\n    else if (re2.test(w)) { w = w.replace(re2,\"$1$2\"); }\n\n    // Step 1b\n    re = re_1b;\n    re2 = re2_1b;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      re = re_mgr0;\n      if (re.test(fp[1])) {\n        re = re_1b_2;\n        w = w.replace(re,\"\");\n      }\n    } else if (re2.test(w)) {\n      var fp = re2.exec(w);\n      stem = fp[1];\n      re2 = re_s_v;\n      if (re2.test(stem)) {\n        w = stem;\n        re2 = re2_1b_2;\n        re3 = re3_1b_2;\n        re4 = re4_1b_2;\n        if (re2.test(w)) { w = w + \"e\"; }\n        else if (re3.test(w)) { re = re_1b_2; w = w.replace(re,\"\"); }\n        else if (re4.test(w)) { w = w + \"e\"; }\n      }\n    }\n\n    // Step 1c - replace suffix y or Y by i if preceded by a non-vowel which is not the first letter of the word (so cry -> cri, by -> by, say -> say)\n    re = re_1c;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      w = stem + \"i\";\n    }\n\n    // Step 2\n    re = re_2;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      suffix = fp[2];\n      re = re_mgr0;\n      if (re.test(stem)) {\n        w = stem + step2list[suffix];\n      }\n    }\n\n    // Step 3\n    re = re_3;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      suffix = fp[2];\n      re = re_mgr0;\n      if (re.test(stem)) {\n        w = stem + step3list[suffix];\n      }\n    }\n\n    // Step 4\n    re = re_4;\n    re2 = re2_4;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      re = re_mgr1;\n      if (re.test(stem)) {\n        w = stem;\n      }\n    } else if (re2.test(w)) {\n      var fp = re2.exec(w);\n      stem = fp[1] + fp[2];\n      re2 = re_mgr1;\n      if (re2.test(stem)) {\n        w = stem;\n      }\n    }\n\n    // Step 5\n    re = re_5;\n    if (re.test(w)) {\n      var fp = re.exec(w);\n      stem = fp[1];\n      re = re_mgr1;\n      re2 = re_meq1;\n      re3 = re3_5;\n      if (re.test(stem) || (re2.test(stem) && !(re3.test(stem)))) {\n        w = stem;\n      }\n    }\n\n    re = re_5_1;\n    re2 = re_mgr1;\n    if (re.test(w) && re2.test(w)) {\n      re = re_1b_2;\n      w = w.replace(re,\"\");\n    }\n\n    // and turn initial Y back to y\n\n    if (firstch == \"y\") {\n      w = firstch.toLowerCase() + w.substr(1);\n    }\n\n    return w;\n  };\n\n  return function (token) {\n    return token.update(porterStemmer);\n  }\n})();\n\nlunr.Pipeline.registerFunction(lunr.stemmer, 'stemmer')\n/*!\n * lunr.stopWordFilter\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * lunr.generateStopWordFilter builds a stopWordFilter function from the provided\n * list of stop words.\n *\n * The built in lunr.stopWordFilter is built using this generator and can be used\n * to generate custom stopWordFilters for applications or non English languages.\n *\n * @function\n * @param {Array} token The token to pass through the filter\n * @returns {lunr.PipelineFunction}\n * @see lunr.Pipeline\n * @see lunr.stopWordFilter\n */\nlunr.generateStopWordFilter = function (stopWords) {\n  var words = stopWords.reduce(function (memo, stopWord) {\n    memo[stopWord] = stopWord\n    return memo\n  }, {})\n\n  return function (token) {\n    if (token && words[token.toString()] !== token.toString()) return token\n  }\n}\n\n/**\n * lunr.stopWordFilter is an English language stop word list filter, any words\n * contained in the list will not be passed through the filter.\n *\n * This is intended to be used in the Pipeline. If the token does not pass the\n * filter then undefined will be returned.\n *\n * @function\n * @implements {lunr.PipelineFunction}\n * @params {lunr.Token} token - A token to check for being a stop word.\n * @returns {lunr.Token}\n * @see {@link lunr.Pipeline}\n */\nlunr.stopWordFilter = lunr.generateStopWordFilter([\n  'a',\n  'able',\n  'about',\n  'across',\n  'after',\n  'all',\n  'almost',\n  'also',\n  'am',\n  'among',\n  'an',\n  'and',\n  'any',\n  'are',\n  'as',\n  'at',\n  'be',\n  'because',\n  'been',\n  'but',\n  'by',\n  'can',\n  'cannot',\n  'could',\n  'dear',\n  'did',\n  'do',\n  'does',\n  'either',\n  'else',\n  'ever',\n  'every',\n  'for',\n  'from',\n  'get',\n  'got',\n  'had',\n  'has',\n  'have',\n  'he',\n  'her',\n  'hers',\n  'him',\n  'his',\n  'how',\n  'however',\n  'i',\n  'if',\n  'in',\n  'into',\n  'is',\n  'it',\n  'its',\n  'just',\n  'least',\n  'let',\n  'like',\n  'likely',\n  'may',\n  'me',\n  'might',\n  'most',\n  'must',\n  'my',\n  'neither',\n  'no',\n  'nor',\n  'not',\n  'of',\n  'off',\n  'often',\n  'on',\n  'only',\n  'or',\n  'other',\n  'our',\n  'own',\n  'rather',\n  'said',\n  'say',\n  'says',\n  'she',\n  'should',\n  'since',\n  'so',\n  'some',\n  'than',\n  'that',\n  'the',\n  'their',\n  'them',\n  'then',\n  'there',\n  'these',\n  'they',\n  'this',\n  'tis',\n  'to',\n  'too',\n  'twas',\n  'us',\n  'wants',\n  'was',\n  'we',\n  'were',\n  'what',\n  'when',\n  'where',\n  'which',\n  'while',\n  'who',\n  'whom',\n  'why',\n  'will',\n  'with',\n  'would',\n  'yet',\n  'you',\n  'your'\n])\n\nlunr.Pipeline.registerFunction(lunr.stopWordFilter, 'stopWordFilter')\n/*!\n * lunr.trimmer\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * lunr.trimmer is a pipeline function for trimming non word\n * characters from the beginning and end of tokens before they\n * enter the index.\n *\n * This implementation may not work correctly for non latin\n * characters and should either be removed or adapted for use\n * with languages with non-latin characters.\n *\n * @static\n * @implements {lunr.PipelineFunction}\n * @param {lunr.Token} token The token to pass through the filter\n * @returns {lunr.Token}\n * @see lunr.Pipeline\n */\nlunr.trimmer = function (token) {\n  return token.update(function (s) {\n    return s.replace(/^\\W+/, '').replace(/\\W+$/, '')\n  })\n}\n\nlunr.Pipeline.registerFunction(lunr.trimmer, 'trimmer')\n/*!\n * lunr.TokenSet\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * A token set is used to store the unique list of all tokens\n * within an index. Token sets are also used to represent an\n * incoming query to the index, this query token set and index\n * token set are then intersected to find which tokens to look\n * up in the inverted index.\n *\n * A token set can hold multiple tokens, as in the case of the\n * index token set, or it can hold a single token as in the\n * case of a simple query token set.\n *\n * Additionally token sets are used to perform wildcard matching.\n * Leading, contained and trailing wildcards are supported, and\n * from this edit distance matching can also be provided.\n *\n * Token sets are implemented as a minimal finite state automata,\n * where both common prefixes and suffixes are shared between tokens.\n * This helps to reduce the space used for storing the token set.\n *\n * @constructor\n */\nlunr.TokenSet = function () {\n  this.final = false\n  this.edges = {}\n  this.id = lunr.TokenSet._nextId\n  lunr.TokenSet._nextId += 1\n}\n\n/**\n * Keeps track of the next, auto increment, identifier to assign\n * to a new tokenSet.\n *\n * TokenSets require a unique identifier to be correctly minimised.\n *\n * @private\n */\nlunr.TokenSet._nextId = 1\n\n/**\n * Creates a TokenSet instance from the given sorted array of words.\n *\n * @param {String[]} arr - A sorted array of strings to create the set from.\n * @returns {lunr.TokenSet}\n * @throws Will throw an error if the input array is not sorted.\n */\nlunr.TokenSet.fromArray = function (arr) {\n  var builder = new lunr.TokenSet.Builder\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    builder.insert(arr[i])\n  }\n\n  builder.finish()\n  return builder.root\n}\n\n/**\n * Creates a token set from a query clause.\n *\n * @private\n * @param {Object} clause - A single clause from lunr.Query.\n * @param {string} clause.term - The query clause term.\n * @param {number} [clause.editDistance] - The optional edit distance for the term.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.fromClause = function (clause) {\n  if ('editDistance' in clause) {\n    return lunr.TokenSet.fromFuzzyString(clause.term, clause.editDistance)\n  } else {\n    return lunr.TokenSet.fromString(clause.term)\n  }\n}\n\n/**\n * Creates a token set representing a single string with a specified\n * edit distance.\n *\n * Insertions, deletions, substitutions and transpositions are each\n * treated as an edit distance of 1.\n *\n * Increasing the allowed edit distance will have a dramatic impact\n * on the performance of both creating and intersecting these TokenSets.\n * It is advised to keep the edit distance less than 3.\n *\n * @param {string} str - The string to create the token set from.\n * @param {number} editDistance - The allowed edit distance to match.\n * @returns {lunr.Vector}\n */\nlunr.TokenSet.fromFuzzyString = function (str, editDistance) {\n  var root = new lunr.TokenSet\n\n  var stack = [{\n    node: root,\n    editsRemaining: editDistance,\n    str: str\n  }]\n\n  while (stack.length) {\n    var frame = stack.pop()\n\n    // no edit\n    if (frame.str.length > 0) {\n      var char = frame.str.charAt(0),\n          noEditNode\n\n      if (char in frame.node.edges) {\n        noEditNode = frame.node.edges[char]\n      } else {\n        noEditNode = new lunr.TokenSet\n        frame.node.edges[char] = noEditNode\n      }\n\n      if (frame.str.length == 1) {\n        noEditNode.final = true\n      }\n\n      stack.push({\n        node: noEditNode,\n        editsRemaining: frame.editsRemaining,\n        str: frame.str.slice(1)\n      })\n    }\n\n    if (frame.editsRemaining == 0) {\n      continue\n    }\n\n    // insertion\n    if (\"*\" in frame.node.edges) {\n      var insertionNode = frame.node.edges[\"*\"]\n    } else {\n      var insertionNode = new lunr.TokenSet\n      frame.node.edges[\"*\"] = insertionNode\n    }\n\n    if (frame.str.length == 0) {\n      insertionNode.final = true\n    }\n\n    stack.push({\n      node: insertionNode,\n      editsRemaining: frame.editsRemaining - 1,\n      str: frame.str\n    })\n\n    // deletion\n    // can only do a deletion if we have enough edits remaining\n    // and if there are characters left to delete in the string\n    if (frame.str.length > 1) {\n      stack.push({\n        node: frame.node,\n        editsRemaining: frame.editsRemaining - 1,\n        str: frame.str.slice(1)\n      })\n    }\n\n    // deletion\n    // just removing the last character from the str\n    if (frame.str.length == 1) {\n      frame.node.final = true\n    }\n\n    // substitution\n    // can only do a substitution if we have enough edits remaining\n    // and if there are characters left to substitute\n    if (frame.str.length >= 1) {\n      if (\"*\" in frame.node.edges) {\n        var substitutionNode = frame.node.edges[\"*\"]\n      } else {\n        var substitutionNode = new lunr.TokenSet\n        frame.node.edges[\"*\"] = substitutionNode\n      }\n\n      if (frame.str.length == 1) {\n        substitutionNode.final = true\n      }\n\n      stack.push({\n        node: substitutionNode,\n        editsRemaining: frame.editsRemaining - 1,\n        str: frame.str.slice(1)\n      })\n    }\n\n    // transposition\n    // can only do a transposition if there are edits remaining\n    // and there are enough characters to transpose\n    if (frame.str.length > 1) {\n      var charA = frame.str.charAt(0),\n          charB = frame.str.charAt(1),\n          transposeNode\n\n      if (charB in frame.node.edges) {\n        transposeNode = frame.node.edges[charB]\n      } else {\n        transposeNode = new lunr.TokenSet\n        frame.node.edges[charB] = transposeNode\n      }\n\n      if (frame.str.length == 1) {\n        transposeNode.final = true\n      }\n\n      stack.push({\n        node: transposeNode,\n        editsRemaining: frame.editsRemaining - 1,\n        str: charA + frame.str.slice(2)\n      })\n    }\n  }\n\n  return root\n}\n\n/**\n * Creates a TokenSet from a string.\n *\n * The string may contain one or more wildcard characters (*)\n * that will allow wildcard matching when intersecting with\n * another TokenSet.\n *\n * @param {string} str - The string to create a TokenSet from.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.fromString = function (str) {\n  var node = new lunr.TokenSet,\n      root = node\n\n  /*\n   * Iterates through all characters within the passed string\n   * appending a node for each character.\n   *\n   * When a wildcard character is found then a self\n   * referencing edge is introduced to continually match\n   * any number of any characters.\n   */\n  for (var i = 0, len = str.length; i < len; i++) {\n    var char = str[i],\n        final = (i == len - 1)\n\n    if (char == \"*\") {\n      node.edges[char] = node\n      node.final = final\n\n    } else {\n      var next = new lunr.TokenSet\n      next.final = final\n\n      node.edges[char] = next\n      node = next\n    }\n  }\n\n  return root\n}\n\n/**\n * Converts this TokenSet into an array of strings\n * contained within the TokenSet.\n *\n * This is not intended to be used on a TokenSet that\n * contains wildcards, in these cases the results are\n * undefined and are likely to cause an infinite loop.\n *\n * @returns {string[]}\n */\nlunr.TokenSet.prototype.toArray = function () {\n  var words = []\n\n  var stack = [{\n    prefix: \"\",\n    node: this\n  }]\n\n  while (stack.length) {\n    var frame = stack.pop(),\n        edges = Object.keys(frame.node.edges),\n        len = edges.length\n\n    if (frame.node.final) {\n      /* In Safari, at this point the prefix is sometimes corrupted, see:\n       * https://github.com/olivernn/lunr.js/issues/279 Calling any\n       * String.prototype method forces Safari to \"cast\" this string to what\n       * it's supposed to be, fixing the bug. */\n      frame.prefix.charAt(0)\n      words.push(frame.prefix)\n    }\n\n    for (var i = 0; i < len; i++) {\n      var edge = edges[i]\n\n      stack.push({\n        prefix: frame.prefix.concat(edge),\n        node: frame.node.edges[edge]\n      })\n    }\n  }\n\n  return words\n}\n\n/**\n * Generates a string representation of a TokenSet.\n *\n * This is intended to allow TokenSets to be used as keys\n * in objects, largely to aid the construction and minimisation\n * of a TokenSet. As such it is not designed to be a human\n * friendly representation of the TokenSet.\n *\n * @returns {string}\n */\nlunr.TokenSet.prototype.toString = function () {\n  // NOTE: Using Object.keys here as this.edges is very likely\n  // to enter 'hash-mode' with many keys being added\n  //\n  // avoiding a for-in loop here as it leads to the function\n  // being de-optimised (at least in V8). From some simple\n  // benchmarks the performance is comparable, but allowing\n  // V8 to optimize may mean easy performance wins in the future.\n\n  if (this._str) {\n    return this._str\n  }\n\n  var str = this.final ? '1' : '0',\n      labels = Object.keys(this.edges).sort(),\n      len = labels.length\n\n  for (var i = 0; i < len; i++) {\n    var label = labels[i],\n        node = this.edges[label]\n\n    str = str + label + node.id\n  }\n\n  return str\n}\n\n/**\n * Returns a new TokenSet that is the intersection of\n * this TokenSet and the passed TokenSet.\n *\n * This intersection will take into account any wildcards\n * contained within the TokenSet.\n *\n * @param {lunr.TokenSet} b - An other TokenSet to intersect with.\n * @returns {lunr.TokenSet}\n */\nlunr.TokenSet.prototype.intersect = function (b) {\n  var output = new lunr.TokenSet,\n      frame = undefined\n\n  var stack = [{\n    qNode: b,\n    output: output,\n    node: this\n  }]\n\n  while (stack.length) {\n    frame = stack.pop()\n\n    // NOTE: As with the #toString method, we are using\n    // Object.keys and a for loop instead of a for-in loop\n    // as both of these objects enter 'hash' mode, causing\n    // the function to be de-optimised in V8\n    var qEdges = Object.keys(frame.qNode.edges),\n        qLen = qEdges.length,\n        nEdges = Object.keys(frame.node.edges),\n        nLen = nEdges.length\n\n    for (var q = 0; q < qLen; q++) {\n      var qEdge = qEdges[q]\n\n      for (var n = 0; n < nLen; n++) {\n        var nEdge = nEdges[n]\n\n        if (nEdge == qEdge || qEdge == '*') {\n          var node = frame.node.edges[nEdge],\n              qNode = frame.qNode.edges[qEdge],\n              final = node.final && qNode.final,\n              next = undefined\n\n          if (nEdge in frame.output.edges) {\n            // an edge already exists for this character\n            // no need to create a new node, just set the finality\n            // bit unless this node is already final\n            next = frame.output.edges[nEdge]\n            next.final = next.final || final\n\n          } else {\n            // no edge exists yet, must create one\n            // set the finality bit and insert it\n            // into the output\n            next = new lunr.TokenSet\n            next.final = final\n            frame.output.edges[nEdge] = next\n          }\n\n          stack.push({\n            qNode: qNode,\n            output: next,\n            node: node\n          })\n        }\n      }\n    }\n  }\n\n  return output\n}\nlunr.TokenSet.Builder = function () {\n  this.previousWord = \"\"\n  this.root = new lunr.TokenSet\n  this.uncheckedNodes = []\n  this.minimizedNodes = {}\n}\n\nlunr.TokenSet.Builder.prototype.insert = function (word) {\n  var node,\n      commonPrefix = 0\n\n  if (word < this.previousWord) {\n    throw new Error (\"Out of order word insertion\")\n  }\n\n  for (var i = 0; i < word.length && i < this.previousWord.length; i++) {\n    if (word[i] != this.previousWord[i]) break\n    commonPrefix++\n  }\n\n  this.minimize(commonPrefix)\n\n  if (this.uncheckedNodes.length == 0) {\n    node = this.root\n  } else {\n    node = this.uncheckedNodes[this.uncheckedNodes.length - 1].child\n  }\n\n  for (var i = commonPrefix; i < word.length; i++) {\n    var nextNode = new lunr.TokenSet,\n        char = word[i]\n\n    node.edges[char] = nextNode\n\n    this.uncheckedNodes.push({\n      parent: node,\n      char: char,\n      child: nextNode\n    })\n\n    node = nextNode\n  }\n\n  node.final = true\n  this.previousWord = word\n}\n\nlunr.TokenSet.Builder.prototype.finish = function () {\n  this.minimize(0)\n}\n\nlunr.TokenSet.Builder.prototype.minimize = function (downTo) {\n  for (var i = this.uncheckedNodes.length - 1; i >= downTo; i--) {\n    var node = this.uncheckedNodes[i],\n        childKey = node.child.toString()\n\n    if (childKey in this.minimizedNodes) {\n      node.parent.edges[node.char] = this.minimizedNodes[childKey]\n    } else {\n      // Cache the key for this node since\n      // we know it can't change anymore\n      node.child._str = childKey\n\n      this.minimizedNodes[childKey] = node.child\n    }\n\n    this.uncheckedNodes.pop()\n  }\n}\n/*!\n * lunr.Index\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * An index contains the built index of all documents and provides a query interface\n * to the index.\n *\n * Usually instances of lunr.Index will not be created using this constructor, instead\n * lunr.Builder should be used to construct new indexes, or lunr.Index.load should be\n * used to load previously built and serialized indexes.\n *\n * @constructor\n * @param {Object} attrs - The attributes of the built search index.\n * @param {Object} attrs.invertedIndex - An index of term/field to document reference.\n * @param {Object<string, lunr.Vector>} attrs.fieldVectors - Field vectors\n * @param {lunr.TokenSet} attrs.tokenSet - An set of all corpus tokens.\n * @param {string[]} attrs.fields - The names of indexed document fields.\n * @param {lunr.Pipeline} attrs.pipeline - The pipeline to use for search terms.\n */\nlunr.Index = function (attrs) {\n  this.invertedIndex = attrs.invertedIndex\n  this.fieldVectors = attrs.fieldVectors\n  this.tokenSet = attrs.tokenSet\n  this.fields = attrs.fields\n  this.pipeline = attrs.pipeline\n}\n\n/**\n * A result contains details of a document matching a search query.\n * @typedef {Object} lunr.Index~Result\n * @property {string} ref - The reference of the document this result represents.\n * @property {number} score - A number between 0 and 1 representing how similar this document is to the query.\n * @property {lunr.MatchData} matchData - Contains metadata about this match including which term(s) caused the match.\n */\n\n/**\n * Although lunr provides the ability to create queries using lunr.Query, it also provides a simple\n * query language which itself is parsed into an instance of lunr.Query.\n *\n * For programmatically building queries it is advised to directly use lunr.Query, the query language\n * is best used for human entered text rather than program generated text.\n *\n * At its simplest queries can just be a single term, e.g. `hello`, multiple terms are also supported\n * and will be combined with OR, e.g `hello world` will match documents that contain either 'hello'\n * or 'world', though those that contain both will rank higher in the results.\n *\n * Wildcards can be included in terms to match one or more unspecified characters, these wildcards can\n * be inserted anywhere within the term, and more than one wildcard can exist in a single term. Adding\n * wildcards will increase the number of documents that will be found but can also have a negative\n * impact on query performance, especially with wildcards at the beginning of a term.\n *\n * Terms can be restricted to specific fields, e.g. `title:hello`, only documents with the term\n * hello in the title field will match this query. Using a field not present in the index will lead\n * to an error being thrown.\n *\n * Modifiers can also be added to terms, lunr supports edit distance and boost modifiers on terms. A term\n * boost will make documents matching that term score higher, e.g. `foo^5`. Edit distance is also supported\n * to provide fuzzy matching, e.g. 'hello~2' will match documents with hello with an edit distance of 2.\n * Avoid large values for edit distance to improve query performance.\n *\n * Each term also supports a presence modifier. By default a term's presence in document is optional, however\n * this can be changed to either required or prohibited. For a term's presence to be required in a document the\n * term should be prefixed with a '+', e.g. `+foo bar` is a search for documents that must contain 'foo' and\n * optionally contain 'bar'. Conversely a leading '-' sets the terms presence to prohibited, i.e. it must not\n * appear in a document, e.g. `-foo bar` is a search for documents that do not contain 'foo' but may contain 'bar'.\n *\n * To escape special characters the backslash character '\\' can be used, this allows searches to include\n * characters that would normally be considered modifiers, e.g. `foo\\~2` will search for a term \"foo~2\" instead\n * of attempting to apply a boost of 2 to the search term \"foo\".\n *\n * @typedef {string} lunr.Index~QueryString\n * @example <caption>Simple single term query</caption>\n * hello\n * @example <caption>Multiple term query</caption>\n * hello world\n * @example <caption>term scoped to a field</caption>\n * title:hello\n * @example <caption>term with a boost of 10</caption>\n * hello^10\n * @example <caption>term with an edit distance of 2</caption>\n * hello~2\n * @example <caption>terms with presence modifiers</caption>\n * -foo +bar baz\n */\n\n/**\n * Performs a search against the index using lunr query syntax.\n *\n * Results will be returned sorted by their score, the most relevant results\n * will be returned first.  For details on how the score is calculated, please see\n * the {@link https://lunrjs.com/guides/searching.html#scoring|guide}.\n *\n * For more programmatic querying use lunr.Index#query.\n *\n * @param {lunr.Index~QueryString} queryString - A string containing a lunr query.\n * @throws {lunr.QueryParseError} If the passed query string cannot be parsed.\n * @returns {lunr.Index~Result[]}\n */\nlunr.Index.prototype.search = function (queryString) {\n  return this.query(function (query) {\n    var parser = new lunr.QueryParser(queryString, query)\n    parser.parse()\n  })\n}\n\n/**\n * A query builder callback provides a query object to be used to express\n * the query to perform on the index.\n *\n * @callback lunr.Index~queryBuilder\n * @param {lunr.Query} query - The query object to build up.\n * @this lunr.Query\n */\n\n/**\n * Performs a query against the index using the yielded lunr.Query object.\n *\n * If performing programmatic queries against the index, this method is preferred\n * over lunr.Index#search so as to avoid the additional query parsing overhead.\n *\n * A query object is yielded to the supplied function which should be used to\n * express the query to be run against the index.\n *\n * Note that although this function takes a callback parameter it is _not_ an\n * asynchronous operation, the callback is just yielded a query object to be\n * customized.\n *\n * @param {lunr.Index~queryBuilder} fn - A function that is used to build the query.\n * @returns {lunr.Index~Result[]}\n */\nlunr.Index.prototype.query = function (fn) {\n  // for each query clause\n  // * process terms\n  // * expand terms from token set\n  // * find matching documents and metadata\n  // * get document vectors\n  // * score documents\n\n  var query = new lunr.Query(this.fields),\n      matchingFields = Object.create(null),\n      queryVectors = Object.create(null),\n      termFieldCache = Object.create(null),\n      requiredMatches = Object.create(null),\n      prohibitedMatches = Object.create(null)\n\n  /*\n   * To support field level boosts a query vector is created per\n   * field. An empty vector is eagerly created to support negated\n   * queries.\n   */\n  for (var i = 0; i < this.fields.length; i++) {\n    queryVectors[this.fields[i]] = new lunr.Vector\n  }\n\n  fn.call(query, query)\n\n  for (var i = 0; i < query.clauses.length; i++) {\n    /*\n     * Unless the pipeline has been disabled for this term, which is\n     * the case for terms with wildcards, we need to pass the clause\n     * term through the search pipeline. A pipeline returns an array\n     * of processed terms. Pipeline functions may expand the passed\n     * term, which means we may end up performing multiple index lookups\n     * for a single query term.\n     */\n    var clause = query.clauses[i],\n        terms = null,\n        clauseMatches = lunr.Set.complete\n\n    if (clause.usePipeline) {\n      terms = this.pipeline.runString(clause.term, {\n        fields: clause.fields\n      })\n    } else {\n      terms = [clause.term]\n    }\n\n    for (var m = 0; m < terms.length; m++) {\n      var term = terms[m]\n\n      /*\n       * Each term returned from the pipeline needs to use the same query\n       * clause object, e.g. the same boost and or edit distance. The\n       * simplest way to do this is to re-use the clause object but mutate\n       * its term property.\n       */\n      clause.term = term\n\n      /*\n       * From the term in the clause we create a token set which will then\n       * be used to intersect the indexes token set to get a list of terms\n       * to lookup in the inverted index\n       */\n      var termTokenSet = lunr.TokenSet.fromClause(clause),\n          expandedTerms = this.tokenSet.intersect(termTokenSet).toArray()\n\n      /*\n       * If a term marked as required does not exist in the tokenSet it is\n       * impossible for the search to return any matches. We set all the field\n       * scoped required matches set to empty and stop examining any further\n       * clauses.\n       */\n      if (expandedTerms.length === 0 && clause.presence === lunr.Query.presence.REQUIRED) {\n        for (var k = 0; k < clause.fields.length; k++) {\n          var field = clause.fields[k]\n          requiredMatches[field] = lunr.Set.empty\n        }\n\n        break\n      }\n\n      for (var j = 0; j < expandedTerms.length; j++) {\n        /*\n         * For each term get the posting and termIndex, this is required for\n         * building the query vector.\n         */\n        var expandedTerm = expandedTerms[j],\n            posting = this.invertedIndex[expandedTerm],\n            termIndex = posting._index\n\n        for (var k = 0; k < clause.fields.length; k++) {\n          /*\n           * For each field that this query term is scoped by (by default\n           * all fields are in scope) we need to get all the document refs\n           * that have this term in that field.\n           *\n           * The posting is the entry in the invertedIndex for the matching\n           * term from above.\n           */\n          var field = clause.fields[k],\n              fieldPosting = posting[field],\n              matchingDocumentRefs = Object.keys(fieldPosting),\n              termField = expandedTerm + \"/\" + field,\n              matchingDocumentsSet = new lunr.Set(matchingDocumentRefs)\n\n          /*\n           * if the presence of this term is required ensure that the matching\n           * documents are added to the set of required matches for this clause.\n           *\n           */\n          if (clause.presence == lunr.Query.presence.REQUIRED) {\n            clauseMatches = clauseMatches.union(matchingDocumentsSet)\n\n            if (requiredMatches[field] === undefined) {\n              requiredMatches[field] = lunr.Set.complete\n            }\n          }\n\n          /*\n           * if the presence of this term is prohibited ensure that the matching\n           * documents are added to the set of prohibited matches for this field,\n           * creating that set if it does not yet exist.\n           */\n          if (clause.presence == lunr.Query.presence.PROHIBITED) {\n            if (prohibitedMatches[field] === undefined) {\n              prohibitedMatches[field] = lunr.Set.empty\n            }\n\n            prohibitedMatches[field] = prohibitedMatches[field].union(matchingDocumentsSet)\n\n            /*\n             * Prohibited matches should not be part of the query vector used for\n             * similarity scoring and no metadata should be extracted so we continue\n             * to the next field\n             */\n            continue\n          }\n\n          /*\n           * The query field vector is populated using the termIndex found for\n           * the term and a unit value with the appropriate boost applied.\n           * Using upsert because there could already be an entry in the vector\n           * for the term we are working with. In that case we just add the scores\n           * together.\n           */\n          queryVectors[field].upsert(termIndex, clause.boost, function (a, b) { return a + b })\n\n          /**\n           * If we've already seen this term, field combo then we've already collected\n           * the matching documents and metadata, no need to go through all that again\n           */\n          if (termFieldCache[termField]) {\n            continue\n          }\n\n          for (var l = 0; l < matchingDocumentRefs.length; l++) {\n            /*\n             * All metadata for this term/field/document triple\n             * are then extracted and collected into an instance\n             * of lunr.MatchData ready to be returned in the query\n             * results\n             */\n            var matchingDocumentRef = matchingDocumentRefs[l],\n                matchingFieldRef = new lunr.FieldRef (matchingDocumentRef, field),\n                metadata = fieldPosting[matchingDocumentRef],\n                fieldMatch\n\n            if ((fieldMatch = matchingFields[matchingFieldRef]) === undefined) {\n              matchingFields[matchingFieldRef] = new lunr.MatchData (expandedTerm, field, metadata)\n            } else {\n              fieldMatch.add(expandedTerm, field, metadata)\n            }\n\n          }\n\n          termFieldCache[termField] = true\n        }\n      }\n    }\n\n    /**\n     * If the presence was required we need to update the requiredMatches field sets.\n     * We do this after all fields for the term have collected their matches because\n     * the clause terms presence is required in _any_ of the fields not _all_ of the\n     * fields.\n     */\n    if (clause.presence === lunr.Query.presence.REQUIRED) {\n      for (var k = 0; k < clause.fields.length; k++) {\n        var field = clause.fields[k]\n        requiredMatches[field] = requiredMatches[field].intersect(clauseMatches)\n      }\n    }\n  }\n\n  /**\n   * Need to combine the field scoped required and prohibited\n   * matching documents into a global set of required and prohibited\n   * matches\n   */\n  var allRequiredMatches = lunr.Set.complete,\n      allProhibitedMatches = lunr.Set.empty\n\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i]\n\n    if (requiredMatches[field]) {\n      allRequiredMatches = allRequiredMatches.intersect(requiredMatches[field])\n    }\n\n    if (prohibitedMatches[field]) {\n      allProhibitedMatches = allProhibitedMatches.union(prohibitedMatches[field])\n    }\n  }\n\n  var matchingFieldRefs = Object.keys(matchingFields),\n      results = [],\n      matches = Object.create(null)\n\n  /*\n   * If the query is negated (contains only prohibited terms)\n   * we need to get _all_ fieldRefs currently existing in the\n   * index. This is only done when we know that the query is\n   * entirely prohibited terms to avoid any cost of getting all\n   * fieldRefs unnecessarily.\n   *\n   * Additionally, blank MatchData must be created to correctly\n   * populate the results.\n   */\n  if (query.isNegated()) {\n    matchingFieldRefs = Object.keys(this.fieldVectors)\n\n    for (var i = 0; i < matchingFieldRefs.length; i++) {\n      var matchingFieldRef = matchingFieldRefs[i]\n      var fieldRef = lunr.FieldRef.fromString(matchingFieldRef)\n      matchingFields[matchingFieldRef] = new lunr.MatchData\n    }\n  }\n\n  for (var i = 0; i < matchingFieldRefs.length; i++) {\n    /*\n     * Currently we have document fields that match the query, but we\n     * need to return documents. The matchData and scores are combined\n     * from multiple fields belonging to the same document.\n     *\n     * Scores are calculated by field, using the query vectors created\n     * above, and combined into a final document score using addition.\n     */\n    var fieldRef = lunr.FieldRef.fromString(matchingFieldRefs[i]),\n        docRef = fieldRef.docRef\n\n    if (!allRequiredMatches.contains(docRef)) {\n      continue\n    }\n\n    if (allProhibitedMatches.contains(docRef)) {\n      continue\n    }\n\n    var fieldVector = this.fieldVectors[fieldRef],\n        score = queryVectors[fieldRef.fieldName].similarity(fieldVector),\n        docMatch\n\n    if ((docMatch = matches[docRef]) !== undefined) {\n      docMatch.score += score\n      docMatch.matchData.combine(matchingFields[fieldRef])\n    } else {\n      var match = {\n        ref: docRef,\n        score: score,\n        matchData: matchingFields[fieldRef]\n      }\n      matches[docRef] = match\n      results.push(match)\n    }\n  }\n\n  /*\n   * Sort the results objects by score, highest first.\n   */\n  return results.sort(function (a, b) {\n    return b.score - a.score\n  })\n}\n\n/**\n * Prepares the index for JSON serialization.\n *\n * The schema for this JSON blob will be described in a\n * separate JSON schema file.\n *\n * @returns {Object}\n */\nlunr.Index.prototype.toJSON = function () {\n  var invertedIndex = Object.keys(this.invertedIndex)\n    .sort()\n    .map(function (term) {\n      return [term, this.invertedIndex[term]]\n    }, this)\n\n  var fieldVectors = Object.keys(this.fieldVectors)\n    .map(function (ref) {\n      return [ref, this.fieldVectors[ref].toJSON()]\n    }, this)\n\n  return {\n    version: lunr.version,\n    fields: this.fields,\n    fieldVectors: fieldVectors,\n    invertedIndex: invertedIndex,\n    pipeline: this.pipeline.toJSON()\n  }\n}\n\n/**\n * Loads a previously serialized lunr.Index\n *\n * @param {Object} serializedIndex - A previously serialized lunr.Index\n * @returns {lunr.Index}\n */\nlunr.Index.load = function (serializedIndex) {\n  var attrs = {},\n      fieldVectors = {},\n      serializedVectors = serializedIndex.fieldVectors,\n      invertedIndex = Object.create(null),\n      serializedInvertedIndex = serializedIndex.invertedIndex,\n      tokenSetBuilder = new lunr.TokenSet.Builder,\n      pipeline = lunr.Pipeline.load(serializedIndex.pipeline)\n\n  if (serializedIndex.version != lunr.version) {\n    lunr.utils.warn(\"Version mismatch when loading serialised index. Current version of lunr '\" + lunr.version + \"' does not match serialized index '\" + serializedIndex.version + \"'\")\n  }\n\n  for (var i = 0; i < serializedVectors.length; i++) {\n    var tuple = serializedVectors[i],\n        ref = tuple[0],\n        elements = tuple[1]\n\n    fieldVectors[ref] = new lunr.Vector(elements)\n  }\n\n  for (var i = 0; i < serializedInvertedIndex.length; i++) {\n    var tuple = serializedInvertedIndex[i],\n        term = tuple[0],\n        posting = tuple[1]\n\n    tokenSetBuilder.insert(term)\n    invertedIndex[term] = posting\n  }\n\n  tokenSetBuilder.finish()\n\n  attrs.fields = serializedIndex.fields\n\n  attrs.fieldVectors = fieldVectors\n  attrs.invertedIndex = invertedIndex\n  attrs.tokenSet = tokenSetBuilder.root\n  attrs.pipeline = pipeline\n\n  return new lunr.Index(attrs)\n}\n/*!\n * lunr.Builder\n * Copyright (C) 2019 Oliver Nightingale\n */\n\n/**\n * lunr.Builder performs indexing on a set of documents and\n * returns instances of lunr.Index ready for querying.\n *\n * All configuration of the index is done via the builder, the\n * fields to index, the document reference, the text processing\n * pipeline and document scoring parameters are all set on the\n * builder before indexing.\n *\n * @constructor\n * @property {string} _ref - Internal reference to the document reference field.\n * @property {string[]} _fields - Internal reference to the document fields to index.\n * @property {object} invertedIndex - The inverted index maps terms to document fields.\n * @property {object} documentTermFrequencies - Keeps track of document term frequencies.\n * @property {object} documentLengths - Keeps track of the length of documents added to the index.\n * @property {lunr.tokenizer} tokenizer - Function for splitting strings into tokens for indexing.\n * @property {lunr.Pipeline} pipeline - The pipeline performs text processing on tokens before indexing.\n * @property {lunr.Pipeline} searchPipeline - A pipeline for processing search terms before querying the index.\n * @property {number} documentCount - Keeps track of the total number of documents indexed.\n * @property {number} _b - A parameter to control field length normalization, setting this to 0 disabled normalization, 1 fully normalizes field lengths, the default value is 0.75.\n * @property {number} _k1 - A parameter to control how quickly an increase in term frequency results in term frequency saturation, the default value is 1.2.\n * @property {number} termIndex - A counter incremented for each unique term, used to identify a terms position in the vector space.\n * @property {array} metadataWhitelist - A list of metadata keys that have been whitelisted for entry in the index.\n */\nlunr.Builder = function () {\n  this._ref = \"id\"\n  this._fields = Object.create(null)\n  this._documents = Object.create(null)\n  this.invertedIndex = Object.create(null)\n  this.fieldTermFrequencies = {}\n  this.fieldLengths = {}\n  this.tokenizer = lunr.tokenizer\n  this.pipeline = new lunr.Pipeline\n  this.searchPipeline = new lunr.Pipeline\n  this.documentCount = 0\n  this._b = 0.75\n  this._k1 = 1.2\n  this.termIndex = 0\n  this.metadataWhitelist = []\n}\n\n/**\n * Sets the document field used as the document reference. Every document must have this field.\n * The type of this field in the document should be a string, if it is not a string it will be\n * coerced into a string by calling toString.\n *\n * The default ref is 'id'.\n *\n * The ref should _not_ be changed during indexing, it should be set before any documents are\n * added to the index. Changing it during indexing can lead to inconsistent results.\n *\n * @param {string} ref - The name of the reference field in the document.\n */\nlunr.Builder.prototype.ref = function (ref) {\n  this._ref = ref\n}\n\n/**\n * A function that is used to extract a field from a document.\n *\n * Lunr expects a field to be at the top level of a document, if however the field\n * is deeply nested within a document an extractor function can be used to extract\n * the right field for indexing.\n *\n * @callback fieldExtractor\n * @param {object} doc - The document being added to the index.\n * @returns {?(string|object|object[])} obj - The object that will be indexed for this field.\n * @example <caption>Extracting a nested field</caption>\n * function (doc) { return doc.nested.field }\n */\n\n/**\n * Adds a field to the list of document fields that will be indexed. Every document being\n * indexed should have this field. Null values for this field in indexed documents will\n * not cause errors but will limit the chance of that document being retrieved by searches.\n *\n * All fields should be added before adding documents to the index. Adding fields after\n * a document has been indexed will have no effect on already indexed documents.\n *\n * Fields can be boosted at build time. This allows terms within that field to have more\n * importance when ranking search results. Use a field boost to specify that matches within\n * one field are more important than other fields.\n *\n * @param {string} fieldName - The name of a field to index in all documents.\n * @param {object} attributes - Optional attributes associated with this field.\n * @param {number} [attributes.boost=1] - Boost applied to all terms within this field.\n * @param {fieldExtractor} [attributes.extractor] - Function to extract a field from a document.\n * @throws {RangeError} fieldName cannot contain unsupported characters '/'\n */\nlunr.Builder.prototype.field = function (fieldName, attributes) {\n  if (/\\//.test(fieldName)) {\n    throw new RangeError (\"Field '\" + fieldName + \"' contains illegal character '/'\")\n  }\n\n  this._fields[fieldName] = attributes || {}\n}\n\n/**\n * A parameter to tune the amount of field length normalisation that is applied when\n * calculating relevance scores. A value of 0 will completely disable any normalisation\n * and a value of 1 will fully normalise field lengths. The default is 0.75. Values of b\n * will be clamped to the range 0 - 1.\n *\n * @param {number} number - The value to set for this tuning parameter.\n */\nlunr.Builder.prototype.b = function (number) {\n  if (number < 0) {\n    this._b = 0\n  } else if (number > 1) {\n    this._b = 1\n  } else {\n    this._b = number\n  }\n}\n\n/**\n * A parameter that controls the speed at which a rise in term frequency results in term\n * frequency saturation. The default value is 1.2. Setting this to a higher value will give\n * slower saturation levels, a lower value will result in quicker saturation.\n *\n * @param {number} number - The value to set for this tuning parameter.\n */\nlunr.Builder.prototype.k1 = function (number) {\n  this._k1 = number\n}\n\n/**\n * Adds a document to the index.\n *\n * Before adding fields to the index the index should have been fully setup, with the document\n * ref and all fields to index already having been specified.\n *\n * The document must have a field name as specified by the ref (by default this is 'id') and\n * it should have all fields defined for indexing, though null or undefined values will not\n * cause errors.\n *\n * Entire documents can be boosted at build time. Applying a boost to a document indicates that\n * this document should rank higher in search results than other documents.\n *\n * @param {object} doc - The document to add to the index.\n * @param {object} attributes - Optional attributes associated with this document.\n * @param {number} [attributes.boost=1] - Boost applied to all terms within this document.\n */\nlunr.Builder.prototype.add = function (doc, attributes) {\n  var docRef = doc[this._ref],\n      fields = Object.keys(this._fields)\n\n  this._documents[docRef] = attributes || {}\n  this.documentCount += 1\n\n  for (var i = 0; i < fields.length; i++) {\n    var fieldName = fields[i],\n        extractor = this._fields[fieldName].extractor,\n        field = extractor ? extractor(doc) : doc[fieldName],\n        tokens = this.tokenizer(field, {\n          fields: [fieldName]\n        }),\n        terms = this.pipeline.run(tokens),\n        fieldRef = new lunr.FieldRef (docRef, fieldName),\n        fieldTerms = Object.create(null)\n\n    this.fieldTermFrequencies[fieldRef] = fieldTerms\n    this.fieldLengths[fieldRef] = 0\n\n    // store the length of this field for this document\n    this.fieldLengths[fieldRef] += terms.length\n\n    // calculate term frequencies for this field\n    for (var j = 0; j < terms.length; j++) {\n      var term = terms[j]\n\n      if (fieldTerms[term] == undefined) {\n        fieldTerms[term] = 0\n      }\n\n      fieldTerms[term] += 1\n\n      // add to inverted index\n      // create an initial posting if one doesn't exist\n      if (this.invertedIndex[term] == undefined) {\n        var posting = Object.create(null)\n        posting[\"_index\"] = this.termIndex\n        this.termIndex += 1\n\n        for (var k = 0; k < fields.length; k++) {\n          posting[fields[k]] = Object.create(null)\n        }\n\n        this.invertedIndex[term] = posting\n      }\n\n      // add an entry for this term/fieldName/docRef to the invertedIndex\n      if (this.invertedIndex[term][fieldName][docRef] == undefined) {\n        this.invertedIndex[term][fieldName][docRef] = Object.create(null)\n      }\n\n      // store all whitelisted metadata about this token in the\n      // inverted index\n      for (var l = 0; l < this.metadataWhitelist.length; l++) {\n        var metadataKey = this.metadataWhitelist[l],\n            metadata = term.metadata[metadataKey]\n\n        if (this.invertedIndex[term][fieldName][docRef][metadataKey] == undefined) {\n          this.invertedIndex[term][fieldName][docRef][metadataKey] = []\n        }\n\n        this.invertedIndex[term][fieldName][docRef][metadataKey].push(metadata)\n      }\n    }\n\n  }\n}\n\n/**\n * Calculates the average document length for this index\n *\n * @private\n */\nlunr.Builder.prototype.calculateAverageFieldLengths = function () {\n\n  var fieldRefs = Object.keys(this.fieldLengths),\n      numberOfFields = fieldRefs.length,\n      accumulator = {},\n      documentsWithField = {}\n\n  for (var i = 0; i < numberOfFields; i++) {\n    var fieldRef = lunr.FieldRef.fromString(fieldRefs[i]),\n        field = fieldRef.fieldName\n\n    documentsWithField[field] || (documentsWithField[field] = 0)\n    documentsWithField[field] += 1\n\n    accumulator[field] || (accumulator[field] = 0)\n    accumulator[field] += this.fieldLengths[fieldRef]\n  }\n\n  var fields = Object.keys(this._fields)\n\n  for (var i = 0; i < fields.length; i++) {\n    var fieldName = fields[i]\n    accumulator[fieldName] = accumulator[fieldName] / documentsWithField[fieldName]\n  }\n\n  this.averageFieldLength = accumulator\n}\n\n/**\n * Builds a vector space model of every document using lunr.Vector\n *\n * @private\n */\nlunr.Builder.prototype.createFieldVectors = function () {\n  var fieldVectors = {},\n      fieldRefs = Object.keys(this.fieldTermFrequencies),\n      fieldRefsLength = fieldRefs.length,\n      termIdfCache = Object.create(null)\n\n  for (var i = 0; i < fieldRefsLength; i++) {\n    var fieldRef = lunr.FieldRef.fromString(fieldRefs[i]),\n        fieldName = fieldRef.fieldName,\n        fieldLength = this.fieldLengths[fieldRef],\n        fieldVector = new lunr.Vector,\n        termFrequencies = this.fieldTermFrequencies[fieldRef],\n        terms = Object.keys(termFrequencies),\n        termsLength = terms.length\n\n\n    var fieldBoost = this._fields[fieldName].boost || 1,\n        docBoost = this._documents[fieldRef.docRef].boost || 1\n\n    for (var j = 0; j < termsLength; j++) {\n      var term = terms[j],\n          tf = termFrequencies[term],\n          termIndex = this.invertedIndex[term]._index,\n          idf, score, scoreWithPrecision\n\n      if (termIdfCache[term] === undefined) {\n        idf = lunr.idf(this.invertedIndex[term], this.documentCount)\n        termIdfCache[term] = idf\n      } else {\n        idf = termIdfCache[term]\n      }\n\n      score = idf * ((this._k1 + 1) * tf) / (this._k1 * (1 - this._b + this._b * (fieldLength / this.averageFieldLength[fieldName])) + tf)\n      score *= fieldBoost\n      score *= docBoost\n      scoreWithPrecision = Math.round(score * 1000) / 1000\n      // Converts 1.23456789 to 1.234.\n      // Reducing the precision so that the vectors take up less\n      // space when serialised. Doing it now so that they behave\n      // the same before and after serialisation. Also, this is\n      // the fastest approach to reducing a number's precision in\n      // JavaScript.\n\n      fieldVector.insert(termIndex, scoreWithPrecision)\n    }\n\n    fieldVectors[fieldRef] = fieldVector\n  }\n\n  this.fieldVectors = fieldVectors\n}\n\n/**\n * Creates a token set of all tokens in the index using lunr.TokenSet\n *\n * @private\n */\nlunr.Builder.prototype.createTokenSet = function () {\n  this.tokenSet = lunr.TokenSet.fromArray(\n    Object.keys(this.invertedIndex).sort()\n  )\n}\n\n/**\n * Builds the index, creating an instance of lunr.Index.\n *\n * This completes the indexing process and should only be called\n * once all documents have been added to the index.\n *\n * @returns {lunr.Index}\n */\nlunr.Builder.prototype.build = function () {\n  this.calculateAverageFieldLengths()\n  this.createFieldVectors()\n  this.createTokenSet()\n\n  return new lunr.Index({\n    invertedIndex: this.invertedIndex,\n    fieldVectors: this.fieldVectors,\n    tokenSet: this.tokenSet,\n    fields: Object.keys(this._fields),\n    pipeline: this.searchPipeline\n  })\n}\n\n/**\n * Applies a plugin to the index builder.\n *\n * A plugin is a function that is called with the index builder as its context.\n * Plugins can be used to customise or extend the behaviour of the index\n * in some way. A plugin is just a function, that encapsulated the custom\n * behaviour that should be applied when building the index.\n *\n * The plugin function will be called with the index builder as its argument, additional\n * arguments can also be passed when calling use. The function will be called\n * with the index builder as its context.\n *\n * @param {Function} plugin The plugin to apply.\n */\nlunr.Builder.prototype.use = function (fn) {\n  var args = Array.prototype.slice.call(arguments, 1)\n  args.unshift(this)\n  fn.apply(this, args)\n}\n/**\n * Contains and collects metadata about a matching document.\n * A single instance of lunr.MatchData is returned as part of every\n * lunr.Index~Result.\n *\n * @constructor\n * @param {string} term - The term this match data is associated with\n * @param {string} field - The field in which the term was found\n * @param {object} metadata - The metadata recorded about this term in this field\n * @property {object} metadata - A cloned collection of metadata associated with this document.\n * @see {@link lunr.Index~Result}\n */\nlunr.MatchData = function (term, field, metadata) {\n  var clonedMetadata = Object.create(null),\n      metadataKeys = Object.keys(metadata || {})\n\n  // Cloning the metadata to prevent the original\n  // being mutated during match data combination.\n  // Metadata is kept in an array within the inverted\n  // index so cloning the data can be done with\n  // Array#slice\n  for (var i = 0; i < metadataKeys.length; i++) {\n    var key = metadataKeys[i]\n    clonedMetadata[key] = metadata[key].slice()\n  }\n\n  this.metadata = Object.create(null)\n\n  if (term !== undefined) {\n    this.metadata[term] = Object.create(null)\n    this.metadata[term][field] = clonedMetadata\n  }\n}\n\n/**\n * An instance of lunr.MatchData will be created for every term that matches a\n * document. However only one instance is required in a lunr.Index~Result. This\n * method combines metadata from another instance of lunr.MatchData with this\n * objects metadata.\n *\n * @param {lunr.MatchData} otherMatchData - Another instance of match data to merge with this one.\n * @see {@link lunr.Index~Result}\n */\nlunr.MatchData.prototype.combine = function (otherMatchData) {\n  var terms = Object.keys(otherMatchData.metadata)\n\n  for (var i = 0; i < terms.length; i++) {\n    var term = terms[i],\n        fields = Object.keys(otherMatchData.metadata[term])\n\n    if (this.metadata[term] == undefined) {\n      this.metadata[term] = Object.create(null)\n    }\n\n    for (var j = 0; j < fields.length; j++) {\n      var field = fields[j],\n          keys = Object.keys(otherMatchData.metadata[term][field])\n\n      if (this.metadata[term][field] == undefined) {\n        this.metadata[term][field] = Object.create(null)\n      }\n\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k]\n\n        if (this.metadata[term][field][key] == undefined) {\n          this.metadata[term][field][key] = otherMatchData.metadata[term][field][key]\n        } else {\n          this.metadata[term][field][key] = this.metadata[term][field][key].concat(otherMatchData.metadata[term][field][key])\n        }\n\n      }\n    }\n  }\n}\n\n/**\n * Add metadata for a term/field pair to this instance of match data.\n *\n * @param {string} term - The term this match data is associated with\n * @param {string} field - The field in which the term was found\n * @param {object} metadata - The metadata recorded about this term in this field\n */\nlunr.MatchData.prototype.add = function (term, field, metadata) {\n  if (!(term in this.metadata)) {\n    this.metadata[term] = Object.create(null)\n    this.metadata[term][field] = metadata\n    return\n  }\n\n  if (!(field in this.metadata[term])) {\n    this.metadata[term][field] = metadata\n    return\n  }\n\n  var metadataKeys = Object.keys(metadata)\n\n  for (var i = 0; i < metadataKeys.length; i++) {\n    var key = metadataKeys[i]\n\n    if (key in this.metadata[term][field]) {\n      this.metadata[term][field][key] = this.metadata[term][field][key].concat(metadata[key])\n    } else {\n      this.metadata[term][field][key] = metadata[key]\n    }\n  }\n}\n/**\n * A lunr.Query provides a programmatic way of defining queries to be performed\n * against a {@link lunr.Index}.\n *\n * Prefer constructing a lunr.Query using the {@link lunr.Index#query} method\n * so the query object is pre-initialized with the right index fields.\n *\n * @constructor\n * @property {lunr.Query~Clause[]} clauses - An array of query clauses.\n * @property {string[]} allFields - An array of all available fields in a lunr.Index.\n */\nlunr.Query = function (allFields) {\n  this.clauses = []\n  this.allFields = allFields\n}\n\n/**\n * Constants for indicating what kind of automatic wildcard insertion will be used when constructing a query clause.\n *\n * This allows wildcards to be added to the beginning and end of a term without having to manually do any string\n * concatenation.\n *\n * The wildcard constants can be bitwise combined to select both leading and trailing wildcards.\n *\n * @constant\n * @default\n * @property {number} wildcard.NONE - The term will have no wildcards inserted, this is the default behaviour\n * @property {number} wildcard.LEADING - Prepend the term with a wildcard, unless a leading wildcard already exists\n * @property {number} wildcard.TRAILING - Append a wildcard to the term, unless a trailing wildcard already exists\n * @see lunr.Query~Clause\n * @see lunr.Query#clause\n * @see lunr.Query#term\n * @example <caption>query term with trailing wildcard</caption>\n * query.term('foo', { wildcard: lunr.Query.wildcard.TRAILING })\n * @example <caption>query term with leading and trailing wildcard</caption>\n * query.term('foo', {\n *   wildcard: lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING\n * })\n */\n\nlunr.Query.wildcard = new String (\"*\")\nlunr.Query.wildcard.NONE = 0\nlunr.Query.wildcard.LEADING = 1\nlunr.Query.wildcard.TRAILING = 2\n\n/**\n * Constants for indicating what kind of presence a term must have in matching documents.\n *\n * @constant\n * @enum {number}\n * @see lunr.Query~Clause\n * @see lunr.Query#clause\n * @see lunr.Query#term\n * @example <caption>query term with required presence</caption>\n * query.term('foo', { presence: lunr.Query.presence.REQUIRED })\n */\nlunr.Query.presence = {\n  /**\n   * Term's presence in a document is optional, this is the default value.\n   */\n  OPTIONAL: 1,\n\n  /**\n   * Term's presence in a document is required, documents that do not contain\n   * this term will not be returned.\n   */\n  REQUIRED: 2,\n\n  /**\n   * Term's presence in a document is prohibited, documents that do contain\n   * this term will not be returned.\n   */\n  PROHIBITED: 3\n}\n\n/**\n * A single clause in a {@link lunr.Query} contains a term and details on how to\n * match that term against a {@link lunr.Index}.\n *\n * @typedef {Object} lunr.Query~Clause\n * @property {string[]} fields - The fields in an index this clause should be matched against.\n * @property {number} [boost=1] - Any boost that should be applied when matching this clause.\n * @property {number} [editDistance] - Whether the term should have fuzzy matching applied, and how fuzzy the match should be.\n * @property {boolean} [usePipeline] - Whether the term should be passed through the search pipeline.\n * @property {number} [wildcard=lunr.Query.wildcard.NONE] - Whether the term should have wildcards appended or prepended.\n * @property {number} [presence=lunr.Query.presence.OPTIONAL] - The terms presence in any matching documents.\n */\n\n/**\n * Adds a {@link lunr.Query~Clause} to this query.\n *\n * Unless the clause contains the fields to be matched all fields will be matched. In addition\n * a default boost of 1 is applied to the clause.\n *\n * @param {lunr.Query~Clause} clause - The clause to add to this query.\n * @see lunr.Query~Clause\n * @returns {lunr.Query}\n */\nlunr.Query.prototype.clause = function (clause) {\n  if (!('fields' in clause)) {\n    clause.fields = this.allFields\n  }\n\n  if (!('boost' in clause)) {\n    clause.boost = 1\n  }\n\n  if (!('usePipeline' in clause)) {\n    clause.usePipeline = true\n  }\n\n  if (!('wildcard' in clause)) {\n    clause.wildcard = lunr.Query.wildcard.NONE\n  }\n\n  if ((clause.wildcard & lunr.Query.wildcard.LEADING) && (clause.term.charAt(0) != lunr.Query.wildcard)) {\n    clause.term = \"*\" + clause.term\n  }\n\n  if ((clause.wildcard & lunr.Query.wildcard.TRAILING) && (clause.term.slice(-1) != lunr.Query.wildcard)) {\n    clause.term = \"\" + clause.term + \"*\"\n  }\n\n  if (!('presence' in clause)) {\n    clause.presence = lunr.Query.presence.OPTIONAL\n  }\n\n  this.clauses.push(clause)\n\n  return this\n}\n\n/**\n * A negated query is one in which every clause has a presence of\n * prohibited. These queries require some special processing to return\n * the expected results.\n *\n * @returns boolean\n */\nlunr.Query.prototype.isNegated = function () {\n  for (var i = 0; i < this.clauses.length; i++) {\n    if (this.clauses[i].presence != lunr.Query.presence.PROHIBITED) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Adds a term to the current query, under the covers this will create a {@link lunr.Query~Clause}\n * to the list of clauses that make up this query.\n *\n * The term is used as is, i.e. no tokenization will be performed by this method. Instead conversion\n * to a token or token-like string should be done before calling this method.\n *\n * The term will be converted to a string by calling `toString`. Multiple terms can be passed as an\n * array, each term in the array will share the same options.\n *\n * @param {object|object[]} term - The term(s) to add to the query.\n * @param {object} [options] - Any additional properties to add to the query clause.\n * @returns {lunr.Query}\n * @see lunr.Query#clause\n * @see lunr.Query~Clause\n * @example <caption>adding a single term to a query</caption>\n * query.term(\"foo\")\n * @example <caption>adding a single term to a query and specifying search fields, term boost and automatic trailing wildcard</caption>\n * query.term(\"foo\", {\n *   fields: [\"title\"],\n *   boost: 10,\n *   wildcard: lunr.Query.wildcard.TRAILING\n * })\n * @example <caption>using lunr.tokenizer to convert a string to tokens before using them as terms</caption>\n * query.term(lunr.tokenizer(\"foo bar\"))\n */\nlunr.Query.prototype.term = function (term, options) {\n  if (Array.isArray(term)) {\n    term.forEach(function (t) { this.term(t, lunr.utils.clone(options)) }, this)\n    return this\n  }\n\n  var clause = options || {}\n  clause.term = term.toString()\n\n  this.clause(clause)\n\n  return this\n}\nlunr.QueryParseError = function (message, start, end) {\n  this.name = \"QueryParseError\"\n  this.message = message\n  this.start = start\n  this.end = end\n}\n\nlunr.QueryParseError.prototype = new Error\nlunr.QueryLexer = function (str) {\n  this.lexemes = []\n  this.str = str\n  this.length = str.length\n  this.pos = 0\n  this.start = 0\n  this.escapeCharPositions = []\n}\n\nlunr.QueryLexer.prototype.run = function () {\n  var state = lunr.QueryLexer.lexText\n\n  while (state) {\n    state = state(this)\n  }\n}\n\nlunr.QueryLexer.prototype.sliceString = function () {\n  var subSlices = [],\n      sliceStart = this.start,\n      sliceEnd = this.pos\n\n  for (var i = 0; i < this.escapeCharPositions.length; i++) {\n    sliceEnd = this.escapeCharPositions[i]\n    subSlices.push(this.str.slice(sliceStart, sliceEnd))\n    sliceStart = sliceEnd + 1\n  }\n\n  subSlices.push(this.str.slice(sliceStart, this.pos))\n  this.escapeCharPositions.length = 0\n\n  return subSlices.join('')\n}\n\nlunr.QueryLexer.prototype.emit = function (type) {\n  this.lexemes.push({\n    type: type,\n    str: this.sliceString(),\n    start: this.start,\n    end: this.pos\n  })\n\n  this.start = this.pos\n}\n\nlunr.QueryLexer.prototype.escapeCharacter = function () {\n  this.escapeCharPositions.push(this.pos - 1)\n  this.pos += 1\n}\n\nlunr.QueryLexer.prototype.next = function () {\n  if (this.pos >= this.length) {\n    return lunr.QueryLexer.EOS\n  }\n\n  var char = this.str.charAt(this.pos)\n  this.pos += 1\n  return char\n}\n\nlunr.QueryLexer.prototype.width = function () {\n  return this.pos - this.start\n}\n\nlunr.QueryLexer.prototype.ignore = function () {\n  if (this.start == this.pos) {\n    this.pos += 1\n  }\n\n  this.start = this.pos\n}\n\nlunr.QueryLexer.prototype.backup = function () {\n  this.pos -= 1\n}\n\nlunr.QueryLexer.prototype.acceptDigitRun = function () {\n  var char, charCode\n\n  do {\n    char = this.next()\n    charCode = char.charCodeAt(0)\n  } while (charCode > 47 && charCode < 58)\n\n  if (char != lunr.QueryLexer.EOS) {\n    this.backup()\n  }\n}\n\nlunr.QueryLexer.prototype.more = function () {\n  return this.pos < this.length\n}\n\nlunr.QueryLexer.EOS = 'EOS'\nlunr.QueryLexer.FIELD = 'FIELD'\nlunr.QueryLexer.TERM = 'TERM'\nlunr.QueryLexer.EDIT_DISTANCE = 'EDIT_DISTANCE'\nlunr.QueryLexer.BOOST = 'BOOST'\nlunr.QueryLexer.PRESENCE = 'PRESENCE'\n\nlunr.QueryLexer.lexField = function (lexer) {\n  lexer.backup()\n  lexer.emit(lunr.QueryLexer.FIELD)\n  lexer.ignore()\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexTerm = function (lexer) {\n  if (lexer.width() > 1) {\n    lexer.backup()\n    lexer.emit(lunr.QueryLexer.TERM)\n  }\n\n  lexer.ignore()\n\n  if (lexer.more()) {\n    return lunr.QueryLexer.lexText\n  }\n}\n\nlunr.QueryLexer.lexEditDistance = function (lexer) {\n  lexer.ignore()\n  lexer.acceptDigitRun()\n  lexer.emit(lunr.QueryLexer.EDIT_DISTANCE)\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexBoost = function (lexer) {\n  lexer.ignore()\n  lexer.acceptDigitRun()\n  lexer.emit(lunr.QueryLexer.BOOST)\n  return lunr.QueryLexer.lexText\n}\n\nlunr.QueryLexer.lexEOS = function (lexer) {\n  if (lexer.width() > 0) {\n    lexer.emit(lunr.QueryLexer.TERM)\n  }\n}\n\n// This matches the separator used when tokenising fields\n// within a document. These should match otherwise it is\n// not possible to search for some tokens within a document.\n//\n// It is possible for the user to change the separator on the\n// tokenizer so it _might_ clash with any other of the special\n// characters already used within the search string, e.g. :.\n//\n// This means that it is possible to change the separator in\n// such a way that makes some words unsearchable using a search\n// string.\nlunr.QueryLexer.termSeparator = lunr.tokenizer.separator\n\nlunr.QueryLexer.lexText = function (lexer) {\n  while (true) {\n    var char = lexer.next()\n\n    if (char == lunr.QueryLexer.EOS) {\n      return lunr.QueryLexer.lexEOS\n    }\n\n    // Escape character is '\\'\n    if (char.charCodeAt(0) == 92) {\n      lexer.escapeCharacter()\n      continue\n    }\n\n    if (char == \":\") {\n      return lunr.QueryLexer.lexField\n    }\n\n    if (char == \"~\") {\n      lexer.backup()\n      if (lexer.width() > 0) {\n        lexer.emit(lunr.QueryLexer.TERM)\n      }\n      return lunr.QueryLexer.lexEditDistance\n    }\n\n    if (char == \"^\") {\n      lexer.backup()\n      if (lexer.width() > 0) {\n        lexer.emit(lunr.QueryLexer.TERM)\n      }\n      return lunr.QueryLexer.lexBoost\n    }\n\n    // \"+\" indicates term presence is required\n    // checking for length to ensure that only\n    // leading \"+\" are considered\n    if (char == \"+\" && lexer.width() === 1) {\n      lexer.emit(lunr.QueryLexer.PRESENCE)\n      return lunr.QueryLexer.lexText\n    }\n\n    // \"-\" indicates term presence is prohibited\n    // checking for length to ensure that only\n    // leading \"-\" are considered\n    if (char == \"-\" && lexer.width() === 1) {\n      lexer.emit(lunr.QueryLexer.PRESENCE)\n      return lunr.QueryLexer.lexText\n    }\n\n    if (char.match(lunr.QueryLexer.termSeparator)) {\n      return lunr.QueryLexer.lexTerm\n    }\n  }\n}\n\nlunr.QueryParser = function (str, query) {\n  this.lexer = new lunr.QueryLexer (str)\n  this.query = query\n  this.currentClause = {}\n  this.lexemeIdx = 0\n}\n\nlunr.QueryParser.prototype.parse = function () {\n  this.lexer.run()\n  this.lexemes = this.lexer.lexemes\n\n  var state = lunr.QueryParser.parseClause\n\n  while (state) {\n    state = state(this)\n  }\n\n  return this.query\n}\n\nlunr.QueryParser.prototype.peekLexeme = function () {\n  return this.lexemes[this.lexemeIdx]\n}\n\nlunr.QueryParser.prototype.consumeLexeme = function () {\n  var lexeme = this.peekLexeme()\n  this.lexemeIdx += 1\n  return lexeme\n}\n\nlunr.QueryParser.prototype.nextClause = function () {\n  var completedClause = this.currentClause\n  this.query.clause(completedClause)\n  this.currentClause = {}\n}\n\nlunr.QueryParser.parseClause = function (parser) {\n  var lexeme = parser.peekLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  switch (lexeme.type) {\n    case lunr.QueryLexer.PRESENCE:\n      return lunr.QueryParser.parsePresence\n    case lunr.QueryLexer.FIELD:\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expected either a field or a term, found \" + lexeme.type\n\n      if (lexeme.str.length >= 1) {\n        errorMessage += \" with value '\" + lexeme.str + \"'\"\n      }\n\n      throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n}\n\nlunr.QueryParser.parsePresence = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  switch (lexeme.str) {\n    case \"-\":\n      parser.currentClause.presence = lunr.Query.presence.PROHIBITED\n      break\n    case \"+\":\n      parser.currentClause.presence = lunr.Query.presence.REQUIRED\n      break\n    default:\n      var errorMessage = \"unrecognised presence operator'\" + lexeme.str + \"'\"\n      throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    var errorMessage = \"expecting term or field, found nothing\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.FIELD:\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expecting term or field, found '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseField = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  if (parser.query.allFields.indexOf(lexeme.str) == -1) {\n    var possibleFields = parser.query.allFields.map(function (f) { return \"'\" + f + \"'\" }).join(', '),\n        errorMessage = \"unrecognised field '\" + lexeme.str + \"', possible fields: \" + possibleFields\n\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.fields = [lexeme.str]\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    var errorMessage = \"expecting term, found nothing\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      return lunr.QueryParser.parseTerm\n    default:\n      var errorMessage = \"expecting term, found '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseTerm = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  parser.currentClause.term = lexeme.str.toLowerCase()\n\n  if (lexeme.str.indexOf(\"*\") != -1) {\n    parser.currentClause.usePipeline = false\n  }\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseEditDistance = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  var editDistance = parseInt(lexeme.str, 10)\n\n  if (isNaN(editDistance)) {\n    var errorMessage = \"edit distance must be numeric\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.editDistance = editDistance\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\nlunr.QueryParser.parseBoost = function (parser) {\n  var lexeme = parser.consumeLexeme()\n\n  if (lexeme == undefined) {\n    return\n  }\n\n  var boost = parseInt(lexeme.str, 10)\n\n  if (isNaN(boost)) {\n    var errorMessage = \"boost must be numeric\"\n    throw new lunr.QueryParseError (errorMessage, lexeme.start, lexeme.end)\n  }\n\n  parser.currentClause.boost = boost\n\n  var nextLexeme = parser.peekLexeme()\n\n  if (nextLexeme == undefined) {\n    parser.nextClause()\n    return\n  }\n\n  switch (nextLexeme.type) {\n    case lunr.QueryLexer.TERM:\n      parser.nextClause()\n      return lunr.QueryParser.parseTerm\n    case lunr.QueryLexer.FIELD:\n      parser.nextClause()\n      return lunr.QueryParser.parseField\n    case lunr.QueryLexer.EDIT_DISTANCE:\n      return lunr.QueryParser.parseEditDistance\n    case lunr.QueryLexer.BOOST:\n      return lunr.QueryParser.parseBoost\n    case lunr.QueryLexer.PRESENCE:\n      parser.nextClause()\n      return lunr.QueryParser.parsePresence\n    default:\n      var errorMessage = \"Unexpected lexeme type '\" + nextLexeme.type + \"'\"\n      throw new lunr.QueryParseError (errorMessage, nextLexeme.start, nextLexeme.end)\n  }\n}\n\n  /**\n   * export the module via AMD, CommonJS or as a browser global\n   * Export code from https://github.com/umdjs/umd/blob/master/returnExports.js\n   */\n  ;(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      // AMD. Register as an anonymous module.\n      define(factory)\n    } else if (typeof exports === 'object') {\n      /**\n       * Node. Does not work with strict CommonJS, but\n       * only CommonJS-like enviroments that support module.exports,\n       * like Node.\n       */\n      module.exports = factory()\n    } else {\n      // Browser globals (root is window)\n      root.lunr = factory()\n    }\n  }(this, function () {\n    /**\n     * Just return a value to define the module export.\n     * This example returns an object, but the module\n     * can return a function as the exported value.\n     */\n    return lunr\n  }))\n})();\n","'use strict';\n\nvar immediate = require('immediate');\nvar splitter = /\\s+/;\n\nmodule.exports = {\n  onSync: onSync,\n  onAsync: onAsync,\n  off: off,\n  trigger: trigger\n};\n\nfunction on(method, types, cb, context) {\n  var type;\n\n  if (!cb) {\n    return this;\n  }\n\n  types = types.split(splitter);\n  cb = context ? bindContext(cb, context) : cb;\n\n  this._callbacks = this._callbacks || {};\n\n  while (type = types.shift()) {\n    this._callbacks[type] = this._callbacks[type] || {sync: [], async: []};\n    this._callbacks[type][method].push(cb);\n  }\n\n  return this;\n}\n\nfunction onAsync(types, cb, context) {\n  return on.call(this, 'async', types, cb, context);\n}\n\nfunction onSync(types, cb, context) {\n  return on.call(this, 'sync', types, cb, context);\n}\n\nfunction off(types) {\n  var type;\n\n  if (!this._callbacks) {\n    return this;\n  }\n\n  types = types.split(splitter);\n\n  while (type = types.shift()) {\n    delete this._callbacks[type];\n  }\n\n  return this;\n}\n\nfunction trigger(types) {\n  var type;\n  var callbacks;\n  var args;\n  var syncFlush;\n  var asyncFlush;\n\n  if (!this._callbacks) {\n    return this;\n  }\n\n  types = types.split(splitter);\n  args = [].slice.call(arguments, 1);\n\n  while ((type = types.shift()) && (callbacks = this._callbacks[type])) { // eslint-disable-line\n    syncFlush = getFlush(callbacks.sync, this, [type].concat(args));\n    asyncFlush = getFlush(callbacks.async, this, [type].concat(args));\n\n    if (syncFlush()) {\n      immediate(asyncFlush);\n    }\n  }\n\n  return this;\n}\n\nfunction getFlush(callbacks, context, args) {\n  return flush;\n\n  function flush() {\n    var cancelled;\n\n    for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n      // only cancel if the callback explicitly returns false\n      cancelled = callbacks[i].apply(context, args) === false;\n    }\n\n    return !cancelled;\n  }\n}\n\nfunction bindContext(fn, context) {\n  return fn.bind ?\n    fn.bind(context) :\n    function() { fn.apply(context, [].slice.call(arguments, 0)); };\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar _ = require('../common/utils.js');\n\nvar css = {\n  wrapper: {\n    position: 'relative',\n    display: 'inline-block'\n  },\n  hint: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    borderColor: 'transparent',\n    boxShadow: 'none',\n    // #741: fix hint opacity issue on iOS\n    opacity: '1'\n  },\n  input: {\n    position: 'relative',\n    verticalAlign: 'top',\n    backgroundColor: 'transparent'\n  },\n  inputWithNoHint: {\n    position: 'relative',\n    verticalAlign: 'top'\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: '0',\n    zIndex: '100',\n    display: 'none'\n  },\n  suggestions: {\n    display: 'block'\n  },\n  suggestion: {\n    whiteSpace: 'nowrap',\n    cursor: 'pointer'\n  },\n  suggestionChild: {\n    whiteSpace: 'normal'\n  },\n  ltr: {\n    left: '0',\n    right: 'auto'\n  },\n  rtl: {\n    left: 'auto',\n    right: '0'\n  },\n  defaultClasses: {\n    root: 'algolia-autocomplete',\n    prefix: 'aa',\n    noPrefix: false,\n    dropdownMenu: 'dropdown-menu',\n    input: 'input',\n    hint: 'hint',\n    suggestions: 'suggestions',\n    suggestion: 'suggestion',\n    cursor: 'cursor',\n    dataset: 'dataset',\n    empty: 'empty'\n  },\n  // will be merged with the default ones if appendTo is used\n  appendTo: {\n    wrapper: {\n      position: 'absolute',\n      zIndex: '100',\n      display: 'none'\n    },\n    input: {},\n    inputWithNoHint: {},\n    dropdown: {\n      display: 'block'\n    }\n  }\n};\n\n// ie specific styling\nif (_.isMsie()) {\n  // ie6-8 (and 9?) doesn't fire hover and click events for elements with\n  // transparent backgrounds, for a workaround, use 1x1 transparent gif\n  _.mixin(css.input, {\n    backgroundImage: 'url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)'\n  });\n}\n\n// ie7 and under specific styling\nif (_.isMsie() && _.isMsie() <= 7) {\n  // if someone can tell me why this is necessary to align\n  // the hint with the query in ie7, i'll send you $5 - @JakeHarding\n  _.mixin(css.input, {marginTop: '-1px'});\n}\n\nmodule.exports = css;\n","/* istanbul ignore next */\n/* Zepto v1.2.0 - zepto event assets data - zeptojs.com/license */\n(function(global, factory) {\n  module.exports = factory(global);\n}(/* this ##### UPDATED: here we want to use window/global instead of this which is the current file context ##### */ window, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        try {\n          var dataPropDescriptor = Object.getOwnPropertyDescriptor(e, 'data')\n          if (!dataPropDescriptor || dataPropDescriptor.writable)\n            e.data = data\n        } catch (e) {} // when using strict mode dataPropDescriptor will be undefined when e is InputEvent (even though data property exists). So we surround with try/catch\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var cache = [], timeout\n\n  $.fn.remove = function(){\n    return this.each(function(){\n      if(this.parentNode){\n        if(this.tagName === 'IMG'){\n          cache.push(this)\n          this.src = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n          if (timeout) clearTimeout(timeout)\n          timeout = setTimeout(function(){ cache = [] }, 60000)\n        }\n        this.parentNode.removeChild(this)\n      }\n    })\n  }\n})(Zepto)\n\n;(function($){\n  var data = {}, dataAttr = $.fn.data, camelize = $.camelCase,\n    exp = $.expando = 'Zepto' + (+new Date()), emptyArray = []\n\n  // Get value from node:\n  // 1. first try key as given,\n  // 2. then try camelized key,\n  // 3. fall back to reading \"data-*\" attribute.\n  function getData(node, name) {\n    var id = node[exp], store = id && data[id]\n    if (name === undefined) return store || setData(node)\n    else {\n      if (store) {\n        if (name in store) return store[name]\n        var camelName = camelize(name)\n        if (camelName in store) return store[camelName]\n      }\n      return dataAttr.call($(node), name)\n    }\n  }\n\n  // Store value under camelized key on node\n  function setData(node, name, value) {\n    var id = node[exp] || (node[exp] = ++$.uuid),\n      store = data[id] || (data[id] = attributeData(node))\n    if (name !== undefined) store[camelize(name)] = value\n    return store\n  }\n\n  // Read all \"data-*\" attributes from a node\n  function attributeData(node) {\n    var store = {}\n    $.each(node.attributes || emptyArray, function(i, attr){\n      if (attr.name.indexOf('data-') == 0)\n        store[camelize(attr.name.replace('data-', ''))] =\n          $.zepto.deserializeValue(attr.value)\n    })\n    return store\n  }\n\n  $.fn.data = function(name, value) {\n    return value === undefined ?\n      // set multiple values via object\n      $.isPlainObject(name) ?\n        this.each(function(i, node){\n          $.each(name, function(key, value){ setData(node, key, value) })\n        }) :\n        // get value from first element\n        (0 in this ? getData(this[0], name) : undefined) :\n      // set value on all elements\n      this.each(function(){ setData(this, name, value) })\n  }\n\n  $.data = function(elem, name, value) {\n    return $(elem).data(name, value)\n  }\n\n  $.hasData = function(elem) {\n    var id = elem[exp], store = id && data[id]\n    return store ? !$.isEmptyObject(store) : false\n  }\n\n  $.fn.removeData = function(names) {\n    if (typeof names == 'string') names = names.split(/\\s+/)\n    return this.each(function(){\n      var id = this[exp], store = id && data[id]\n      if (store) $.each(names || store, function(key){\n        delete store[names ? camelize(this) : key]\n      })\n    })\n  }\n\n  // Generate extended `remove` and `empty` functions\n  ;['remove', 'empty'].forEach(function(methodName){\n    var origFn = $.fn[methodName]\n    $.fn[methodName] = function() {\n      var elements = this.find('*')\n      if (methodName === 'remove') elements = elements.add(this)\n      elements.removeData()\n      return origFn.call(this)\n    }\n  })\n})(Zepto)\n  return Zepto\n}))\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","'use strict';\n\nmodule.exports = require('./src/standalone/');\n","'use strict';\n\nvar namespace = 'autocomplete:';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\n\n// constructor\n// -----------\n\nfunction EventBus(o) {\n  if (!o || !o.el) {\n    _.error('EventBus initialized without el');\n  }\n\n  this.$el = DOM.element(o.el);\n}\n\n// instance methods\n// ----------------\n\n_.mixin(EventBus.prototype, {\n\n  // ### public\n\n  trigger: function(type, suggestion, dataset, context) {\n    var event = _.Event(namespace + type);\n    this.$el.trigger(event, [suggestion, dataset, context]);\n    return event;\n  }\n});\n\nmodule.exports = EventBus;\n","'use strict';\n\nmodule.exports = {\n  wrapper: '<span class=\"%ROOT%\"></span>',\n  dropdown: '<span class=\"%PREFIX%%DROPDOWN_MENU%\"></span>',\n  dataset: '<div class=\"%PREFIX%%DATASET%-%CLASS%\"></div>',\n  suggestions: '<span class=\"%PREFIX%%SUGGESTIONS%\"></span>',\n  suggestion: '<div class=\"%PREFIX%%SUGGESTION%\"></div>'\n};\n","module.exports = \"0.37.0\";\n","'use strict';\nmodule.exports = function parseAlgoliaClientVersion(agent) {\n  var parsed = agent.match(/Algolia for vanilla JavaScript (\\d+\\.)(\\d+\\.)(\\d+)/);\n  if (parsed) return [parsed[1], parsed[2], parsed[3]];\n  return undefined;\n};\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","'use strict';\n\n// this will inject Zepto in window, unfortunately no easy commonJS zepto build\nvar zepto = require('../../zepto.js');\n\n// setup DOM element\nvar DOM = require('../common/dom.js');\nDOM.element = zepto;\n\n// setup utils functions\nvar _ = require('../common/utils.js');\n_.isArray = zepto.isArray;\n_.isFunction = zepto.isFunction;\n_.isObject = zepto.isPlainObject;\n_.bind = zepto.proxy;\n_.each = function(collection, cb) {\n  // stupid argument order for jQuery.each\n  zepto.each(collection, reverseArgs);\n  function reverseArgs(index, value) {\n    return cb(value, index);\n  }\n};\n_.map = zepto.map;\n_.mixin = zepto.extend;\n_.Event = zepto.Event;\n\nvar typeaheadKey = 'aaAutocomplete';\nvar Typeahead = require('../autocomplete/typeahead.js');\nvar EventBus = require('../autocomplete/event_bus.js');\n\nfunction autocomplete(selector, options, datasets, typeaheadObject) {\n  datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 2);\n\n  var inputs = zepto(selector).each(function(i, input) {\n    var $input = zepto(input);\n    var eventBus = new EventBus({el: $input});\n    var typeahead = typeaheadObject || new Typeahead({\n      input: $input,\n      eventBus: eventBus,\n      dropdownMenuContainer: options.dropdownMenuContainer,\n      hint: options.hint === undefined ? true : !!options.hint,\n      minLength: options.minLength,\n      autoselect: options.autoselect,\n      autoselectOnBlur: options.autoselectOnBlur,\n      tabAutocomplete: options.tabAutocomplete,\n      openOnFocus: options.openOnFocus,\n      templates: options.templates,\n      debug: options.debug,\n      clearOnSelected: options.clearOnSelected,\n      cssClasses: options.cssClasses,\n      datasets: datasets,\n      keyboardShortcuts: options.keyboardShortcuts,\n      appendTo: options.appendTo,\n      autoWidth: options.autoWidth,\n      ariaLabel: options.ariaLabel || input.getAttribute('aria-label')\n    });\n    $input.data(typeaheadKey, typeahead);\n  });\n\n  // expose all methods in the `autocomplete` attribute\n  inputs.autocomplete = {};\n  _.each(['open', 'close', 'getVal', 'setVal', 'destroy', 'getWrapper'], function(method) {\n    inputs.autocomplete[method] = function() {\n      var methodArguments = arguments;\n      var result;\n      inputs.each(function(j, input) {\n        var typeahead = zepto(input).data(typeaheadKey);\n        result = typeahead[method].apply(typeahead, methodArguments);\n      });\n      return result;\n    };\n  });\n\n  return inputs;\n}\n\nautocomplete.sources = Typeahead.sources;\nautocomplete.escapeHighlightedString = _.escapeHighlightedString;\n\nvar wasAutocompleteSet = 'autocomplete' in window;\nvar oldAutocomplete = window.autocomplete;\nautocomplete.noConflict = function noConflict() {\n  if (wasAutocompleteSet) {\n    window.autocomplete = oldAutocomplete;\n  } else {\n    delete window.autocomplete;\n  }\n  return autocomplete;\n};\n\nmodule.exports = autocomplete;\n","'use strict';\n\nvar attrsKey = 'aaAttrs';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventBus = require('./event_bus.js');\nvar Input = require('./input.js');\nvar Dropdown = require('./dropdown.js');\nvar html = require('./html.js');\nvar css = require('./css.js');\n\n// constructor\n// -----------\n\n// THOUGHT: what if datasets could dynamically be added/removed?\nfunction Typeahead(o) {\n  var $menu;\n  var $hint;\n\n  o = o || {};\n\n  if (!o.input) {\n    _.error('missing input');\n  }\n\n  this.isActivated = false;\n  this.debug = !!o.debug;\n  this.autoselect = !!o.autoselect;\n  this.autoselectOnBlur = !!o.autoselectOnBlur;\n  this.openOnFocus = !!o.openOnFocus;\n  this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n  this.autoWidth = (o.autoWidth === undefined) ? true : !!o.autoWidth;\n  this.clearOnSelected = !!o.clearOnSelected;\n  this.tabAutocomplete = (o.tabAutocomplete === undefined) ? true : !!o.tabAutocomplete;\n\n  o.hint = !!o.hint;\n\n  if (o.hint && o.appendTo) {\n    throw new Error('[autocomplete.js] hint and appendTo options can\\'t be used at the same time');\n  }\n\n  this.css = o.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix = _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n  this.listboxId = o.listboxId = [this.cssClasses.root, 'listbox', _.getUniqueId()].join('-');\n\n  var domElts = buildDom(o);\n\n  this.$node = domElts.wrapper;\n  var $input = this.$input = domElts.input;\n  $menu = domElts.menu;\n  $hint = domElts.hint;\n\n  if (o.dropdownMenuContainer) {\n    DOM.element(o.dropdownMenuContainer)\n      .css('position', 'relative') // ensure the container has a relative position\n      .append($menu.css('top', '0')); // override the top: 100%\n  }\n\n  // #705: if there's scrollable overflow, ie doesn't support\n  // blur cancellations when the scrollbar is clicked\n  //\n  // #351: preventDefault won't cancel blurs in ie <= 8\n  $input.on('blur.aa', function($e) {\n    var active = document.activeElement;\n    if (_.isMsie() && ($menu[0] === active || $menu[0].contains(active))) {\n      $e.preventDefault();\n      // stop immediate in order to prevent Input#_onBlur from\n      // getting exectued\n      $e.stopImmediatePropagation();\n      _.defer(function() { $input.focus(); });\n    }\n  });\n\n  // #351: prevents input blur due to clicks within dropdown menu\n  $menu.on('mousedown.aa', function($e) { $e.preventDefault(); });\n\n  this.eventBus = o.eventBus || new EventBus({el: $input});\n\n  this.dropdown = new Typeahead.Dropdown({\n    appendTo: o.appendTo,\n    wrapper: this.$node,\n    menu: $menu,\n    datasets: o.datasets,\n    templates: o.templates,\n    cssClasses: o.cssClasses,\n    minLength: this.minLength\n  })\n    .onSync('suggestionClicked', this._onSuggestionClicked, this)\n    .onSync('cursorMoved', this._onCursorMoved, this)\n    .onSync('cursorRemoved', this._onCursorRemoved, this)\n    .onSync('opened', this._onOpened, this)\n    .onSync('closed', this._onClosed, this)\n    .onSync('shown', this._onShown, this)\n    .onSync('empty', this._onEmpty, this)\n    .onSync('redrawn', this._onRedrawn, this)\n    .onAsync('datasetRendered', this._onDatasetRendered, this);\n\n  this.input = new Typeahead.Input({input: $input, hint: $hint})\n    .onSync('focused', this._onFocused, this)\n    .onSync('blurred', this._onBlurred, this)\n    .onSync('enterKeyed', this._onEnterKeyed, this)\n    .onSync('tabKeyed', this._onTabKeyed, this)\n    .onSync('escKeyed', this._onEscKeyed, this)\n    .onSync('upKeyed', this._onUpKeyed, this)\n    .onSync('downKeyed', this._onDownKeyed, this)\n    .onSync('leftKeyed', this._onLeftKeyed, this)\n    .onSync('rightKeyed', this._onRightKeyed, this)\n    .onSync('queryChanged', this._onQueryChanged, this)\n    .onSync('whitespaceChanged', this._onWhitespaceChanged, this);\n\n  this._bindKeyboardShortcuts(o);\n\n  this._setLanguageDirection();\n}\n\n// instance methods\n// ----------------\n\n_.mixin(Typeahead.prototype, {\n  // ### private\n\n  _bindKeyboardShortcuts: function(options) {\n    if (!options.keyboardShortcuts) {\n      return;\n    }\n    var $input = this.$input;\n    var keyboardShortcuts = [];\n    _.each(options.keyboardShortcuts, function(key) {\n      if (typeof key === 'string') {\n        key = key.toUpperCase().charCodeAt(0);\n      }\n      keyboardShortcuts.push(key);\n    });\n    DOM.element(document).keydown(function(event) {\n      var elt = (event.target || event.srcElement);\n      var tagName = elt.tagName;\n      if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n        // already in an input\n        return;\n      }\n\n      var which = event.which || event.keyCode;\n      if (keyboardShortcuts.indexOf(which) === -1) {\n        // not the right shortcut\n        return;\n      }\n\n      $input.focus();\n      event.stopPropagation();\n      event.preventDefault();\n    });\n  },\n\n  _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n    var datum;\n    var context = {selectionMethod: 'click'};\n\n    if (datum = this.dropdown.getDatumForSuggestion($el)) {\n      this._select(datum, context);\n    }\n  },\n\n  _onCursorMoved: function onCursorMoved(event, updateInput) {\n    var datum = this.dropdown.getDatumForCursor();\n    var currentCursorId = this.dropdown.getCurrentCursor().attr('id');\n    this.input.setActiveDescendant(currentCursorId);\n\n    if (datum) {\n      if (updateInput) {\n        this.input.setInputValue(datum.value, true);\n      }\n\n      this.eventBus.trigger('cursorchanged', datum.raw, datum.datasetName);\n    }\n  },\n\n  _onCursorRemoved: function onCursorRemoved() {\n    this.input.resetInputValue();\n    this._updateHint();\n    this.eventBus.trigger('cursorremoved');\n  },\n\n  _onDatasetRendered: function onDatasetRendered() {\n    this._updateHint();\n\n    this.eventBus.trigger('updated');\n  },\n\n  _onOpened: function onOpened() {\n    this._updateHint();\n    this.input.expand();\n\n    this.eventBus.trigger('opened');\n  },\n\n  _onEmpty: function onEmpty() {\n    this.eventBus.trigger('empty');\n  },\n\n  _onRedrawn: function onRedrawn() {\n    this.$node.css('top', 0 + 'px');\n    this.$node.css('left', 0 + 'px');\n\n    var inputRect = this.$input[0].getBoundingClientRect();\n\n    if (this.autoWidth) {\n      this.$node.css('width', inputRect.width + 'px');\n    }\n\n    var wrapperRect = this.$node[0].getBoundingClientRect();\n\n    var top = inputRect.bottom - wrapperRect.top;\n    this.$node.css('top', top + 'px');\n    var left = inputRect.left - wrapperRect.left;\n    this.$node.css('left', left + 'px');\n\n    this.eventBus.trigger('redrawn');\n  },\n\n  _onShown: function onShown() {\n    this.eventBus.trigger('shown');\n    if (this.autoselect) {\n      this.dropdown.cursorTopSuggestion();\n    }\n  },\n\n  _onClosed: function onClosed() {\n    this.input.clearHint();\n    this.input.removeActiveDescendant();\n    this.input.collapse();\n\n    this.eventBus.trigger('closed');\n  },\n\n  _onFocused: function onFocused() {\n    this.isActivated = true;\n\n    if (this.openOnFocus) {\n      var query = this.input.getQuery();\n      if (query.length >= this.minLength) {\n        this.dropdown.update(query);\n      } else {\n        this.dropdown.empty();\n      }\n\n      this.dropdown.open();\n    }\n  },\n\n  _onBlurred: function onBlurred() {\n    var cursorDatum;\n    var topSuggestionDatum;\n\n    cursorDatum = this.dropdown.getDatumForCursor();\n    topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n    var context = {selectionMethod: 'blur'};\n\n    if (!this.debug) {\n      if (this.autoselectOnBlur && cursorDatum) {\n        this._select(cursorDatum, context);\n      } else if (this.autoselectOnBlur && topSuggestionDatum) {\n        this._select(topSuggestionDatum, context);\n      } else {\n        this.isActivated = false;\n        this.dropdown.empty();\n        this.dropdown.close();\n      }\n    }\n  },\n\n  _onEnterKeyed: function onEnterKeyed(type, $e) {\n    var cursorDatum;\n    var topSuggestionDatum;\n\n    cursorDatum = this.dropdown.getDatumForCursor();\n    topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n    var context = {selectionMethod: 'enterKey'};\n\n    if (cursorDatum) {\n      this._select(cursorDatum, context);\n      $e.preventDefault();\n    } else if (this.autoselect && topSuggestionDatum) {\n      this._select(topSuggestionDatum, context);\n      $e.preventDefault();\n    }\n  },\n\n  _onTabKeyed: function onTabKeyed(type, $e) {\n    if (!this.tabAutocomplete) {\n      // Closing the dropdown enables further tabbing\n      this.dropdown.close();\n      return;\n    }\n\n    var datum;\n    var context = {selectionMethod: 'tabKey'};\n\n    if (datum = this.dropdown.getDatumForCursor()) {\n      this._select(datum, context);\n      $e.preventDefault();\n    } else {\n      this._autocomplete(true);\n    }\n  },\n\n  _onEscKeyed: function onEscKeyed() {\n    this.dropdown.close();\n    this.input.resetInputValue();\n  },\n\n  _onUpKeyed: function onUpKeyed() {\n    var query = this.input.getQuery();\n\n    if (this.dropdown.isEmpty && query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.moveCursorUp();\n    }\n\n    this.dropdown.open();\n  },\n\n  _onDownKeyed: function onDownKeyed() {\n    var query = this.input.getQuery();\n\n    if (this.dropdown.isEmpty && query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.moveCursorDown();\n    }\n\n    this.dropdown.open();\n  },\n\n  _onLeftKeyed: function onLeftKeyed() {\n    if (this.dir === 'rtl') {\n      this._autocomplete();\n    }\n  },\n\n  _onRightKeyed: function onRightKeyed() {\n    if (this.dir === 'ltr') {\n      this._autocomplete();\n    }\n  },\n\n  _onQueryChanged: function onQueryChanged(e, query) {\n    this.input.clearHintIfInvalid();\n\n    if (query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.empty();\n    }\n\n    this.dropdown.open();\n    this._setLanguageDirection();\n  },\n\n  _onWhitespaceChanged: function onWhitespaceChanged() {\n    this._updateHint();\n    this.dropdown.open();\n  },\n\n  _setLanguageDirection: function setLanguageDirection() {\n    var dir = this.input.getLanguageDirection();\n\n    if (this.dir !== dir) {\n      this.dir = dir;\n      this.$node.css('direction', dir);\n      this.dropdown.setLanguageDirection(dir);\n    }\n  },\n\n  _updateHint: function updateHint() {\n    var datum;\n    var val;\n    var query;\n    var escapedQuery;\n    var frontMatchRegEx;\n    var match;\n\n    datum = this.dropdown.getDatumForTopSuggestion();\n\n    if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n      val = this.input.getInputValue();\n      query = Input.normalizeQuery(val);\n      escapedQuery = _.escapeRegExChars(query);\n\n      // match input value, then capture trailing text\n      frontMatchRegEx = new RegExp('^(?:' + escapedQuery + ')(.+$)', 'i');\n      match = frontMatchRegEx.exec(datum.value);\n\n      // clear hint if there's no trailing text\n      if (match) {\n        this.input.setHint(val + match[1]);\n      } else {\n        this.input.clearHint();\n      }\n    } else {\n      this.input.clearHint();\n    }\n  },\n\n  _autocomplete: function autocomplete(laxCursor) {\n    var hint;\n    var query;\n    var isCursorAtEnd;\n    var datum;\n\n    hint = this.input.getHint();\n    query = this.input.getQuery();\n    isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n\n    if (hint && query !== hint && isCursorAtEnd) {\n      datum = this.dropdown.getDatumForTopSuggestion();\n      if (datum) {\n        this.input.setInputValue(datum.value);\n      }\n\n      this.eventBus.trigger('autocompleted', datum.raw, datum.datasetName);\n    }\n  },\n\n  _select: function select(datum, context) {\n    if (typeof datum.value !== 'undefined') {\n      this.input.setQuery(datum.value);\n    }\n    if (this.clearOnSelected) {\n      this.setVal('');\n    } else {\n      this.input.setInputValue(datum.value, true);\n    }\n\n    this._setLanguageDirection();\n\n    var event = this.eventBus.trigger('selected', datum.raw, datum.datasetName, context);\n    if (event.isDefaultPrevented() === false) {\n      this.dropdown.close();\n\n      // #118: allow click event to bubble up to the body before removing\n      // the suggestions otherwise we break event delegation\n      _.defer(_.bind(this.dropdown.empty, this.dropdown));\n    }\n  },\n\n  // ### public\n\n  open: function open() {\n    // if the menu is not activated yet, we need to update\n    // the underlying dropdown menu to trigger the search\n    // otherwise we're not gonna see anything\n    if (!this.isActivated) {\n      var query = this.input.getInputValue();\n      if (query.length >= this.minLength) {\n        this.dropdown.update(query);\n      } else {\n        this.dropdown.empty();\n      }\n    }\n    this.dropdown.open();\n  },\n\n  close: function close() {\n    this.dropdown.close();\n  },\n\n  setVal: function setVal(val) {\n    // expect val to be a string, so be safe, and coerce\n    val = _.toStr(val);\n\n    if (this.isActivated) {\n      this.input.setInputValue(val);\n    } else {\n      this.input.setQuery(val);\n      this.input.setInputValue(val, true);\n    }\n\n    this._setLanguageDirection();\n  },\n\n  getVal: function getVal() {\n    return this.input.getQuery();\n  },\n\n  destroy: function destroy() {\n    this.input.destroy();\n    this.dropdown.destroy();\n\n    destroyDomStructure(this.$node, this.cssClasses);\n\n    this.$node = null;\n  },\n\n  getWrapper: function getWrapper() {\n    return this.dropdown.$container[0];\n  }\n});\n\nfunction buildDom(options) {\n  var $input;\n  var $wrapper;\n  var $dropdown;\n  var $hint;\n\n  $input = DOM.element(options.input);\n  $wrapper = DOM\n    .element(html.wrapper.replace('%ROOT%', options.cssClasses.root))\n    .css(options.css.wrapper);\n\n  // override the display property with the table-cell value\n  // if the parent element is a table and the original input was a block\n  //  -> https://github.com/algolia/autocomplete.js/issues/16\n  if (!options.appendTo && $input.css('display') === 'block' && $input.parent().css('display') === 'table') {\n    $wrapper.css('display', 'table-cell');\n  }\n  var dropdownHtml = html.dropdown.\n    replace('%PREFIX%', options.cssClasses.prefix).\n    replace('%DROPDOWN_MENU%', options.cssClasses.dropdownMenu);\n  $dropdown = DOM.element(dropdownHtml)\n    .css(options.css.dropdown)\n    .attr({\n      role: 'listbox',\n      id: options.listboxId\n    });\n  if (options.templates && options.templates.dropdownMenu) {\n    $dropdown.html(_.templatify(options.templates.dropdownMenu)());\n  }\n  $hint = $input.clone().css(options.css.hint).css(getBackgroundStyles($input));\n\n  $hint\n    .val('')\n    .addClass(_.className(options.cssClasses.prefix, options.cssClasses.hint, true))\n    .removeAttr('id name placeholder required')\n    .prop('readonly', true)\n    .attr({\n      'aria-hidden': 'true',\n      autocomplete: 'off',\n      spellcheck: 'false',\n      tabindex: -1\n    });\n  if ($hint.removeData) {\n    $hint.removeData();\n  }\n\n  // store the original values of the attrs that get modified\n  // so modifications can be reverted on destroy\n  $input.data(attrsKey, {\n    'aria-autocomplete': $input.attr('aria-autocomplete'),\n    'aria-expanded': $input.attr('aria-expanded'),\n    'aria-owns': $input.attr('aria-owns'),\n    autocomplete: $input.attr('autocomplete'),\n    dir: $input.attr('dir'),\n    role: $input.attr('role'),\n    spellcheck: $input.attr('spellcheck'),\n    style: $input.attr('style'),\n    type: $input.attr('type')\n  });\n\n  $input\n    .addClass(_.className(options.cssClasses.prefix, options.cssClasses.input, true))\n    .attr({\n      autocomplete: 'off',\n      spellcheck: false,\n\n      // Accessibility features\n      // Give the field a presentation of a \"select\".\n      // Combobox is the combined presentation of a single line textfield\n      // with a listbox popup.\n      // https://www.w3.org/WAI/PF/aria/roles#combobox\n      role: 'combobox',\n      // Let the screen reader know the field has an autocomplete\n      // feature to it.\n      'aria-autocomplete': (options.datasets &&\n        options.datasets[0] && options.datasets[0].displayKey ? 'both' : 'list'),\n      // Indicates whether the dropdown it controls is currently expanded or collapsed\n      'aria-expanded': 'false',\n      'aria-label': options.ariaLabel,\n      // Explicitly point to the listbox,\n      // which is a list of suggestions (aka options)\n      'aria-owns': options.listboxId\n    })\n    .css(options.hint ? options.css.input : options.css.inputWithNoHint);\n\n  // ie7 does not like it when dir is set to auto\n  try {\n    if (!$input.attr('dir')) {\n      $input.attr('dir', 'auto');\n    }\n  } catch (e) {\n    // ignore\n  }\n\n  $wrapper = options.appendTo\n    ? $wrapper.appendTo(DOM.element(options.appendTo).eq(0)).eq(0)\n    : $input.wrap($wrapper).parent();\n\n  $wrapper\n    .prepend(options.hint ? $hint : null)\n    .append($dropdown);\n\n  return {\n    wrapper: $wrapper,\n    input: $input,\n    hint: $hint,\n    menu: $dropdown\n  };\n}\n\nfunction getBackgroundStyles($el) {\n  return {\n    backgroundAttachment: $el.css('background-attachment'),\n    backgroundClip: $el.css('background-clip'),\n    backgroundColor: $el.css('background-color'),\n    backgroundImage: $el.css('background-image'),\n    backgroundOrigin: $el.css('background-origin'),\n    backgroundPosition: $el.css('background-position'),\n    backgroundRepeat: $el.css('background-repeat'),\n    backgroundSize: $el.css('background-size')\n  };\n}\n\nfunction destroyDomStructure($node, cssClasses) {\n  var $input = $node.find(_.className(cssClasses.prefix, cssClasses.input));\n\n  // need to remove attrs that weren't previously defined and\n  // revert attrs that originally had a value\n  _.each($input.data(attrsKey), function(val, key) {\n    if (val === undefined) {\n      $input.removeAttr(key);\n    } else {\n      $input.attr(key, val);\n    }\n  });\n\n  $input\n    .detach()\n    .removeClass(_.className(cssClasses.prefix, cssClasses.input, true))\n    .insertAfter($node);\n  if ($input.removeData) {\n    $input.removeData(attrsKey);\n  }\n\n  $node.remove();\n}\n\nTypeahead.Dropdown = Dropdown;\nTypeahead.Input = Input;\nTypeahead.sources = require('../sources/index.js');\n\nmodule.exports = Typeahead;\n","'use strict';\n\nvar specialKeyCodeMap;\n\nspecialKeyCodeMap = {\n  9: 'tab',\n  27: 'esc',\n  37: 'left',\n  39: 'right',\n  13: 'enter',\n  38: 'up',\n  40: 'down'\n};\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventEmitter = require('./event_emitter.js');\n\n// constructor\n// -----------\n\nfunction Input(o) {\n  var that = this;\n  var onBlur;\n  var onFocus;\n  var onKeydown;\n  var onInput;\n\n  o = o || {};\n\n  if (!o.input) {\n    _.error('input is missing');\n  }\n\n  // bound functions\n  onBlur = _.bind(this._onBlur, this);\n  onFocus = _.bind(this._onFocus, this);\n  onKeydown = _.bind(this._onKeydown, this);\n  onInput = _.bind(this._onInput, this);\n\n  this.$hint = DOM.element(o.hint);\n  this.$input = DOM.element(o.input)\n    .on('blur.aa', onBlur)\n    .on('focus.aa', onFocus)\n    .on('keydown.aa', onKeydown);\n\n  // if no hint, noop all the hint related functions\n  if (this.$hint.length === 0) {\n    this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n  }\n\n  // ie7 and ie8 don't support the input event\n  // ie9 doesn't fire the input event when characters are removed\n  // not sure if ie10 is compatible\n  if (!_.isMsie()) {\n    this.$input.on('input.aa', onInput);\n  } else {\n    this.$input.on('keydown.aa keypress.aa cut.aa paste.aa', function($e) {\n      // if a special key triggered this, ignore it\n      if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n        return;\n      }\n\n      // give the browser a chance to update the value of the input\n      // before checking to see if the query changed\n      _.defer(_.bind(that._onInput, that, $e));\n    });\n  }\n\n  // the query defaults to whatever the value of the input is\n  // on initialization, it'll most likely be an empty string\n  this.query = this.$input.val();\n\n  // helps with calculating the width of the input's value\n  this.$overflowHelper = buildOverflowHelper(this.$input);\n}\n\n// static methods\n// --------------\n\nInput.normalizeQuery = function(str) {\n  // strips leading whitespace and condenses all whitespace\n  return (str || '').replace(/^\\s*/g, '').replace(/\\s{2,}/g, ' ');\n};\n\n// instance methods\n// ----------------\n\n_.mixin(Input.prototype, EventEmitter, {\n\n  // ### private\n\n  _onBlur: function onBlur() {\n    this.resetInputValue();\n    this.$input.removeAttr('aria-activedescendant');\n    this.trigger('blurred');\n  },\n\n  _onFocus: function onFocus() {\n    this.trigger('focused');\n  },\n\n  _onKeydown: function onKeydown($e) {\n    // which is normalized and consistent (but not for ie)\n    var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n\n    this._managePreventDefault(keyName, $e);\n    if (keyName && this._shouldTrigger(keyName, $e)) {\n      this.trigger(keyName + 'Keyed', $e);\n    }\n  },\n\n  _onInput: function onInput() {\n    this._checkInputValue();\n  },\n\n  _managePreventDefault: function managePreventDefault(keyName, $e) {\n    var preventDefault;\n    var hintValue;\n    var inputValue;\n\n    switch (keyName) {\n    case 'tab':\n      hintValue = this.getHint();\n      inputValue = this.getInputValue();\n\n      preventDefault = hintValue &&\n        hintValue !== inputValue &&\n        !withModifier($e);\n      break;\n\n    case 'up':\n    case 'down':\n      preventDefault = !withModifier($e);\n      break;\n\n    default:\n      preventDefault = false;\n    }\n\n    if (preventDefault) {\n      $e.preventDefault();\n    }\n  },\n\n  _shouldTrigger: function shouldTrigger(keyName, $e) {\n    var trigger;\n\n    switch (keyName) {\n    case 'tab':\n      trigger = !withModifier($e);\n      break;\n\n    default:\n      trigger = true;\n    }\n\n    return trigger;\n  },\n\n  _checkInputValue: function checkInputValue() {\n    var inputValue;\n    var areEquivalent;\n    var hasDifferentWhitespace;\n\n    inputValue = this.getInputValue();\n    areEquivalent = areQueriesEquivalent(inputValue, this.query);\n    hasDifferentWhitespace = areEquivalent && this.query ?\n      this.query.length !== inputValue.length : false;\n\n    this.query = inputValue;\n\n    if (!areEquivalent) {\n      this.trigger('queryChanged', this.query);\n    } else if (hasDifferentWhitespace) {\n      this.trigger('whitespaceChanged', this.query);\n    }\n  },\n\n  // ### public\n\n  focus: function focus() {\n    this.$input.focus();\n  },\n\n  blur: function blur() {\n    this.$input.blur();\n  },\n\n  getQuery: function getQuery() {\n    return this.query;\n  },\n\n  setQuery: function setQuery(query) {\n    this.query = query;\n  },\n\n  getInputValue: function getInputValue() {\n    return this.$input.val();\n  },\n\n  setInputValue: function setInputValue(value, silent) {\n    if (typeof value === 'undefined') {\n      value = this.query;\n    }\n    this.$input.val(value);\n\n    // silent prevents any additional events from being triggered\n    if (silent) {\n      this.clearHint();\n    } else {\n      this._checkInputValue();\n    }\n  },\n\n  expand: function expand() {\n    this.$input.attr('aria-expanded', 'true');\n  },\n\n  collapse: function collapse() {\n    this.$input.attr('aria-expanded', 'false');\n  },\n\n  setActiveDescendant: function setActiveDescendant(activedescendantId) {\n    this.$input.attr('aria-activedescendant', activedescendantId);\n  },\n\n  removeActiveDescendant: function removeActiveDescendant() {\n    this.$input.removeAttr('aria-activedescendant');\n  },\n\n  resetInputValue: function resetInputValue() {\n    this.setInputValue(this.query, true);\n  },\n\n  getHint: function getHint() {\n    return this.$hint.val();\n  },\n\n  setHint: function setHint(value) {\n    this.$hint.val(value);\n  },\n\n  clearHint: function clearHint() {\n    this.setHint('');\n  },\n\n  clearHintIfInvalid: function clearHintIfInvalid() {\n    var val;\n    var hint;\n    var valIsPrefixOfHint;\n    var isValid;\n\n    val = this.getInputValue();\n    hint = this.getHint();\n    valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n    isValid = val !== '' && valIsPrefixOfHint && !this.hasOverflow();\n\n    if (!isValid) {\n      this.clearHint();\n    }\n  },\n\n  getLanguageDirection: function getLanguageDirection() {\n    return (this.$input.css('direction') || 'ltr').toLowerCase();\n  },\n\n  hasOverflow: function hasOverflow() {\n    // 2 is arbitrary, just picking a small number to handle edge cases\n    var constraint = this.$input.width() - 2;\n\n    this.$overflowHelper.text(this.getInputValue());\n\n    return this.$overflowHelper.width() >= constraint;\n  },\n\n  isCursorAtEnd: function() {\n    var valueLength;\n    var selectionStart;\n    var range;\n\n    valueLength = this.$input.val().length;\n    selectionStart = this.$input[0].selectionStart;\n\n    if (_.isNumber(selectionStart)) {\n      return selectionStart === valueLength;\n    } else if (document.selection) {\n      // NOTE: this won't work unless the input has focus, the good news\n      // is this code should only get called when the input has focus\n      range = document.selection.createRange();\n      range.moveStart('character', -valueLength);\n\n      return valueLength === range.text.length;\n    }\n\n    return true;\n  },\n\n  destroy: function destroy() {\n    this.$hint.off('.aa');\n    this.$input.off('.aa');\n\n    this.$hint = this.$input = this.$overflowHelper = null;\n  }\n});\n\n// helper functions\n// ----------------\n\nfunction buildOverflowHelper($input) {\n  return DOM.element('<pre aria-hidden=\"true\"></pre>')\n    .css({\n      // position helper off-screen\n      position: 'absolute',\n      visibility: 'hidden',\n      // avoid line breaks and whitespace collapsing\n      whiteSpace: 'pre',\n      // use same font css as input to calculate accurate width\n      fontFamily: $input.css('font-family'),\n      fontSize: $input.css('font-size'),\n      fontStyle: $input.css('font-style'),\n      fontVariant: $input.css('font-variant'),\n      fontWeight: $input.css('font-weight'),\n      wordSpacing: $input.css('word-spacing'),\n      letterSpacing: $input.css('letter-spacing'),\n      textIndent: $input.css('text-indent'),\n      textRendering: $input.css('text-rendering'),\n      textTransform: $input.css('text-transform')\n    })\n    .insertAfter($input);\n}\n\nfunction areQueriesEquivalent(a, b) {\n  return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n}\n\nfunction withModifier($e) {\n  return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n}\n\nmodule.exports = Input;\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\nexports.test = function () {\n  // Don't get fooled by e.g. browserify environments.\n  return (typeof process !== 'undefined') && !process.browser;\n};\n\nexports.install = function (func) {\n  return function () {\n    process.nextTick(func);\n  };\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","'use strict';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventEmitter = require('./event_emitter.js');\nvar Dataset = require('./dataset.js');\nvar css = require('./css.js');\n\n// constructor\n// -----------\n\nfunction Dropdown(o) {\n  var that = this;\n  var onSuggestionClick;\n  var onSuggestionMouseEnter;\n  var onSuggestionMouseLeave;\n\n  o = o || {};\n\n  if (!o.menu) {\n    _.error('menu is required');\n  }\n\n  if (!_.isArray(o.datasets) && !_.isObject(o.datasets)) {\n    _.error('1 or more datasets required');\n  }\n  if (!o.datasets) {\n    _.error('datasets is required');\n  }\n\n  this.isOpen = false;\n  this.isEmpty = true;\n  this.minLength = o.minLength || 0;\n  this.templates = {};\n  this.appendTo = o.appendTo || false;\n  this.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix || _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n\n  // bound functions\n  onSuggestionClick = _.bind(this._onSuggestionClick, this);\n  onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n  onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n\n  var cssClass = _.className(this.cssClasses.prefix, this.cssClasses.suggestion);\n  this.$menu = DOM.element(o.menu)\n    .on('mouseenter.aa', cssClass, onSuggestionMouseEnter)\n    .on('mouseleave.aa', cssClass, onSuggestionMouseLeave)\n    .on('click.aa', cssClass, onSuggestionClick);\n\n  this.$container = o.appendTo ? o.wrapper : this.$menu;\n\n  if (o.templates && o.templates.header) {\n    this.templates.header = _.templatify(o.templates.header);\n    this.$menu.prepend(this.templates.header());\n  }\n\n  if (o.templates && o.templates.empty) {\n    this.templates.empty = _.templatify(o.templates.empty);\n    this.$empty = DOM.element('<div class=\"' +\n      _.className(this.cssClasses.prefix, this.cssClasses.empty, true) + '\">' +\n      '</div>');\n    this.$menu.append(this.$empty);\n    this.$empty.hide();\n  }\n\n  this.datasets = _.map(o.datasets, function(oDataset) {\n    return initializeDataset(that.$menu, oDataset, o.cssClasses);\n  });\n  _.each(this.datasets, function(dataset) {\n    var root = dataset.getRoot();\n    if (root && root.parent().length === 0) {\n      that.$menu.append(root);\n    }\n    dataset.onSync('rendered', that._onRendered, that);\n  });\n\n  if (o.templates && o.templates.footer) {\n    this.templates.footer = _.templatify(o.templates.footer);\n    this.$menu.append(this.templates.footer());\n  }\n\n  var self = this;\n  DOM.element(window).resize(function() {\n    self._redraw();\n  });\n}\n\n// instance methods\n// ----------------\n\n_.mixin(Dropdown.prototype, EventEmitter, {\n\n  // ### private\n\n  _onSuggestionClick: function onSuggestionClick($e) {\n    this.trigger('suggestionClicked', DOM.element($e.currentTarget));\n  },\n\n  _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n    var elt = DOM.element($e.currentTarget);\n    if (elt.hasClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))) {\n      // we're already on the cursor\n      // => we're probably entering it again after leaving it for a nested div\n      return;\n    }\n    this._removeCursor();\n\n    // Fixes iOS double tap behaviour, by modifying the DOM right before the\n    // native href clicks happens, iOS will requires another tap to follow\n    // a suggestion that has an <a href> element inside\n    // https://www.google.com/search?q=ios+double+tap+bug+href\n    var suggestion = this;\n    setTimeout(function() {\n      // this exact line, when inside the main loop, will trigger a double tap bug\n      // on iOS devices\n      suggestion._setCursor(elt, false);\n    }, 0);\n  },\n\n  _onSuggestionMouseLeave: function onSuggestionMouseLeave($e) {\n    // $e.relatedTarget is the `EventTarget` the pointing device entered to\n    if ($e.relatedTarget) {\n      var elt = DOM.element($e.relatedTarget);\n      if (elt.closest('.' + _.className(this.cssClasses.prefix, this.cssClasses.cursor, true)).length > 0) {\n        // our father is a cursor\n        // => it means we're just leaving the suggestion for a nested div\n        return;\n      }\n    }\n    this._removeCursor();\n    this.trigger('cursorRemoved');\n  },\n\n  _onRendered: function onRendered(e, query) {\n    this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n\n    if (this.isEmpty) {\n      if (query.length >= this.minLength) {\n        this.trigger('empty');\n      }\n\n      if (this.$empty) {\n        if (query.length < this.minLength) {\n          this._hide();\n        } else {\n          var html = this.templates.empty({\n            query: this.datasets[0] && this.datasets[0].query\n          });\n          this.$empty.html(html);\n          this.$empty.show();\n          this._show();\n        }\n      } else if (_.any(this.datasets, hasEmptyTemplate)) {\n        if (query.length < this.minLength) {\n          this._hide();\n        } else {\n          this._show();\n        }\n      } else {\n        this._hide();\n      }\n    } else if (this.isOpen) {\n      if (this.$empty) {\n        this.$empty.empty();\n        this.$empty.hide();\n      }\n\n      if (query.length >= this.minLength) {\n        this._show();\n      } else {\n        this._hide();\n      }\n    }\n\n    this.trigger('datasetRendered');\n\n    function isDatasetEmpty(dataset) {\n      return dataset.isEmpty();\n    }\n\n    function hasEmptyTemplate(dataset) {\n      return dataset.templates && dataset.templates.empty;\n    }\n  },\n\n  _hide: function() {\n    this.$container.hide();\n  },\n\n  _show: function() {\n    // can't use jQuery#show because $menu is a span element we want\n    // display: block; not dislay: inline;\n    this.$container.css('display', 'block');\n\n    this._redraw();\n\n    this.trigger('shown');\n  },\n\n  _redraw: function redraw() {\n    if (!this.isOpen || !this.appendTo) return;\n\n    this.trigger('redrawn');\n  },\n\n  _getSuggestions: function getSuggestions() {\n    return this.$menu.find(_.className(this.cssClasses.prefix, this.cssClasses.suggestion));\n  },\n\n  _getCursor: function getCursor() {\n    return this.$menu.find(_.className(this.cssClasses.prefix, this.cssClasses.cursor)).first();\n  },\n\n  _setCursor: function setCursor($el, updateInput) {\n    $el.first()\n      .addClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))\n      .attr('aria-selected', 'true');\n    this.trigger('cursorMoved', updateInput);\n  },\n\n  _removeCursor: function removeCursor() {\n    this._getCursor()\n      .removeClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))\n      .removeAttr('aria-selected');\n  },\n\n  _moveCursor: function moveCursor(increment) {\n    var $suggestions;\n    var $oldCursor;\n    var newCursorIndex;\n    var $newCursor;\n\n    if (!this.isOpen) {\n      return;\n    }\n\n    $oldCursor = this._getCursor();\n    $suggestions = this._getSuggestions();\n\n    this._removeCursor();\n\n    // shifting before and after modulo to deal with -1 index\n    newCursorIndex = $suggestions.index($oldCursor) + increment;\n    newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n\n    if (newCursorIndex === -1) {\n      this.trigger('cursorRemoved');\n\n      return;\n    } else if (newCursorIndex < -1) {\n      newCursorIndex = $suggestions.length - 1;\n    }\n\n    this._setCursor($newCursor = $suggestions.eq(newCursorIndex), true);\n\n    // in the case of scrollable overflow\n    // make sure the cursor is visible in the menu\n    this._ensureVisible($newCursor);\n  },\n\n  _ensureVisible: function ensureVisible($el) {\n    var elTop;\n    var elBottom;\n    var menuScrollTop;\n    var menuHeight;\n\n    elTop = $el.position().top;\n    elBottom = elTop + $el.height() +\n      parseInt($el.css('margin-top'), 10) +\n      parseInt($el.css('margin-bottom'), 10);\n    menuScrollTop = this.$menu.scrollTop();\n    menuHeight = this.$menu.height() +\n      parseInt(this.$menu.css('padding-top'), 10) +\n      parseInt(this.$menu.css('padding-bottom'), 10);\n\n    if (elTop < 0) {\n      this.$menu.scrollTop(menuScrollTop + elTop);\n    } else if (menuHeight < elBottom) {\n      this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n    }\n  },\n\n  // ### public\n\n  close: function close() {\n    if (this.isOpen) {\n      this.isOpen = false;\n\n      this._removeCursor();\n      this._hide();\n\n      this.trigger('closed');\n    }\n  },\n\n  open: function open() {\n    if (!this.isOpen) {\n      this.isOpen = true;\n\n      if (!this.isEmpty) {\n        this._show();\n      }\n\n      this.trigger('opened');\n    }\n  },\n\n  setLanguageDirection: function setLanguageDirection(dir) {\n    this.$menu.css(dir === 'ltr' ? this.css.ltr : this.css.rtl);\n  },\n\n  moveCursorUp: function moveCursorUp() {\n    this._moveCursor(-1);\n  },\n\n  moveCursorDown: function moveCursorDown() {\n    this._moveCursor(+1);\n  },\n\n  getDatumForSuggestion: function getDatumForSuggestion($el) {\n    var datum = null;\n\n    if ($el.length) {\n      datum = {\n        raw: Dataset.extractDatum($el),\n        value: Dataset.extractValue($el),\n        datasetName: Dataset.extractDatasetName($el)\n      };\n    }\n\n    return datum;\n  },\n\n  getCurrentCursor: function getCurrentCursor() {\n    return this._getCursor().first();\n  },\n\n  getDatumForCursor: function getDatumForCursor() {\n    return this.getDatumForSuggestion(this._getCursor().first());\n  },\n\n  getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n    return this.getDatumForSuggestion(this._getSuggestions().first());\n  },\n\n  cursorTopSuggestion: function cursorTopSuggestion() {\n    this._setCursor(this._getSuggestions().first(), false);\n  },\n\n  update: function update(query) {\n    _.each(this.datasets, updateDataset);\n\n    function updateDataset(dataset) {\n      dataset.update(query);\n    }\n  },\n\n  empty: function empty() {\n    _.each(this.datasets, clearDataset);\n    this.isEmpty = true;\n\n    function clearDataset(dataset) {\n      dataset.clear();\n    }\n  },\n\n  isVisible: function isVisible() {\n    return this.isOpen && !this.isEmpty;\n  },\n\n  destroy: function destroy() {\n    this.$menu.off('.aa');\n\n    this.$menu = null;\n\n    _.each(this.datasets, destroyDataset);\n\n    function destroyDataset(dataset) {\n      dataset.destroy();\n    }\n  }\n});\n\n// helper functions\n// ----------------\nDropdown.Dataset = Dataset;\n\nfunction initializeDataset($menu, oDataset, cssClasses) {\n  return new Dropdown.Dataset(_.mixin({$menu: $menu, cssClasses: cssClasses}, oDataset));\n}\n\nmodule.exports = Dropdown;\n","'use strict';\n\nvar datasetKey = 'aaDataset';\nvar valueKey = 'aaValue';\nvar datumKey = 'aaDatum';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar html = require('./html.js');\nvar css = require('./css.js');\nvar EventEmitter = require('./event_emitter.js');\n\n// constructor\n// -----------\n\nfunction Dataset(o) {\n  o = o || {};\n  o.templates = o.templates || {};\n\n  if (!o.source) {\n    _.error('missing source');\n  }\n\n  if (o.name && !isValidName(o.name)) {\n    _.error('invalid dataset name: ' + o.name);\n  }\n\n  // tracks the last query the dataset was updated for\n  this.query = null;\n  this._isEmpty = true;\n\n  this.highlight = !!o.highlight;\n  this.name = typeof o.name === 'undefined' || o.name === null ? _.getUniqueId() : o.name;\n\n  this.source = o.source;\n  this.displayFn = getDisplayFn(o.display || o.displayKey);\n\n  this.debounce = o.debounce;\n\n  this.cache = o.cache !== false;\n\n  this.templates = getTemplates(o.templates, this.displayFn);\n\n  this.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix || _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n\n  var clazz = _.className(this.cssClasses.prefix, this.cssClasses.dataset);\n  this.$el = o.$menu && o.$menu.find(clazz + '-' + this.name).length > 0 ?\n    DOM.element(o.$menu.find(clazz + '-' + this.name)[0]) :\n    DOM.element(\n      html.dataset.replace('%CLASS%', this.name)\n        .replace('%PREFIX%', this.cssClasses.prefix)\n        .replace('%DATASET%', this.cssClasses.dataset)\n    );\n\n  this.$menu = o.$menu;\n  this.clearCachedSuggestions();\n}\n\n// static methods\n// --------------\n\nDataset.extractDatasetName = function extractDatasetName(el) {\n  return DOM.element(el).data(datasetKey);\n};\n\nDataset.extractValue = function extractValue(el) {\n  return DOM.element(el).data(valueKey);\n};\n\nDataset.extractDatum = function extractDatum(el) {\n  var datum = DOM.element(el).data(datumKey);\n  if (typeof datum === 'string') {\n    // Zepto has an automatic deserialization of the\n    // JSON encoded data attribute\n    datum = JSON.parse(datum);\n  }\n  return datum;\n};\n\n// instance methods\n// ----------------\n\n_.mixin(Dataset.prototype, EventEmitter, {\n\n  // ### private\n\n  _render: function render(query, suggestions) {\n    if (!this.$el) {\n      return;\n    }\n    var that = this;\n\n    var hasSuggestions;\n    var renderArgs = [].slice.call(arguments, 2);\n    this.$el.empty();\n\n    hasSuggestions = suggestions && suggestions.length;\n    this._isEmpty = !hasSuggestions;\n\n    if (!hasSuggestions && this.templates.empty) {\n      this.$el\n        .html(getEmptyHtml.apply(this, renderArgs))\n        .prepend(that.templates.header ? getHeaderHtml.apply(this, renderArgs) : null)\n        .append(that.templates.footer ? getFooterHtml.apply(this, renderArgs) : null);\n    } else if (hasSuggestions) {\n      this.$el\n        .html(getSuggestionsHtml.apply(this, renderArgs))\n        .prepend(that.templates.header ? getHeaderHtml.apply(this, renderArgs) : null)\n        .append(that.templates.footer ? getFooterHtml.apply(this, renderArgs) : null);\n    } else if (suggestions && !Array.isArray(suggestions)) {\n      throw new TypeError('suggestions must be an array');\n    }\n\n    if (this.$menu) {\n      this.$menu.addClass(\n        this.cssClasses.prefix + (hasSuggestions ? 'with' : 'without') + '-' + this.name\n      ).removeClass(\n        this.cssClasses.prefix + (hasSuggestions ? 'without' : 'with') + '-' + this.name\n      );\n    }\n\n    this.trigger('rendered', query);\n\n    function getEmptyHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: true}].concat(args);\n      return that.templates.empty.apply(this, args);\n    }\n\n    function getSuggestionsHtml() {\n      var args = [].slice.call(arguments, 0);\n      var $suggestions;\n      var nodes;\n      var self = this;\n\n      var suggestionsHtml = html.suggestions.\n        replace('%PREFIX%', this.cssClasses.prefix).\n        replace('%SUGGESTIONS%', this.cssClasses.suggestions);\n      $suggestions = DOM\n        .element(suggestionsHtml)\n        .css(this.css.suggestions);\n\n      // jQuery#append doesn't support arrays as the first argument\n      // until version 1.8, see http://bugs.jquery.com/ticket/11231\n      nodes = _.map(suggestions, getSuggestionNode);\n      $suggestions.append.apply($suggestions, nodes);\n\n      return $suggestions;\n\n      function getSuggestionNode(suggestion) {\n        var $el;\n\n        var suggestionHtml = html.suggestion.\n          replace('%PREFIX%', self.cssClasses.prefix).\n          replace('%SUGGESTION%', self.cssClasses.suggestion);\n        $el = DOM.element(suggestionHtml)\n          .attr({\n            role: 'option',\n            id: ['option', Math.floor(Math.random() * 100000000)].join('-')\n          })\n          .append(that.templates.suggestion.apply(this, [suggestion].concat(args)));\n\n        $el.data(datasetKey, that.name);\n        $el.data(valueKey, that.displayFn(suggestion) || undefined); // this led to undefined return value\n        $el.data(datumKey, JSON.stringify(suggestion));\n        $el.children().each(function() { DOM.element(this).css(self.css.suggestionChild); });\n\n        return $el;\n      }\n    }\n\n    function getHeaderHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: !hasSuggestions}].concat(args);\n      return that.templates.header.apply(this, args);\n    }\n\n    function getFooterHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: !hasSuggestions}].concat(args);\n      return that.templates.footer.apply(this, args);\n    }\n  },\n\n  // ### public\n\n  getRoot: function getRoot() {\n    return this.$el;\n  },\n\n  update: function update(query) {\n    function handleSuggestions(suggestions) {\n      // if the update has been canceled or if the query has changed\n      // do not render the suggestions as they've become outdated\n      if (!this.canceled && query === this.query) {\n        // concat all the other arguments that could have been passed\n        // to the render function, and forward them to _render\n        var extraArgs = [].slice.call(arguments, 1);\n        this.cacheSuggestions(query, suggestions, extraArgs);\n        this._render.apply(this, [query, suggestions].concat(extraArgs));\n      }\n    }\n\n    this.query = query;\n    this.canceled = false;\n\n    if (this.shouldFetchFromCache(query)) {\n      handleSuggestions.apply(this, [this.cachedSuggestions].concat(this.cachedRenderExtraArgs));\n    } else {\n      var that = this;\n      var execSource = function() {\n        // When the call is debounced the condition avoid to do a useless\n        // request with the last character when the input has been cleared\n        if (!that.canceled) {\n          that.source(query, handleSuggestions.bind(that));\n        }\n      };\n\n      if (this.debounce) {\n        var later = function() {\n          that.debounceTimeout = null;\n          execSource();\n        };\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = setTimeout(later, this.debounce);\n      } else {\n        execSource();\n      }\n    }\n  },\n\n  cacheSuggestions: function cacheSuggestions(query, suggestions, extraArgs) {\n    this.cachedQuery = query;\n    this.cachedSuggestions = suggestions;\n    this.cachedRenderExtraArgs = extraArgs;\n  },\n\n  shouldFetchFromCache: function shouldFetchFromCache(query) {\n    return this.cache &&\n      this.cachedQuery === query &&\n      this.cachedSuggestions &&\n      this.cachedSuggestions.length;\n  },\n\n  clearCachedSuggestions: function clearCachedSuggestions() {\n    delete this.cachedQuery;\n    delete this.cachedSuggestions;\n    delete this.cachedRenderExtraArgs;\n  },\n\n  cancel: function cancel() {\n    this.canceled = true;\n  },\n\n  clear: function clear() {\n    if (this.$el) {\n      this.cancel();\n      this.$el.empty();\n      this.trigger('rendered', '');\n    }\n  },\n\n  isEmpty: function isEmpty() {\n    return this._isEmpty;\n  },\n\n  destroy: function destroy() {\n    this.clearCachedSuggestions();\n    this.$el = null;\n  }\n});\n\n// helper functions\n// ----------------\n\nfunction getDisplayFn(display) {\n  display = display || 'value';\n\n  return _.isFunction(display) ? display : displayFn;\n\n  function displayFn(obj) {\n    return obj[display];\n  }\n}\n\nfunction getTemplates(templates, displayFn) {\n  return {\n    empty: templates.empty && _.templatify(templates.empty),\n    header: templates.header && _.templatify(templates.header),\n    footer: templates.footer && _.templatify(templates.footer),\n    suggestion: templates.suggestion || suggestionTemplate\n  };\n\n  function suggestionTemplate(context) {\n    return '<p>' + displayFn(context) + '</p>';\n  }\n}\n\nfunction isValidName(str) {\n  // dashes, underscores, letters, and numbers\n  return (/^[_a-zA-Z0-9-]+$/).test(str);\n}\n\nmodule.exports = Dataset;\n","'use strict';\n\nmodule.exports = {\n  hits: require('./hits.js'),\n  popularIn: require('./popularIn.js')\n};\n","'use strict';\n\nvar _ = require('../common/utils.js');\nvar version = require('../../version.js');\nvar parseAlgoliaClientVersion = require('../common/parseAlgoliaClientVersion.js');\n\nmodule.exports = function search(index, params) {\n  var algoliaVersion = parseAlgoliaClientVersion(index.as._ua);\n  if (algoliaVersion && algoliaVersion[0] >= 3 && algoliaVersion[1] > 20) {\n    params = params || {};\n    params.additionalUA = 'autocomplete.js ' + version;\n  }\n  return sourceFn;\n\n  function sourceFn(query, cb) {\n    index.search(query, params, function(error, content) {\n      if (error) {\n        _.error(error.message);\n        return;\n      }\n      cb(content.hits, content);\n    });\n  }\n};\n","'use strict';\n\nvar _ = require('../common/utils.js');\nvar version = require('../../version.js');\nvar parseAlgoliaClientVersion = require('../common/parseAlgoliaClientVersion.js');\n\nmodule.exports = function popularIn(index, params, details, options) {\n  var algoliaVersion = parseAlgoliaClientVersion(index.as._ua);\n  if (algoliaVersion && algoliaVersion[0] >= 3 && algoliaVersion[1] > 20) {\n    params = params || {};\n    params.additionalUA = 'autocomplete.js ' + version;\n  }\n  if (!details.source) {\n    return _.error(\"Missing 'source' key\");\n  }\n  var source = _.isFunction(details.source) ? details.source : function(hit) { return hit[details.source]; };\n\n  if (!details.index) {\n    return _.error(\"Missing 'index' key\");\n  }\n  var detailsIndex = details.index;\n\n  options = options || {};\n\n  return sourceFn;\n\n  function sourceFn(query, cb) {\n    index.search(query, params, function(error, content) {\n      if (error) {\n        _.error(error.message);\n        return;\n      }\n\n      if (content.hits.length > 0) {\n        var first = content.hits[0];\n\n        var detailsParams = _.mixin({hitsPerPage: 0}, details);\n        delete detailsParams.source; // not a query parameter\n        delete detailsParams.index; // not a query parameter\n\n        var detailsAlgoliaVersion = parseAlgoliaClientVersion(detailsIndex.as._ua);\n        if (detailsAlgoliaVersion && detailsAlgoliaVersion[0] >= 3 && detailsAlgoliaVersion[1] > 20) {\n          params.additionalUA = 'autocomplete.js ' + version;\n        }\n\n        detailsIndex.search(source(first), detailsParams, function(error2, content2) {\n          if (error2) {\n            _.error(error2.message);\n            return;\n          }\n\n          var suggestions = [];\n\n          // add the 'all department' entry before others\n          if (options.includeAll) {\n            var label = options.allTitle || 'All departments';\n            suggestions.push(_.mixin({\n              facet: {value: label, count: content2.nbHits}\n            }, _.cloneDeep(first)));\n          }\n\n          // enrich the first hit iterating over the facets\n          _.each(content2.facets, function(values, facet) {\n            _.each(values, function(count, value) {\n              suggestions.push(_.mixin({\n                facet: {facet: facet, value: value, count: count}\n              }, _.cloneDeep(first)));\n            });\n          });\n\n          // append all other hits\n          for (var i = 1; i < content.hits.length; ++i) {\n            suggestions.push(content.hits[i]);\n          }\n\n          cb(suggestions, content);\n        });\n\n        return;\n      }\n\n      cb([]);\n    });\n  }\n};\n","import lunr from \"lunr\";\nlunr.tokenizer.separator = /[\\s\\-/]+/;\n\nclass LunrSearchAdapter {\n    constructor(searchData) {\n        this.searchData = searchData;\n        this.init();\n    }\n\n    init() {\n        const { searchData } = this;\n        this.lunrIndex = lunr(function () {\n            this.ref(\"id\");\n            this.field(\"title\", { boost: 200 });\n            this.field(\"content\", { boost: 2 });\n            this.metadataWhitelist = [\"position\"];\n            searchData.forEach((d, i) => {\n                const doc = {\n                    id: i,\n                    title: d.title,\n                    content: d.content\n                };\n                this.add(doc);\n            });\n        });\n    }\n\n    getLunrResult(input) {\n        return this.lunrIndex.query(function (query) {\n            const tokens = lunr.tokenizer(input);\n            query.term(tokens, {\n                boost: 10\n            });\n            query.term(tokens, {\n                wildcard: lunr.Query.wildcard.TRAILING\n            });\n        });\n    }\n\n    getTitleHit(doc, position, length) {\n        const start = position[0];\n        const end = position[0] + length;\n        let formattedTitle = doc.title.substring(0, start) + '<span class=\"algolia-docsearch-suggestion--highlight\">' + doc.title.substring(start, end) + '</span>' + doc.title.substring(end, doc.title.length);\n        return {\n            hierarchy: {\n                lvl0: doc.pageTitle || doc.title,\n                lvl1: doc.type === 0 ? null : doc.title\n            },\n            url: doc.url,\n            _highlightResult: {\n                hierarchy: {\n                    lvl0: {\n                        value: doc.type === 0 ? formattedTitle : doc.pageTitle\n                    },\n                    lvl1:\n                        doc.type === 0\n                            ? null\n                            : {\n                                value: formattedTitle\n                            }\n                }\n            }\n        };\n    }\n\n    search(input) {\n        return new Promise((resolve, rej) => {\n            const results = this.getLunrResult(input);\n            console.log(results);\n            const hits = [];\n            results.forEach(result => {\n                const doc = this.searchData[result.ref];\n                const { metadata } = result.matchData;\n                for (let i in metadata) {\n                    if (metadata[i].title) {\n                        const position = metadata[i].title.position[0]\n                        hits.push(this.getTitleHit(doc, position, input.length));\n                    } else if (metadata[i].content) {\n                    }\n                }\n            });\n            resolve(hits);\n        });\n    }\n}\n\nexport default LunrSearchAdapter;\n","const prefix = 'algolia-docsearch';\nconst suggestionPrefix = `${prefix}-suggestion`;\nconst footerPrefix = `${prefix}-footer`;\n\n/* eslint-disable max-len */\n\nconst templates = {\n  suggestion: `\n  <a class=\"${suggestionPrefix}\n    {{#isCategoryHeader}}${suggestionPrefix}__main{{/isCategoryHeader}}\n    {{#isSubCategoryHeader}}${suggestionPrefix}__secondary{{/isSubCategoryHeader}}\n    \"\n    aria-label=\"Link to the result\"\n    href=\"{{{url}}}\"\n    >\n    <div class=\"${suggestionPrefix}--category-header\">\n        <span class=\"${suggestionPrefix}--category-header-lvl0\">{{{category}}}</span>\n    </div>\n    <div class=\"${suggestionPrefix}--wrapper\">\n      <div class=\"${suggestionPrefix}--subcategory-column\">\n        <span class=\"${suggestionPrefix}--subcategory-column-text\">{{{subcategory}}}</span>\n      </div>\n      {{#isTextOrSubcategoryNonEmpty}}\n      <div class=\"${suggestionPrefix}--content\">\n        <div class=\"${suggestionPrefix}--subcategory-inline\">{{{subcategory}}}</div>\n        <div class=\"${suggestionPrefix}--title\">{{{title}}}</div>\n        {{#text}}<div class=\"${suggestionPrefix}--text\">{{{text}}}</div>{{/text}}\n      </div>\n      {{/isTextOrSubcategoryNonEmpty}}\n    </div>\n  </a>\n  `,\n  suggestionSimple: `\n  <div class=\"${suggestionPrefix}\n    {{#isCategoryHeader}}${suggestionPrefix}__main{{/isCategoryHeader}}\n    {{#isSubCategoryHeader}}${suggestionPrefix}__secondary{{/isSubCategoryHeader}}\n    suggestion-layout-simple\n  \">\n    <div class=\"${suggestionPrefix}--category-header\">\n        {{^isLvl0}}\n        <span class=\"${suggestionPrefix}--category-header-lvl0 ${suggestionPrefix}--category-header-item\">{{{category}}}</span>\n          {{^isLvl1}}\n          {{^isLvl1EmptyOrDuplicate}}\n          <span class=\"${suggestionPrefix}--category-header-lvl1 ${suggestionPrefix}--category-header-item\">\n              {{{subcategory}}}\n          </span>\n          {{/isLvl1EmptyOrDuplicate}}\n          {{/isLvl1}}\n        {{/isLvl0}}\n        <div class=\"${suggestionPrefix}--title ${suggestionPrefix}--category-header-item\">\n            {{#isLvl2}}\n                {{{title}}}\n            {{/isLvl2}}\n            {{#isLvl1}}\n                {{{subcategory}}}\n            {{/isLvl1}}\n            {{#isLvl0}}\n                {{{category}}}\n            {{/isLvl0}}\n        </div>\n    </div>\n    <div class=\"${suggestionPrefix}--wrapper\">\n      {{#text}}\n      <div class=\"${suggestionPrefix}--content\">\n        <div class=\"${suggestionPrefix}--text\">{{{text}}}</div>\n      </div>\n      {{/text}}\n    </div>\n  </div>\n  `,\n  footer: `\n    <div class=\"${footerPrefix}\">\n      ValQ\n    </div>\n  `,\n  empty: `\n  <div class=\"${suggestionPrefix}\">\n    <div class=\"${suggestionPrefix}--wrapper\">\n        <div class=\"${suggestionPrefix}--content ${suggestionPrefix}--no-results\">\n            <div class=\"${suggestionPrefix}--title\">\n                <div class=\"${suggestionPrefix}--text\">\n                    No results found for query <b>\"{{query}}\"</b>\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n  `,\n  searchBox: `\n  <form novalidate=\"novalidate\" onsubmit=\"return false;\" class=\"searchbox\">\n    <div role=\"search\" class=\"searchbox__wrapper\">\n      <input id=\"docsearch\" type=\"search\" name=\"search\" placeholder=\"Search the docs\" autocomplete=\"off\" required=\"required\" class=\"searchbox__input\"/>\n      <button type=\"submit\" title=\"Submit your search query.\" class=\"searchbox__submit\" >\n        <svg width=12 height=12 role=\"img\" aria-label=\"Search\">\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-search-13\"></use>\n        </svg>\n      </button>\n      <button type=\"reset\" title=\"Clear the search query.\" class=\"searchbox__reset hide\">\n        <svg width=12 height=12 role=\"img\" aria-label=\"Reset\">\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-clear-3\"></use>\n        </svg>\n      </button>\n    </div>\n</form>\n\n<div class=\"svg-icons\" style=\"height: 0; width: 0; position: absolute; visibility: hidden\">\n  <svg xmlns=\"http://www.w3.org/2000/svg\">\n    <symbol id=\"sbx-icon-clear-3\" viewBox=\"0 0 40 40\"><path d=\"M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z\" fill-rule=\"evenodd\"></symbol>\n    <symbol id=\"sbx-icon-search-13\" viewBox=\"0 0 40 40\"><path d=\"M26.806 29.012a16.312 16.312 0 0 1-10.427 3.746C7.332 32.758 0 25.425 0 16.378 0 7.334 7.333 0 16.38 0c9.045 0 16.378 7.333 16.378 16.38 0 3.96-1.406 7.593-3.746 10.426L39.547 37.34c.607.608.61 1.59-.004 2.203a1.56 1.56 0 0 1-2.202.004L26.807 29.012zm-10.427.627c7.322 0 13.26-5.938 13.26-13.26 0-7.324-5.938-13.26-13.26-13.26-7.324 0-13.26 5.936-13.26 13.26 0 7.322 5.936 13.26 13.26 13.26z\" fill-rule=\"evenodd\"></symbol>\n  </svg>\n</div>\n  `,\n};\n\nexport default templates;\n","import zepto from 'autocomplete.js/zepto';\nexport default zepto;\n","import $ from './zepto';\n\nconst utils = {\n  /*\n  * Move the content of an object key one level higher.\n  * eg.\n  * {\n  *   name: 'My name',\n  *   hierarchy: {\n  *     lvl0: 'Foo',\n  *     lvl1: 'Bar'\n  *   }\n  * }\n  * Will be converted to\n  * {\n  *   name: 'My name',\n  *   lvl0: 'Foo',\n  *   lvl1: 'Bar'\n  * }\n  * @param {Object} object Main object\n  * @param {String} property Main object key to move up\n  * @return {Object}\n  * @throws Error when key is not an attribute of Object or is not an object itself\n  */\n  mergeKeyWithParent(object, property) {\n    if (object[property] === undefined) {\n      return object;\n    }\n    if (typeof object[property] !== 'object') {\n      return object;\n    }\n    const newObject = $.extend({}, object, object[property]);\n    delete newObject[property];\n    return newObject;\n  },\n  /*\n  * Group all objects of a collection by the value of the specified attribute\n  * If the attribute is a string, use the lowercase form.\n  *\n  * eg.\n  * groupBy([\n  *   {name: 'Tim', category: 'dev'},\n  *   {name: 'Vincent', category: 'dev'},\n  *   {name: 'Ben', category: 'sales'},\n  *   {name: 'Jeremy', category: 'sales'},\n  *   {name: 'AlexS', category: 'dev'},\n  *   {name: 'AlexK', category: 'sales'}\n  * ], 'category');\n  * =>\n  * {\n  *   'devs': [\n  *     {name: 'Tim', category: 'dev'},\n  *     {name: 'Vincent', category: 'dev'},\n  *     {name: 'AlexS', category: 'dev'}\n  *   ],\n  *   'sales': [\n  *     {name: 'Ben', category: 'sales'},\n  *     {name: 'Jeremy', category: 'sales'},\n  *     {name: 'AlexK', category: 'sales'}\n  *   ]\n  * }\n  * @param {array} collection Array of objects to group\n  * @param {String} property The attribute on which apply the grouping\n  * @return {array}\n  * @throws Error when one of the element does not have the specified property\n  */\n  groupBy(collection, property) {\n    const newCollection = {};\n    $.each(collection, (index, item) => {\n      if (item[property] === undefined) {\n        throw new Error(`[groupBy]: Object has no key ${property}`);\n      }\n      let key = item[property];\n      if (typeof key === 'string') {\n        key = key.toLowerCase();\n      }\n      // fix #171 the given data type of docsearch hits might be conflict with the properties of the native Object,\n      // such as the constructor, so we need to do this check.\n      if (!Object.prototype.hasOwnProperty.call(newCollection, key)) {\n        newCollection[key] = [];\n      }\n      newCollection[key].push(item);\n    });\n    return newCollection;\n  },\n  /*\n  * Return an array of all the values of the specified object\n  * eg.\n  * values({\n  *   foo: 42,\n  *   bar: true,\n  *   baz: 'yep'\n  * })\n  * =>\n  * [42, true, yep]\n  * @param {object} object Object to extract values from\n  * @return {array}\n  */\n  values(object) {\n    return Object.keys(object).map(key => object[key]);\n  },\n  /*\n  * Flattens an array\n  * eg.\n  * flatten([1, 2, [3, 4], [5, 6]])\n  * =>\n  * [1, 2, 3, 4, 5, 6]\n  * @param {array} array Array to flatten\n  * @return {array}\n  */\n  flatten(array) {\n    const results = [];\n    array.forEach(value => {\n      if (!Array.isArray(value)) {\n        results.push(value);\n        return;\n      }\n      value.forEach(subvalue => {\n        results.push(subvalue);\n      });\n    });\n    return results;\n  },\n  /*\n  * Flatten all values of an object into an array, marking each first element of\n  * each group with a specific flag\n  * eg.\n  * flattenAndFlagFirst({\n  *   'devs': [\n  *     {name: 'Tim', category: 'dev'},\n  *     {name: 'Vincent', category: 'dev'},\n  *     {name: 'AlexS', category: 'dev'}\n  *   ],\n  *   'sales': [\n  *     {name: 'Ben', category: 'sales'},\n  *     {name: 'Jeremy', category: 'sales'},\n  *     {name: 'AlexK', category: 'sales'}\n  *   ]\n  * , 'isTop');\n  * =>\n  * [\n  *     {name: 'Tim', category: 'dev', isTop: true},\n  *     {name: 'Vincent', category: 'dev', isTop: false},\n  *     {name: 'AlexS', category: 'dev', isTop: false},\n  *     {name: 'Ben', category: 'sales', isTop: true},\n  *     {name: 'Jeremy', category: 'sales', isTop: false},\n  *     {name: 'AlexK', category: 'sales', isTop: false}\n  * ]\n  * @param {object} object Object to flatten\n  * @param {string} flag Flag to set to true on first element of each group\n  * @return {array}\n  */\n  flattenAndFlagFirst(object, flag) {\n    const values = this.values(object).map(collection =>\n      collection.map((item, index) => {\n        // eslint-disable-next-line no-param-reassign\n        item[flag] = index === 0;\n        return item;\n      })\n    );\n    return this.flatten(values);\n  },\n  /*\n  * Removes all empty strings, null, false and undefined elements array\n  * eg.\n  * compact([42, false, null, undefined, '', [], 'foo']);\n  * =>\n  * [42, [], 'foo']\n  * @param {array} array Array to compact\n  * @return {array}\n  */\n  compact(array) {\n    const results = [];\n    array.forEach(value => {\n      if (!value) {\n        return;\n      }\n      results.push(value);\n    });\n    return results;\n  },\n  /*\n   * Returns the highlighted value of the specified key in the specified object.\n   * If no highlighted value is available, will return the key value directly\n   * eg.\n   * getHighlightedValue({\n   *    _highlightResult: {\n   *      text: {\n   *        value: '<mark>foo</mark>'\n   *      }\n   *    },\n   *    text: 'foo'\n   * }, 'text');\n   * =>\n   * '<mark>foo</mark>'\n   * @param {object} object Hit object returned by the Algolia API\n   * @param {string} property Object key to look for\n   * @return {string}\n   **/\n  getHighlightedValue(object, property) {\n    if (\n      object._highlightResult &&\n      object._highlightResult.hierarchy_camel &&\n      object._highlightResult.hierarchy_camel[property] &&\n      object._highlightResult.hierarchy_camel[property].matchLevel &&\n      object._highlightResult.hierarchy_camel[property].matchLevel !== 'none' &&\n      object._highlightResult.hierarchy_camel[property].value\n    ) {\n      return object._highlightResult.hierarchy_camel[property].value;\n    }\n    if (\n      object._highlightResult &&\n      object._highlightResult &&\n      object._highlightResult[property] &&\n      object._highlightResult[property].value\n    ) {\n      return object._highlightResult[property].value;\n    }\n    return object[property];\n  },\n  /*\n   * Returns the snippeted value of the specified key in the specified object.\n   * If no highlighted value is available, will return the key value directly.\n   * Will add starting and ending ellipsis () if we detect that a sentence is\n   * incomplete\n   * eg.\n   * getSnippetedValue({\n   *    _snippetResult: {\n   *      text: {\n   *        value: '<mark>This is an unfinished sentence</mark>'\n   *      }\n   *    },\n   *    text: 'This is an unfinished sentence'\n   * }, 'text');\n   * =>\n   * '<mark>This is an unfinished sentence</mark>'\n   * @param {object} object Hit object returned by the Algolia API\n   * @param {string} property Object key to look for\n   * @return {string}\n   **/\n  getSnippetedValue(object, property) {\n    if (\n      !object._snippetResult ||\n      !object._snippetResult[property] ||\n      !object._snippetResult[property].value\n    ) {\n      return object[property];\n    }\n    let snippet = object._snippetResult[property].value;\n\n    if (snippet[0] !== snippet[0].toUpperCase()) {\n      snippet = `${snippet}`;\n    }\n    if (['.', '!', '?'].indexOf(snippet[snippet.length - 1]) === -1) {\n      snippet = `${snippet}`;\n    }\n    return snippet;\n  },\n  /*\n  * Deep clone an object.\n  * Note: This will not clone functions and dates\n  * @param {object} object Object to clone\n  * @return {object}\n  */\n  deepClone(object) {\n    return JSON.parse(JSON.stringify(object));\n  },\n};\n\nexport default utils;\n","import Hogan from \"hogan.js\";\nimport LunrSearchAdapter from \"./lunar-search\";\nimport autocomplete from \"autocomplete.js\";\nimport templates from \"./templates\";\nimport utils from \"./utils\";\nimport $ from \"./zepto\";\n\n/**\n * Adds an autocomplete dropdown to an input field\n * @function DocSearch\n * @param  {Object} options.searchData         Read-only API key\n * @param  {string} options.inputSelector  CSS selector that targets the input\n * value.\n * @param  {Object} [options.autocompleteOptions] Options to pass to the underlying autocomplete instance\n * @return {Object}\n */\nconst usage = `Usage:\n  documentationSearch({\n  searchData,\n  inputSelector,\n  [ appId ],\n  [ autocompleteOptions.{hint,debug} ]\n})`;\nclass DocSearch {\n    constructor({\n        searchData,\n        inputSelector,\n        debug = false,\n        queryDataCallback = null,\n        autocompleteOptions = {\n            debug: false,\n            hint: false,\n            autoselect: true\n        },\n        transformData = false,\n        queryHook = false,\n        handleSelected = false,\n        enhancedSearchInput = false,\n        layout = \"collumns\"\n    }) {\n        DocSearch.checkArguments({\n            searchData,\n            inputSelector,\n        });\n        this.searchData = searchData;\n        this.input = DocSearch.getInputFromSelector(inputSelector);\n        this.queryDataCallback = queryDataCallback || null;\n        const autocompleteOptionsDebug =\n            autocompleteOptions && autocompleteOptions.debug\n                ? autocompleteOptions.debug\n                : false;\n        // eslint-disable-next-line no-param-reassign\n        autocompleteOptions.debug = debug || autocompleteOptionsDebug;\n        this.autocompleteOptions = autocompleteOptions;\n        this.autocompleteOptions.cssClasses =\n            this.autocompleteOptions.cssClasses || {};\n        this.autocompleteOptions.cssClasses.prefix =\n            this.autocompleteOptions.cssClasses.prefix || \"ds\";\n        const inputAriaLabel =\n            this.input &&\n            typeof this.input.attr === \"function\" &&\n            this.input.attr(\"aria-label\");\n        this.autocompleteOptions.ariaLabel =\n            this.autocompleteOptions.ariaLabel || inputAriaLabel || \"search input\";\n\n        this.isSimpleLayout = layout === \"simple\";\n\n        this.client = new LunrSearchAdapter(this.searchData);\n\n        if (enhancedSearchInput) {\n            this.input = DocSearch.injectSearchBox(this.input);\n        }\n        this.autocomplete = autocomplete(this.input, autocompleteOptions, [\n            {\n                source: this.getAutocompleteSource(transformData, queryHook),\n                templates: {\n                    suggestion: DocSearch.getSuggestionTemplate(this.isSimpleLayout),\n                    footer: templates.footer,\n                    empty: DocSearch.getEmptyTemplate()\n                }\n            }\n        ]);\n\n        const customHandleSelected = handleSelected;\n        this.handleSelected = customHandleSelected || this.handleSelected;\n\n        // We prevent default link clicking if a custom handleSelected is defined\n        if (customHandleSelected) {\n            $(\".algolia-autocomplete\").on(\"click\", \".ds-suggestions a\", event => {\n                event.preventDefault();\n            });\n        }\n\n        this.autocomplete.on(\n            \"autocomplete:selected\",\n            this.handleSelected.bind(null, this.autocomplete.autocomplete)\n        );\n\n        this.autocomplete.on(\n            \"autocomplete:shown\",\n            this.handleShown.bind(null, this.input)\n        );\n\n        if (enhancedSearchInput) {\n            DocSearch.bindSearchBoxEvent();\n        }\n    }\n\n    /**\n     * Checks that the passed arguments are valid. Will throw errors otherwise\n     * @function checkArguments\n     * @param  {object} args Arguments as an option object\n     * @returns {void}\n     */\n    static checkArguments(args) {\n        if (!args.searchData) {\n            throw new Error(usage);\n        }\n\n        if (typeof args.inputSelector !== \"string\") {\n            throw new Error(\n                `Error: inputSelector:${args.inputSelector}  must be a string. Each selector must match only one element and separated by ','`\n            );\n        }\n\n        if (!DocSearch.getInputFromSelector(args.inputSelector)) {\n            throw new Error(\n                `Error: No input element in the page matches ${args.inputSelector}`\n            );\n        }\n    }\n\n    static injectSearchBox(input) {\n        input.before(templates.searchBox);\n        const newInput = input\n            .prev()\n            .prev()\n            .find(\"input\");\n        input.remove();\n        return newInput;\n    }\n\n    static bindSearchBoxEvent() {\n        $('.searchbox [type=\"reset\"]').on(\"click\", function () {\n            $(\"input#docsearch\").focus();\n            $(this).addClass(\"hide\");\n            autocomplete.autocomplete.setVal(\"\");\n        });\n\n        $(\"input#docsearch\").on(\"keyup\", () => {\n            const searchbox = document.querySelector(\"input#docsearch\");\n            const reset = document.querySelector('.searchbox [type=\"reset\"]');\n            reset.className = \"searchbox__reset\";\n            if (searchbox.value.length === 0) {\n                reset.className += \" hide\";\n            }\n        });\n    }\n\n    /**\n     * Returns the matching input from a CSS selector, null if none matches\n     * @function getInputFromSelector\n     * @param  {string} selector CSS selector that matches the search\n     * input of the page\n     * @returns {void}\n     */\n    static getInputFromSelector(selector) {\n        const input = $(selector).filter(\"input\");\n        return input.length ? $(input[0]) : null;\n    }\n\n    /**\n     * Returns the `source` method to be passed to autocomplete.js. It will query\n     * the Algolia index and call the callbacks with the formatted hits.\n     * @function getAutocompleteSource\n     * @param  {function} transformData An optional function to transform the hits\n     * @param {function} queryHook An optional function to transform the query\n     * @returns {function} Method to be passed as the `source` option of\n     * autocomplete\n     */\n    getAutocompleteSource(transformData, queryHook) {\n        return (query, callback) => {\n            if (queryHook) {\n                // eslint-disable-next-line no-param-reassign\n                query = queryHook(query) || query;\n            }\n            console.log(\"HERE\");\n            this.client.search(query).then(hits => {\n                console.log(hits, \"res\");\n                if (\n                    this.queryDataCallback &&\n                    typeof this.queryDataCallback == \"function\"\n                ) {\n                    this.queryDataCallback(hits);\n                }\n                if (transformData) {\n                    hits = transformData(hits) || hits;\n                }\n                callback(DocSearch.formatHits(hits));\n            });\n        };\n    }\n\n    // Given a list of hits returned by the API, will reformat them to be used in\n    // a Hogan template\n    static formatHits(receivedHits) {\n        const clonedHits = utils.deepClone(receivedHits);\n        const hits = clonedHits.map(hit => {\n            if (hit._highlightResult) {\n                // eslint-disable-next-line no-param-reassign\n                hit._highlightResult = utils.mergeKeyWithParent(\n                    hit._highlightResult,\n                    \"hierarchy\"\n                );\n            }\n            return utils.mergeKeyWithParent(hit, \"hierarchy\");\n        });\n\n        // Group hits by category / subcategory\n        let groupedHits = utils.groupBy(hits, \"lvl0\");\n        $.each(groupedHits, (level, collection) => {\n            const groupedHitsByLvl1 = utils.groupBy(collection, \"lvl1\");\n            const flattenedHits = utils.flattenAndFlagFirst(\n                groupedHitsByLvl1,\n                \"isSubCategoryHeader\"\n            );\n            groupedHits[level] = flattenedHits;\n        });\n        groupedHits = utils.flattenAndFlagFirst(groupedHits, \"isCategoryHeader\");\n\n        // Translate hits into smaller objects to be send to the template\n        return groupedHits.map(hit => {\n            const url = DocSearch.formatURL(hit);\n            const category = utils.getHighlightedValue(hit, \"lvl0\");\n            const subcategory = utils.getHighlightedValue(hit, \"lvl1\") || category;\n            const displayTitle = utils\n                .compact([\n                    utils.getHighlightedValue(hit, \"lvl2\") || subcategory,\n                    utils.getHighlightedValue(hit, \"lvl3\"),\n                    utils.getHighlightedValue(hit, \"lvl4\"),\n                    utils.getHighlightedValue(hit, \"lvl5\"),\n                    utils.getHighlightedValue(hit, \"lvl6\")\n                ])\n                .join(\n                    '<span class=\"aa-suggestion-title-separator\" aria-hidden=\"true\">  </span>'\n                );\n            const text = utils.getSnippetedValue(hit, \"content\");\n            const isTextOrSubcategoryNonEmpty =\n                (subcategory && subcategory !== \"\") ||\n                (displayTitle && displayTitle !== \"\");\n            const isLvl1EmptyOrDuplicate =\n                !subcategory || subcategory === \"\" || subcategory === category;\n            const isLvl2 =\n                displayTitle && displayTitle !== \"\" && displayTitle !== subcategory;\n            const isLvl1 =\n                !isLvl2 &&\n                (subcategory && subcategory !== \"\" && subcategory !== category);\n            const isLvl0 = !isLvl1 && !isLvl2;\n\n            return {\n                isLvl0,\n                isLvl1,\n                isLvl2,\n                isLvl1EmptyOrDuplicate,\n                isCategoryHeader: hit.isCategoryHeader,\n                isSubCategoryHeader: hit.isSubCategoryHeader,\n                isTextOrSubcategoryNonEmpty,\n                category,\n                subcategory,\n                title: displayTitle,\n                text,\n                url\n            };\n        });\n    }\n\n    static formatURL(hit) {\n        const { url, anchor } = hit;\n        if (url) {\n            const containsAnchor = url.indexOf(\"#\") !== -1;\n            if (containsAnchor) return url;\n            else if (anchor) return `${hit.url}#${hit.anchor}`;\n            return url;\n        } else if (anchor) return `#${hit.anchor}`;\n        /* eslint-disable */\n        console.warn(\"no anchor nor url for : \", JSON.stringify(hit));\n        /* eslint-enable */\n        return null;\n    }\n\n    static getEmptyTemplate() {\n        return args => Hogan.compile(templates.empty).render(args);\n    }\n\n    static getSuggestionTemplate(isSimpleLayout) {\n        const stringTemplate = isSimpleLayout\n            ? templates.suggestionSimple\n            : templates.suggestion;\n        const template = Hogan.compile(stringTemplate);\n        return suggestion => template.render(suggestion);\n    }\n\n    handleSelected(input, event, suggestion, datasetNumber, context = {}) {\n        // Do nothing if click on the suggestion, as it's already a <a href>, the\n        // browser will take care of it. This allow Ctrl-Clicking on results and not\n        // having the main window being redirected as well\n        if (context.selectionMethod === \"click\") {\n            return;\n        }\n\n        input.setVal(\"\");\n        window.location.assign(suggestion.url);\n    }\n\n    handleShown(input) {\n        const middleOfInput = input.offset().left + input.width() / 2;\n        let middleOfWindow = $(document).width() / 2;\n\n        if (isNaN(middleOfWindow)) {\n            middleOfWindow = 900;\n        }\n\n        const alignClass =\n            middleOfInput - middleOfWindow >= 0\n                ? \"algolia-autocomplete-right\"\n                : \"algolia-autocomplete-left\";\n        const otherAlignClass =\n            middleOfInput - middleOfWindow < 0\n                ? \"algolia-autocomplete-right\"\n                : \"algolia-autocomplete-left\";\n        const autocompleteWrapper = $(\".algolia-autocomplete\");\n        if (!autocompleteWrapper.hasClass(alignClass)) {\n            autocompleteWrapper.addClass(alignClass);\n        }\n\n        if (autocompleteWrapper.hasClass(otherAlignClass)) {\n            autocompleteWrapper.removeClass(otherAlignClass);\n        }\n    }\n}\n\nexport default DocSearch;\n"],"sourceRoot":""}