---
id: node
title: Node
---

import useBaseUrl from "@docusaurus/useBaseUrl"; // Add to the top of the file below the front matter.
import Link from "@docusaurus/Link";
import Zoom from "react-medium-image-zoom";
import "react-medium-image-zoom/dist/styles.css";

<div style={{ textAlign: "justify" }}>
  In this section, you will learn everything related to node on ValQ's Model
  tab. In case you are new to node, it is recommended you visit{" "}
  <Link to={useBaseUrl("intro/node")}>Understanding Nodes in ValQ</Link>
  and then come back here to learn more about nodes.
</div>
Click on the 
  <img
    alt="New Tab"
    src={useBaseUrl("/doc-images/model/node icon.png")}
    width={64}
    height={32}
  /> icon on ValQ to access the Node options.

## Node Editor

To edit a node, click on the pencil icon highlighted below or double-click on the node.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Pencil icon for Edit Node"
      src={useBaseUrl("/doc-images/model/node46.png")}
    />
  </Zoom>
  <p>Pencil icon for Edit Node</p>
</div>

By clicking the Edit option you will be able to view the Edit Node dialog box as shown below.

<div class="center">
  <Zoom>
    <img alt="Edit Node" src={useBaseUrl("/doc-images/model/node5.png")} />
  </Zoom>
  <p>Edit Node</p>
</div>

## 1. General

<div style={{ textAlign: "justify" }}>
  In the General settings, you will be able to configure the node details such
  as Unique ID, Title and Title Prefix when outside Tree with the values. The
  Title Prefix can be set at node Level and it is useful during simulation to
  identify at which node level the parameter value changes.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="General" src={useBaseUrl("/doc-images/model/node6.png")} />
  </Zoom>
  <p>Node's General Settings</p>
</div>

<div style={{ textAlign: "justify" }}>
  In the below Figure, you can observe that Consumer is the common title for two
  different nodes. To differentiate, we have provided the value for Title Prefix
  when outside Tree as East for one node and Midwest for the other node.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt="Title Prefix when outside Tree_"
      src={useBaseUrl("/doc-images/model/node10.png")}
    />
  </Zoom>
  <p>Title Prefix when outside Tree</p>
</div>

## 2. Configuration

In the Configuration settings, you can configure the node details with the following properties:

1. [Node Type](#21-node-type)
1. [Calculation Method](#22-calculation-method)
1. [Time Aggregation](#23-time-aggregation)
1. [Desired Trend](#24-desired-trend)
1. [Value Range](#25-value-range)
1. [Dynamic Children](#26-dynamic-children)

### 2.1 Node Type

A node can be of two types - Normal and Constant.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="Node Type" src={useBaseUrl("/doc-images/model/node11.png")} />
  </Zoom>
</div>

<div style={{ textAlign: "justify" }}>
  Normal node is the default type with all the options available to configure
  while constant node sets the node value to a fixed figure.
</div>

### 2.2 Calculation Method

ValQ supports various calculation methods such as

<div style={{textAlign: 'justify'}} className="table-center">

|     | Method                        | Description                                                          |
| --- | ----------------------------- | -------------------------------------------------------------------- |
| 1   | Data Source                   | Gets the values directly from source data                            |
| 2   | Sum Children                  | Sums all the immediate child node values                             |
| 3   | Subtract Children             | Subtracts all the immediate child node values                        |
| 4   | Multiply Children             | Multiplies all the immediate child node values                       |
| 5   | Divide Children               | Divides all the immediate child node values                          |
| 6   | Formula                       | Calculates and applies the custom formula entered by the user        |
| 7   | Linked to Node                | The node value, properties and simulation are linked to another node |
| 8   | Template based on other nodes | Captures and applies the configuration from another node             |
| 9   | Manual                        | Enter the values manually                                            |

</div> <br />

> **Note** <br />
> On selecting Formula as Calculation Method and clicking on the formula field, you will be able to see a dropdown of the formulas that are supported. For a list of formulas that are available in ValQ, you can refer to the link <Link to={useBaseUrl("/faq/formula-list")}>Functions</Link>.

The Normal node type presents you with all the calculation methods as shown below.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Calculation Methods for Normal Node Type"
      src={useBaseUrl("/doc-images/model/node12.png")}
    />
  </Zoom>
  <div class="center"><p>Calculation Methods for Normal Node Type</p></div>
</div>

The Constant node type provides the following calculation methods

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Calculation Methods for Constant Node Type"
      src={useBaseUrl("/doc-images/model/node13.png")}
    />
  </Zoom>
  <div class="center"><p>Calculation Methods for Normal Node Type</p></div>
</div>

<div style={{textAlign: 'justify'}}>

Here's a <a href="https://valq.com/blogs/assigning-values-to-nodes-in-valq/" target="_blank">blog</a>
explaining Calculation Method with examples and another <a href="https://valq.com/blogs/3-methods-of-mapping-valq-nodes-to-data" target="_blank">blog</a>
discussing 3 methods of mapping ValQ nodes to data.

</div>

#### Source Key

<div style={{ textAlign: "justify" }}>
  The Source Key option gets displayed when the Calculation Method is selected
  as Data Source. Note that you shall select the Source Key that matches the
  node to get the correct value. The below image is an example that shows the
  Source Key with all the levels of category for quick identification and
  selection.
</div> <br />{" "}

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="Source Key" src={useBaseUrl("/doc-images/model/node14.png")} />
  </Zoom>
  <div class="center"><p>Source Key</p></div>
</div>

#### Template Nodes

A Template Node can be created with the help of an existing node. Add a new node and select it's **Calculation Method** as **Templated based on other node**. Now select the node you want to copy under **Node to use as a template**.
In the below example, the **North** branch has been created using **East** as a template.

<div class="center">
  <Zoom>
    <img
      alt="Template based on other node"
      src={useBaseUrl("/doc-images/model/node24.png")}
    />
  </Zoom>
  <p>Template based on other nodes</p>
</div>

<div class="center">
  <Zoom>
    <img alt="Template Node" src={useBaseUrl("/doc-images/model/node25.png")} />
  </Zoom>
  <p>Template Node</p>
</div>

### 2.3 Time Aggregation

<div style={{ textAlign: "justify" }}>
  Based on the Time period field added to the model, you can choose from a range
  of Time Aggregation options to get the values displayed on the node
  accordingly.
</div> <br />

<div style={{textAlign: 'justify'}} className="table-center">


|     | Time Aggregation        | Description                                                   |
| --- | ----------------------- | ------------------------------------------------------------- |
| 1   | Sum of Periods          | Adds all the period values                                    |
| 2   | Average                 | Calculates the average of the period values                   |
| 3   | Average Excluding Zeros | Calculates the average of the period values not having zero   |
| 4   | Formula                 | Calculates and applies the custom formula entered by the user |
| 4   | Last                    | Only displays the last period value of the node               |
| 5   | Cumulative              | Cumulates the period values of the node                       |

</div> <br />


The Normal node type presents the user with the Time Aggregation options as seen below.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img
      alt="Time Aggregation"
      src={useBaseUrl("/doc-images/model/node15.png")}
    />
  </Zoom>
  <div class="center"><p>Time Aggregation options</p></div>
</div>

> ** Note** <br /> The constant node type doesn't have Time Aggregation as the value is fixed

### 2.4 Desired Trend

<div style={{ textAlign: "justify" }}>
  The Desired Trend can be set as Increase or Decrease depending on the context
  of the Node. For instance, income has an increasing trend and expense has a
  decreasing trend.
</div> <br />

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="Desired Trend" src={useBaseUrl("/doc-images/model/node16.png")} />
  </Zoom>
  <div class="center"><p>Select the increase/decrease Desired Trend</p></div>
</div>

### 2.5 Value Range

<div style={{ textAlign: "justify" }}>
  Value Range helps you to assign Minimum and Maximum values for a node. This
  option comes in handy for setting up a threshold for a node to evaluate it's
  performance against the benchmark i.e. Constraint.
</div> <br />

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="Value Range" src={useBaseUrl("/doc-images/model/node17.png")} />
  </Zoom>
  <div class="center"><p>Value Range</p></div>
</div>

Click <Link to={useBaseUrl('simulation/navigation_panel#7-constraints')}>here</Link> for steps to add Constraints using an example.

### 2.6 Dynamic Children

<div style={{ textAlign: "justify" }}>
  Dynamic Children is available to create a new node that is a replicate of
  another existing node having Data Source as it's Calculation Method. The new
  node works like a Simple Model where you cannot configure the child nodes
  except for simulation.
</div>

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Dynamic Children from Data Source"
      src={useBaseUrl("/doc-images/model/node65.png")}
    />
  </Zoom>
  <div class="center"><p>Dynamic Children from Data Source</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  Dynamic Children Simulation has options to decide whether to allow simulation
  of child nodes. All allow simulation for all the child nodes, nodes w/o
  children allow simulation only for nodes without children i.e. nodes on the
  last level and none doesn't allow simulation for any of the nodes including
  the parent.
</div> <br />

The below example shows how to create Dynamic Children from Data Source.

<div style={{ textAlign: "justify" }}>
  First, we create a new node - Copy of Overall Result with the Calculation
  method as Data Source and 'East' node as Source Key. Here, we enable the
  option Dynamic Children from Data Source and choose None as Dynamic Children
  Simulation.
</div> <br />

As a result of the above configuration, you will see the screen as below image.

<div class="center">
  <Zoom>
    <img alt="New Tab" src={useBaseUrl("/doc-images/model/node64.png")} />
  </Zoom>
  <p>Dynamic Children added to model</p>
</div>

<div style={{ textAlign: "justify" }}>
  Now to be able to configure the child nodes of the node created using the
  option Dynamic Children from Data Source, you click on the magic wand
  available next to the top node. The entire ValQ model is now an Advanced Model
  as seen below.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="New Tab" src={useBaseUrl("/doc-images/model/node66.png")} />
  </Zoom>
  <p>Dynamic Children converted to advanced</p>
</div>

## 3. Display

<div style={{ textAlign: "justify" }}>
  In the Display Settings, you will be able to configure the display settings
  such as{" "}
  <Link to={useBaseUrl("model/node#node-display")}>Node display</Link> and{" "}
  <Link to={useBaseUrl("model/node#details-on-click")}>
    Details on Click.
  </Link>
</div>

The other setting options available under _Display_ options are [Value](#31-value), and [Composite Nodes](#32-composite-nodes).

First, let's look at Display

<div class="center">
  <Zoom>
    <img alt="Display" src={useBaseUrl("/doc-images/model/node26.png")} />
  </Zoom>
  <p>Display</p>
</div>

#### Node display

There are three display options to choose from and below is an example using the 'East' node.

**Show** - Displays the node as a normal node (default).

<div class="center">
  <Zoom>
    <img
      alt="Node Display set as Show"
      src={useBaseUrl("/doc-images/model/node-show.png")}
    />
  </Zoom>
  <p>Node Display set as Show</p>
</div>

**Derived** - Displays the node as being derived from the parent node denoted by the dotted line.

<div class="center">
  <Zoom>
    <img
      alt="Node Display set as Derived"
      src={useBaseUrl("/doc-images/model/node-derived.png")}
    />
  </Zoom>
  <p>Node Display set as Derived</p>
</div>

**Hidden** - Hides the node from the canvas. In the below example, the 'East' node is hidden from the canvas.

<div class="center">
  <Zoom>
    <img
      alt="Node Display set as Hidden"
      src={useBaseUrl("/doc-images/model/node-hide.png")}
    />
  </Zoom>
  <p>Node Display set as Hidden</p>
</div>

> ** Note** <br /> In the above examples, the Node Display changes only the display on canvas.
> Regardless of the Node Display settings, the nodes are available for configuration on the Navigation Panel.

#### Details on Click

<div style={{ textAlign: "justify" }}>
  Enabling Details on Click option helps you to see the node details on the
  pop-up screen. Click on the pencil icon as highlighted below to take a look at
  the node details.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt="Details on Click"
      src={useBaseUrl("/doc-images/model/node29.1.png")}
    />
  </Zoom>
  <p>Details on Click</p>
</div>

Node details of the 'East' node is seen below.

<div class="center">
  <Zoom>
    <img
      alt="Node details page"
      src={useBaseUrl("/doc-images/model/node29.2.png")}
    />
  </Zoom>
  <p>Node Details Page</p>
</div>

### 3.1 Value

Configure the following options under _Values_ with the following options:

1. [Scale](#i-scale)
1. [Value Decimal Places](#ii-value-decimal-places)
1. [Value Prefix and Value Suffix](#iii-value-prefix-and-value-suffix)

#### i. Scale

<div style={{ textAlign: "justify" }}>
  You can choose the scaling for the model from the drop down. For User Selected
  the scaling changes with{" "}
  <Link to={useBaseUrl("simulation/navigation_panel#4-value-display")}>
    Value Display
  </Link>{" "}
  selection.
</div>

<div class="center">
  <Zoom>
    <img alt="Scale" src={useBaseUrl("/doc-images/model/node30.png")} />
  </Zoom>
</div>

#### ii. Value Decimal Places

Choose the number of decimal places you want in the node value.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img
      alt="Value Decimal Places"
      src={useBaseUrl("/doc-images/model/node31.png")}
    />
  </Zoom>
</div>

#### iii. Value Prefix and Value Suffix

Value Prefix and Value Suffix options are used to add prefix and suffix like currency, units of your choice to the node value. In the below example, $ is added as Value Prefix and n is added as Value Suffix to 'East' node.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img
      alt="Value Prefix and Value Suffix"
      src={useBaseUrl("/doc-images/model/node32.png")}
    />
  </Zoom>
  <div class="center"><p>Value Prefix and Value Suffix</p></div>
</div>

<div class="center">
  <Zoom>
    <img
      alt="Value Prefix and Value Suffix on East node"
      src={useBaseUrl("/doc-images/model/node-prefix-sufix.png")}
    />
  </Zoom>
  <p>Value Prefix and Value Suffix on East node</p>
</div>

### 3.2 Composite Nodes

<div style={{ textAlign: "justify" }}>
  Composite Nodes help you to group up to 2 other nodes that are important to an
  existing node. This option is particularly useful when there are a large
  number of nodes in the model and you want to take a quick look at some other
  node that is an important metric.
</div>
<br />

<div class="center">
  <Zoom>
    <img
      alt="Composite Nodes"
      src={useBaseUrl("/doc-images/model/node33.png")}
    />
  </Zoom>
  <p>Composite Nodes</p>
</div>

In this example, we have added 'Chris Morris' and 'Lois Mitchell' nodes as Composite Node to the 'East' node.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Composite Nodes added to East node"
      src={useBaseUrl("/doc-images/model/node34.png")}
    />
  </Zoom>
  <div class="center"><p>Composite Nodes added to East node</p></div>
</div>

When the original node 'Chris Morris' is simulated, the same node added as the Composite Node to the 'East' node also gets simulated.

<div class="center">
  <Zoom>
    <img
      alt="Simulation effect on Composite Node"
      src={useBaseUrl("/doc-images/model/node36.png")}
    />
  </Zoom>
  <p>Simulation effect on Composite Node</p>
</div>

> The composite nodes do not affect the Table view structure of the Tree

:::important
Use the <Link to={useBaseUrl('simulation/navigation_panel#show-composite-nodes')}>Show Composite Values</Link> toggle in the Navigation Panel to show/hide these Composite Nodes.
:::

## 4. Simulation

:::note
Simulation is enabled only for the leaf nodes by default in a Simple Dynamic model.
:::

<div style={{ textAlign: "justify" }}>
  In the <b>Simulation</b> settings, you can configure simulation details
  such as selection of the Default Simulation Method and assigning the node
  for the Linked Simulation.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="Simulation" src={useBaseUrl("/doc-images/model/node38.png")} />
  </Zoom>
  <p>Simulation</p>
</div>

#### Enable Simulation

At first, you have the Enable Simulation option to enable/disable the simulation function for the node.

<div class="center">
  <Zoom>
    <img
      alt="Enable Simulation"
      src={useBaseUrl("/doc-images/model/node39.png")}
    />
  </Zoom>
  <p>Enable Simulation</p>
</div>

#### Default Method

Next, there are 4 simulation methods from which you can choose the Default Method of
simulation for the node.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img
      alt="Default Method"
      src={useBaseUrl("/doc-images/model/node40.png")}
    />
  </Zoom>
</div>

<div style={{ textAlign: "justify" }}>
  After selecting the simulation method, hover over the node to see the
  simulation slider on the node. Now you can click on the highlighted icon to
  get the tooltip showing the period values and the simulation method.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt="Change Default Method on node"
      src={useBaseUrl("/doc-images/model/leaf-node-simulation.png")}
    />
  </Zoom>
  <p>Simulation on the leaf node</p>
</div>

You can change the simulation method in the drop-down list as highlighted in the above image and perform simulation for quick analysis. 

By clicking the Edit option on the tooltip, you can view and edit the input
values for the simulation periods.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="Edit icon" src={useBaseUrl("/doc-images/model/node42.1.png")} />
  </Zoom>
  <div class="center"><p>Edit icon</p></div>
</div>

<div>
  <Zoom>
    <img
      alt="Manually edit simulation period values"
      src={useBaseUrl("/doc-images/model/node42.2.png")}
    />
  </Zoom>
</div>

<div class="center">
<p>Manually edit simulation period values</p>
</div>

Here's an example showing values of a node before and after simulation under each method:
<div class="center">
  <Zoom>
    <img alt="Simulation values" src={useBaseUrl("/doc-images/model/node-simulation-methods.png")}
    />
  </Zoom>
  <p>Simulation values following the simulation methods</p>
</div>

> Delete the simulation performed with another method from the drop-down to go back to the default method of simulation. 

## 5. Business Definition

<div style={{ textAlign: "justify" }}>
  Using this option, you will be able to configure the Business Definition
  details such as Description, Header, Footer and Technical Notes to the node.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt="Business Definition"
      src={useBaseUrl("/doc-images/model/node43.png")}
    />
  </Zoom>
  <p>Business Definition</p>
</div>

After configuration, you will be able to view the Business
Definitions details in the node details page as shown below.

<div class="center">
  <Zoom>
    <img
      alt="Business Definition on node details page"
      src={useBaseUrl("/doc-images/model/node44.png")}
    />
  </Zoom>
  <p>Business Definition on node details page</p>
</div>

## 6. Conditional Formatting

<div style={{ textAlign: "justify" }}>
  Conditional Formatting helps you to add a status bar to the nodes based on
  it's variance. The variance calculation can be formatted in the{" "}
  <Link to={useBaseUrl("model/settings#5-conditional-formatting")}>
    settings
  </Link>
  . This is done by applying alert thresholds and rules for the model at node level.
</div> <br />

<div style={{ textAlign: "justify" }}>
  Conditional Formatting has 3 different rules as seen below.
</div>

<div class="center">
  <Zoom>
    <img
      alt="Conditional Formatting"
      src={useBaseUrl("/doc-images/model/node45.png")}
    />
  </Zoom>
  <p>Conditional Formatting</p>
</div>

#### Global or Inherited Rule

<div style={{ textAlign: "justify" }}>
  Global or Inherited Rule applies a single rule for all the nodes in the model.
</div>

#### Custom Rule

<div style={{ textAlign: "justify" }}>
  Custom Rule option overwrites default or any inherited rule to the rule as per
  our preference. The Custom Rule option can be configured based on the variance
  percentage or value and it gets applied at the period level. Checking Apply to
  Descendants option applies the Custom Rule to the child nodes as well.
</div> <br />

Custom Rule is indicated by the icon (see Figure below) on the node in the Navigation Panel.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Custom Rule indicator"
      src={useBaseUrl("/doc-images/model/node50.png")}
    />
  </Zoom>
  <div class="center"><p>Custom Rule indicator</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  In the below example, we choose to apply the Custom Rule as Percentage and
  enabled the property Apply to Descendants. We set the threshold values as
  shown in the below Figure.
</div> <br />

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt="Custom Rule setting"
      src={useBaseUrl("/doc-images/model/node47.png")}
    />
  </Zoom>
  <div class="center"><p>Custom Rule setting</p></div>
</div>

After performing simulation, you can observe the following:

<div class="center">
  <Zoom>
    <img
      alt="Conditional Formatting on canvas"
      src={useBaseUrl("/doc-images/model/node48.png")}
      width={600}
      height={360}
    />
  </Zoom>
  <p>Conditional Formatting on canvas</p>
</div>

<div style={{textAlign: 'justify'}} className="table-center">


| Node        | FY variance | Threshold            | Status Bar |
| ----------- | ----------- | -------------------- | ---------- |
| Consumer    | (31%)       | Below: -15%          | Red        |
| Industrials | (14%)       | Between: -15% to -5% | Yellow     |
| East        | (2%)        | Between: -5% to 0%   | White      |
| Others      | 42%         | Above 0%             | Green      |

</div> <br />


<div style={{ textAlign: "justify" }}>
  Also, you can observe that the Descendant nodes - 'Consumer', 'Industrials'
  and 'Others' have been updated with the same threshold settings based on our
  configuration.
</div>

#### Hidden Rule

<div style={{ textAlign: "justify" }}>
  Hidden Rule can be used when you don't want to apply Conditional Formatting to
  the nodes.
</div>

## 7. Secondary KPIs

<div style={{ textAlign: "justify" }}>
  Secondary KPIs help the user to aggregate and visualize additional or
  alternate KPI values in the node widget. Specifically, in a model with two
  data series, these are the set of secondary metrics captured under the primary
  value of the node.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt="Primary and Secondary KPIs"
      src={useBaseUrl("/doc-images/SecKPI.1.png")}
    />
  </Zoom>
  <p>Primary and Secondary KPIs</p>
</div>

<div style={{ textAlign: "justify" }}>
  As a default, there are three secondary values displayed for a dual series of
  data in the following order
</div> <br />

1. Full Period Variance between baseline and comparison metric (in % and absolute values)
2. Baseline metric value for the first period in the series
3. Variance for the first period between baseline and comparison metric (in % and absolute values)

<div class="center">
  <Zoom>
    <img
      alt="Secondary KPIs"
      src={useBaseUrl("/doc-images/SecKPI.2.png")}
    />
  </Zoom>
  <p>Default Secondary KPIs</p>
</div>

<div style={{ textAlign: "justify" }}>
  Secondary KPI option lets users customize these secondary values or metric
  according to their preference.
</div> <br />

Users can achieve this using: <br />

i. <Link to={useBaseUrl('model/node#i-secondary-kpi-option-based-on-formulas')}>Secondary KPI option based on Formulas</Link> <br />
ii. <Link to={useBaseUrl('model/node#ii-secondary-kpi-option-based-on-template')}>Secondary KPI option based on Template</Link>

#### i. Secondary KPI option based on Formulas

<div style={{ textAlign: "justify" }}>
  In the below model screenshot, the user can display the data value from
  Operating Profit % and Operating Expense Ratio as Secondary KPI values to the
  TOP node - 'Operating Profit'.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIF.1.png")} />
  </Zoom>
  <p>Before applying formula based Secondary KPIs</p>
</div>

<div style={{ textAlign: "justify" }}>
  Under the 'Operating Profit' node setting's Secondary KPI option, you need to
  select the Formula button and fill in the label name and the custom formula.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIF.2.png")} />
  </Zoom>
  <p>Configuration for KPI 2</p>
</div>

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIF.3.png")} />
  </Zoom>
  <p>Configuration for KPI 3</p>
</div>

<div style={{ textAlign: "justify" }}>
  Upon completing, the user can see Operating Profit % and Ops expense ratio
  values displayed as Secondary KPI values to Operating profit.
</div> <br />

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIF.4.png")} />
  </Zoom>
  <div class="center"><p>Formula based Secondary KPI</p></div>
</div>

#### ii. Secondary KPI option based on Template

<div style={{ textAlign: "justify" }}>
  In the model, the user can display Contribution for each of the child nodes -
  Water, Beverages, and Others to their parent node - 'Gross Profit'. Users
  should define Contribution as a Formula in one of the nodes and call them out
  for Contribution calculation using the Template option at the other nodes.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIT.1.png")} />
  </Zoom>
  <p>Before applying template-based Secondary KPI</p>
</div>

<div style={{ textAlign: "justify" }}>
  In this example, the user can define the formula in the 'Water' node under the
  node setting's Secondary KPI by selecting the Formula button and defining the
  Custom Formula Upon completion, Contribution % is displayed as a Secondary
  value on the node widget.
</div>

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIT.2.png")} />
  </Zoom>
  <p>Configuration for formula based Secondary KPI</p>
</div>

<div style={{ textAlign: "justify" }}>
  To borrow this formula to other nodes, the user can select the Template
  option, and choose to display the same formula as the 'Water' node. Users can
  instantly see the corresponding Contribution % on the 'Beverage' node.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/SecKPIT.3.png")} />
  </Zoom>
  <p>Formula based Secondary KPI to be used as template</p>
</div>

### Show Secondary KPIs in Table view

Turn on/off the **Show KPIs** toggle next to the Settings.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/turn-on-kpi-tableview.png")} />
  </Zoom>
  <p>Secondary KPI in the table view</p>
</div>

## Expand/Collapse

<div style={{ textAlign: "justify" }}>
  The Expand/Collapse option located at the bottom of the left side panel can be
  used to show or hide the nodes of the model on the panel.
</div> <br />

The below image shows the expanded view on the panel

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img height="550" alt="Expand/collapse the nodes" src={useBaseUrl("/doc-images/model/node67.png")} />
  </Zoom>
  <p>Expand/collapse the nodes</p>
</div>

## Quick Editor in Node Tab

<div style={{ textAlign: "justify" }}>
  Using the Quick Editor option in the Node tab, you will be able to view the
  entire tree hierarchy in a Grid View. This option can be used to make changes
  to multiple nodes at a time.
</div> <br />

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node51.png")} />
  </Zoom>
  <div class="center"><p>Quick Editor options</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  In Quick Editor, you can also display or hide the node structure using the
  Expand and Collapse icons.
</div> <br />

The below Figure shows the expanded form of the Quick Editor.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/quick-editor-expanded.png")} />
  </Zoom>
  <p>Quick Editor - Expanded view</p>
</div>

The below Figure shows the collapsed form of the Quick Editor.

<div >
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/quick-editor-collapse.png")} />
  </Zoom>
  <div class="center"><p>Quick Editor - Collapsed view</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  In Grid View, you will be able to edit the nodes and save it so that the
  changes get reflected in the tree structure.
</div> <br />

<div style={{ textAlign: "justify" }}>
  You can edit properties like Formula, Calculation Method and Aggregation
  Method directly in the Grid view where it gets updated in the actual
  properties of nodes. In our example, you can view that the Calculation Method
  has been double-clicked for editing.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node58.png")} />
  </Zoom>
  <p>Calculation Method on Quick Editor</p>
</div>

<div style={{ textAlign: "justify" }}>
  The node search for the columns Linked Node, Linked Simulation Node and
  Weighted Average Node in the Data Grid will be in the drop-down list and the
  user can select the appropriate node from the same. In the below Figure, a
  node search for Linked Simulation Node has been made.
</div> <br />

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node59.png")} />
  </Zoom>
  <div class="center"><p>Linked Sim Node on Quick Editor</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  Similarly, the node search for the Source Key Column will be in a drop-down
  list showing the nodes from the assigned Data Source and you can select the
  appropriate node from the drop-down list.
</div> <br />

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node60.png")} />
  </Zoom>
  <div class="center"><p>Source Key on Quick Editor</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  You can observe that there's Business View information as a column and it
  displays the formula using node title instead of node ID when you select the
  Business View option.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node52.png")} />
  </Zoom>
  <p>Business View on Quick Editor</p>
</div>

### Manage Columns Settings

You can use the **Manage Columns** settings at the top right corner of the Quick Editor window to filter the columns.
The Manage Columns window classifies the node configuration settings similar to the settings available under **Model > Node > Edit Node** configuration window.

You can either "Select all" columns or expand each category and select the respective columns.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img height="450" alt="" src={useBaseUrl("/doc-images/model/manage-columns.png")} 
    />
  </Zoom>
   <div class="center"><p>List of columns dropdown</p></div>
</div>

You can import and export the data in the form of an XML file using the **Import from Excel** and **Export to Excel** buttons.

<div style={{ textAlign : "center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node55.png")} />
  </Zoom>
  <div class="center"><p>Import and Export buttons</p></div>
</div>

> **Note** <br /> The Export to Excel button is functional on the web
> version of Power BI, the file can be edited and then be imported using
> Import from Excel.

<div style={{ textAlign: "justify" }}>
  There is an option to lock the simulation for the nodes in the Quick Editor.
  The same function can be also done in the exported Excel File and the Excel
  file can be imported back in the Quick Editor to see the updates done for the
  locked simulation.
</div> <br />

The below Figure shows the Locked Simulation in the Quick Editor.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node61.png")} />
  </Zoom>
  <div class="center"><p>Simulation lock on Quick Editor</p></div>
</div>

<div style={{ textAlign: "justify" }}>
  The rows can be reordered for the child nodes which exist under a parent node
  or the child nodes can be moved to another parent node by way of drag and
  drop. The below Figure shows the Grid view before moving the 'Ryan Smith' node
  from 'Consumer' to 'Industrials'.
</div> <br />

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node62.png")} />
  </Zoom>
  <p>Existing hierarchy</p>
</div>

The below Figure shows the Quick Editor after changing the order.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/model/node63.png")} />
  </Zoom>
  <p>Parent change for node ‘Ryan Smith’</p>
</div>

