---
id: variance_analysis
title: Variance Analysis
sidebar_label: Variance Analysis
---

import useBaseUrl from "@docusaurus/useBaseUrl"; // Add to the top of the file below the front matter.
import Link from "@docusaurus/Link";
import Zoom from "react-medium-image-zoom";
import "react-medium-image-zoom/dist/styles.css";

Variance Analysis calculates variances against a benchmark for the KPIs to
  understand how it's performance impacts the business. ValQ's Variance Analysis
  helps compare the values of two or more data series for each of the nodes in
  the model and calculate variances - absolute and percentage for all the nodes.

Select the first option *Variance Analysis* from the **Analyze** drop-down menu.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/variance-analysis-tab.png")}
    />
  </Zoom>
  <p>Variance Analysis option</p>
</div>

Here's the Variance Analysis screen on ValQ

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/variance-analysis-main.png")} />
  </Zoom>
  <p>Variance Analysis</p>
</div>

## Pre-requisite

A ValQ model with Comparison series is needed to perform a Variance Analysis.

## Features of Variance Analysis

The Variance Analysis screen consists of two panels:

On the top, you will find a panel containing the features that help to build the Variance analysis report as per your needs.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/va-toolbar.png")}
    />
  </Zoom>
  <p>Variance Analysis menubar</p>
</div>

The other panel shows the Variance Analysis report that you have built based on the model and it's configuration.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/va-report.png")}
    />
  </Zoom>
  <p>Variance Analysis Report</p>
</div>

<div style={{ textAlign: "justify" }}>
  Now let's take a look at the contents of Variance Analysis and learn how to
  create a Variance Analysis report.
</div> <br />

Following are the features and steps to create a _Variance Analysis_ report:

1. [Set Base Series](#1-set-base-series)
1. [Choose Compared Series](#2-choose-compared-series)
1. [Select Period for Data Series](#3-select-period-for-data-series)
1. [Choose Time Range for report](#4-choose-time-range-for-report)
1. [Show/hide Absolute variance and % variance](#5-showhide-absolute-variance-and--variance)
1. [Show/hide Unit column](#6-showhide-unit-column)
1. [Download the report as excel](#7-download-the-report-as-excel)
1. [Include hidden nodes to report](#8-include-hidden-nodes-to-report)
1. [Search for a node on report](#9-search-for-a-node-on-report)
1. [Apply Filter to report](#10-apply-filter-to-report)
1. [Hide the features panel](#11-hide-the-features-panel)

## 1. Set Base Series

Base Series can be selected either from the available Data Series or Scenarios created under the Simulate tab.
Here, a Data Series - '2020 Actuals' is set as Base Series.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/base-series.png")} />
  </Zoom>
  <p>Selecting data series as the base series</p>
</div>

Instead, a Scenario that you have created in the Simulate tab can also be set as Base Series.
Here, a Scenario - 'Scenario 1' is set as Base Series.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/scenario-base-series.png")} />
  </Zoom>
  <p>Selecting a scenario as the base series</p>
</div>

## 2. Choose Compared Series

One or more Data Series can be chosen as Comparison Series.

Here, Data Series - '2020 Actuals' and '2020 Forecast' are chosen as Compared Series.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/comparison-series.png")} />
  </Zoom>
  <p>Select Comparison Series</p>
</div>

## 3. Select Period for Data Series

The period values of the base series and compared series for the purpose of Variance Analysis can be selected as described below.

### 3.1 Same Period for Base Series and Compared Series

Select a period from the drop-down to get the same period values of both series. In the below example, 'Apr' is selected from the drop-down. Variance Analysis is performed between April period values of 2020 Actuals and April period values of 2020 Forecast.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/time-period.png")} />
  </Zoom>
  <p>Time period selection for comparison series</p>
</div>

### 3.2 Custom Period for Base Series and Compared Series

To customize your selection, click on the Custom option from the drop-down and set different periods for the Base Series and Compared Series.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/analyze6.png")} />
  </Zoom>
  <p>Customized time period selection</p>
</div>

## 4. Choose Time Range for report

The time period for which Variance Analysis is performed can be set in the following ways:

### 4.1 Built-in Time Range

Choose the duration from the drop-down to specify the time range for which you
  would like to run the analysis. Here, you can select multiple time range like
  Full-year, Quarter, Year-to-date, etc. ValQ performs a Variance Analysis for
  every selected range.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/analyze7.png")} />
  </Zoom>
  <div class="center"><p>Built-in time range selection</p></div>
</div>

The time range - Periodic, Quarter, Full Year options have been selected as
  highlighted in the above image. The canvas displays the Variance Analysis
  report as below based on our selection. Analysis for Full Year can be seen as
  you slide on the canvas.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/fullyear-timerange.png")}
    />
  </Zoom>
  <p>Full-year time period analysis</p>
</div>

### 4.2 Add Custom Time Range

You can also add a Custom time range by selecting the custom option from the
  drop-down. The Custom time range can be selected along with other time ranges
  which is displayed at the end of the report.

Hover over the selection period(s) box to select the start month and the end month.

| Option    | Description                                 |
| --------- | ------------------------------------------- |
| **+Add**  | Add a new Custom time range                 |
| **Clear** | Clear the selection to make a new selection |
| **Apply** | Saves the selection as a Custom time range  |

Check the box to add the Custom selection to the report.

<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/analyze8.png")} />
  </Zoom>
  <p>Custom time period selection</p>
</div>

The Custom time range *Jan-Apr* has been set as shown in the above image. The
  canvas displays the Variance Analysis for the Custom time range as below.

<div style={{ textAlign: "center" }}>
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/custom-timeperiod.png")}
    />
  </Zoom>
  <div class="center"><p>Custom time period analysis report</p></div>
</div>

## 5. Show/hide Absolute variance and % variance

- Check the Absolute variance box to display variances in absolute terms
- Check the % variance box to add variances as a percentage.

ValQ adds the variances to all the nodes on the model for the selected time range. The positive variances are shown in green and the negative ones in red.
<div class="center">
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/analyze9.png")} />
  </Zoom>
  <p>Absolute and percentage variances</p>
</div>

## 6. Show/hide Unit column

The unit column is seen by default on Variance Analysis as below. To hide the column, un-check the unit to disable the feature.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/var-analysis-unit.png")}
    />
  </Zoom>
  <p>hide/un-hide node value units</p>
</div>

## 7. Download the report as excel

Download as Excel is used to download the Variance Analysis report as an excel file to your system.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze11.png")}
    />
  </Zoom>
  <p>Download the report as an excel sheet</p>
</div>

## 8. Include hidden nodes to report

Enable **Show hidden nodes** option to display the nodes that were hidden while building the model under the Model tab.

Here, the node 'East' and its children are hidden.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/node-hidden.png")}
    />
  </Zoom>
  <p>Enable the hidden nodes</p>
</div>

Check the *Show hidden nodes* option to display the 'East' node and its children. Note that the Overall Result remains the same.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/node-shown.png")}
    />
  </Zoom>
  <p>Hidden nodes now displayed</p>
</div>

> ** Note** <br /> On enabling Show hidden nodes option, the nodes stays hidden on the other tabs.

## 9. Search for a node in the report

Search for a particular node by its title as highlighted below. This feature can be used to identify a node when a model
has a large number of nodes.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze14.png")}
    />
  </Zoom>
  <p>Search for a node</p>
</div>

## 10. Apply Filter to report

Use the Filter option to analyze critical influencers.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img alt="" src={useBaseUrl("/doc-images/analyze/filter.png")} />
  </Zoom>
</div>

There are two types of filters:

**Filter by Parent**: This allows you to analyze variance for a specific branch within the model. For example, you may be interested in analyzing variance for a particular location or product.

**Filter by Variance**: This allows you to identify top ‘n’ analysis for categories showing the most variances for a particular period chosen from the drop-down.


> **Note** <br /> You have the option to display only positive variances or only negative variances or both

In this example, filter By Variance has been applied to filter the top 5 variances for the Full Year.

<div style={{ textAlign:"center" }}>
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze12.1.png")}
    />
  </Zoom>
  <div class="center"><p>Filter by Variance</p></div>
</div>

The below image shows the Variance Analysis for the top 5 variances for the full
  year. Observe the results to see both positive and negative variances. The
  Value Bar displays the filter that has been applied.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze12.2.png")}
    />
  </Zoom>
  <p>Report filtered by top 5 variances</p>
</div>

To remove the filter simply click on the 'X' next to the filter.

Here's the same filter with only negative variances. The report below shows the bottom 5 performers.

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze12.3.png")}
    />
  </Zoom>
  <p>Reports filtered with only negative variances</p>
</div>

## 11. Hide the features panel

<div style={{ textAlign: "justify" }}>
  Click on '^' to hide the features panel on the Variance Analysis screen. Hide
  the panel to take a clear look at the report and you can use this view as
  presentation mode.
</div> <br />

<div class="center">
  <Zoom>
    <img
      alt=""
      src={useBaseUrl("/doc-images/analyze/analyze13.png")}
    />
  </Zoom>
  <p>Hide the features panel</p>
</div>
